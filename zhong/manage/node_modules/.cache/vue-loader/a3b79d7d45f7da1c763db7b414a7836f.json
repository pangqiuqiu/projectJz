{"remainingRequest":"D:\\myCompany\\project\\aaa\\new\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\myCompany\\project\\aaa\\new\\src\\views\\information\\Details.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\myCompany\\project\\aaa\\new\\src\\views\\information\\Details.vue","mtime":1586694521732},{"path":"D:\\myCompany\\project\\aaa\\new\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\myCompany\\project\\aaa\\new\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\myCompany\\project\\aaa\\new\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\myCompany\\project\\aaa\\new\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEgKCkgew0KICAgIHJldHVybiB7DQogICAgICBvYmo6IHt9LA0KICAgICAgdGV4dGFyZWE6ICcnDQogICAgfQ0KICB9LA0KICBjcmVhdGVkICgpIHsNCiAgICAvLyDojrflj5botYTorq8NCiAgICB0aGlzLmdldEluZm9ybWF0aW9uKCkNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC8vIOiOt+WPlui1hOiurw0KICAgIGFzeW5jIGdldEluZm9ybWF0aW9uICgpIHsNCiAgICAgIGNvbnN0IGlkID0gdGhpcy4kcm91dGUucXVlcnkuaWQNCiAgICAgIGNvbnN0IHsgZGF0YTogcmVzIH0gPSBhd2FpdCB0aGlzLiRodHRwLnBvc3QoJy9JbmZvci9nZXRPbmVJbmZvcicsIHsNCiAgICAgICAgaWQ6IGlkLA0KICAgICAgICB0b2tlbjogd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykNCiAgICAgIH0pDQogICAgICB0aGlzLm9iaiA9IHJlcw0KICAgIH0sDQogICAgLy8g5LiK6aaW6aG1DQogICAgYXN5bmMgaG9tZSAoKSB7DQogICAgICBjb25zdCBpZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmlkDQogICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLiRodHRwLnBvc3QoJy9JbmZvci9ob21lJywgew0KICAgICAgICBpZDogaWQsDQogICAgICAgIHRva2VuOiB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKQ0KICAgICAgfSkNCiAgICAgIGlmIChyZXMuZGF0YSAhPT0gdHJ1ZSB8fCByZXMuc3RhdHVzICE9PSAyMDApIHsNCiAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgIG1lc3NhZ2U6ICfmk43kvZzlpLHotKUnLA0KICAgICAgICAgIHR5cGU6ICdlcnJvcicNCiAgICAgICAgfSkNCiAgICAgIH0NCiAgICAgIHRoaXMuJHJvdXRlci5nbygtMSkNCiAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICBtZXNzYWdlOiAn5pON5L2c5oiQ5YqfJywNCiAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnDQogICAgICB9KQ0KICAgIH0sDQogICAgLy8g5ouS57ud5LiK6aaW6aG1DQogICAgYXN5bmMgbm9ob21lICgpIHsNCiAgICAgIGlmICh0aGlzLnRleHRhcmVhLnRyaW0oKSA9PT0gJycgfHwgdGhpcy50ZXh0YXJlYS50cmltKCkubGVuZ3RoID4gNTApIHsNCiAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXmraPnoa7nmoTlrZfmlbAnLA0KICAgICAgICAgIHR5cGU6ICdlcnJvcicNCiAgICAgICAgfSkNCiAgICAgIH0NCiAgICAgIGNvbnN0IGlkID0gdGhpcy4kcm91dGUucXVlcnkuaWQNCiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuJGh0dHAucG9zdCgnL0luZm9yL2hvbWUyJywgew0KICAgICAgICBpZDogaWQsDQogICAgICAgIHRva2VuOiB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKSwNCiAgICAgICAgY2F1c2U6IHRoaXMudGV4dGFyZWEsDQogICAgICAgIHR5cGU6ICfkuIrpppbpobUnDQogICAgICB9KQ0KICAgICAgaWYgKHJlcy5kYXRhICE9PSB0cnVlIHx8IHJlcy5zdGF0dXMgIT09IDIwMCkgew0KICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgbWVzc2FnZTogJ+aTjeS9nOWksei0pScsDQogICAgICAgICAgdHlwZTogJ2Vycm9yJw0KICAgICAgICB9KQ0KICAgICAgfQ0KICAgICAgdGhpcy4kcm91dGVyLmdvKC0xKQ0KICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgIG1lc3NhZ2U6ICfmk43kvZzmiJDlip8nLA0KICAgICAgICB0eXBlOiAnc3VjY2VzcycNCiAgICAgIH0pDQogICAgfSwNCiAgICAvLyDlkIzmhI/kuIrnur8NCiAgICBhc3luYyBwYXNzMSAoKSB7DQogICAgICBjb25zdCBpZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmlkDQogICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLiRodHRwLnBvc3QoJy9JbmZvci9wYXNzJywgew0KICAgICAgICBpZDogaWQsDQogICAgICAgIHN0YXRlOiAn5bey5LiK57q/JywNCiAgICAgICAgdG9rZW46IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpDQogICAgICB9KQ0KICAgICAgaWYgKHJlcy5kYXRhICE9PSB0cnVlIHx8IHJlcy5zdGF0dXMgIT09IDIwMCkgew0KICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgbWVzc2FnZTogJ+aTjeS9nOWksei0pScsDQogICAgICAgICAgdHlwZTogJ2Vycm9yJw0KICAgICAgICB9KQ0KICAgICAgfQ0KICAgICAgdGhpcy4kcm91dGVyLmdvKC0xKQ0KICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgIG1lc3NhZ2U6ICfmk43kvZzmiJDlip8nLA0KICAgICAgICB0eXBlOiAnc3VjY2VzcycNCiAgICAgIH0pDQogICAgfSwNCiAgICAvLyDmi5Lnu53kuIrnur8NCiAgICBhc3luYyBwYXNzMiAoKSB7DQogICAgICBpZiAodGhpcy50ZXh0YXJlYS50cmltKCkgPT09ICcnIHx8IHRoaXMudGV4dGFyZWEudHJpbSgpLmxlbmd0aCA+IDUwKSB7DQogICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5q2j56Gu55qE5a2X5pWwJywNCiAgICAgICAgICB0eXBlOiAnZXJyb3InDQogICAgICAgIH0pDQogICAgICB9DQogICAgICBjb25zdCBpZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmlkDQogICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLiRodHRwLnBvc3QoJy9JbmZvci9wYXNzJywgew0KICAgICAgICBpZDogaWQsDQogICAgICAgIHN0YXRlOiAn5pyq6YCa6L+HJywNCiAgICAgICAgY2F1c2U6IHRoaXMudGV4dGFyZWEsDQogICAgICAgIHR5cGU6ICfkuIrpppbpobUnLA0KICAgICAgICB0b2tlbjogd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykNCiAgICAgIH0pDQogICAgICBpZiAocmVzLmRhdGEgIT09IHRydWUgfHwgcmVzLnN0YXR1cyAhPT0gMjAwKSB7DQogICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICBtZXNzYWdlOiAn5pON5L2c5aSx6LSlJywNCiAgICAgICAgICB0eXBlOiAnZXJyb3InDQogICAgICAgIH0pDQogICAgICB9DQogICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpDQogICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgbWVzc2FnZTogJ+aTjeS9nOaIkOWKnycsDQogICAgICAgIHR5cGU6ICdzdWNjZXNzJw0KICAgICAgfSkNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["Details.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Details.vue","sourceRoot":"src/views/information","sourcesContent":["<template>\r\n  <div>\r\n    <!-- 标题 -->\r\n    <h1>{{this.obj.title}}</h1>\r\n    <!-- 4s/作者/时间 -->\r\n    <div class=\"else\">\r\n      <div>{{this.obj.dealer}}</div>\r\n      <div class=\"username\">{{this.obj.username}}</div>\r\n      <div>{{this.obj.issueDate}}</div>\r\n    </div>\r\n    <!-- 正文 -->\r\n    <div class=\"wang\" v-html=\"this.obj.text\"></div>\r\n    <!-- 判断按钮 -->\r\n    <div class=\"btn\">\r\n      <el-button @click=\"pass1\" type=\"primary\" v-if=\"this.obj.btn === '0' || this.obj.btn === '1'\">通过上线</el-button>\r\n      <el-button @click=\"pass2\" type=\"primary\" v-if=\"this.obj.btn === '0' || this.obj.btn === '1'\">拒绝上线</el-button>\r\n      <el-button @click=\"home\" type=\"success\" v-if=\"this.obj.btn === '1' || this.obj.btn === '2'\">上首页</el-button>\r\n      <el-button @click=\"nohome\" type=\"success\" v-if=\"this.obj.btn === '1' || this.obj.btn === '2'\">拒绝上首页</el-button>\r\n    </div>\r\n    <!-- 拒绝原因 -->\r\n    <el-row :gutter=\"20\">\r\n      <el-col :span=\"12\" :offset=\"6\">\r\n        <textarea placeholder=\"请输入拒绝原因\" v-model=\"textarea\"></textarea>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      obj: {},\r\n      textarea: ''\r\n    }\r\n  },\r\n  created () {\r\n    // 获取资讯\r\n    this.getInformation()\r\n  },\r\n  methods: {\r\n    // 获取资讯\r\n    async getInformation () {\r\n      const id = this.$route.query.id\r\n      const { data: res } = await this.$http.post('/Infor/getOneInfor', {\r\n        id: id,\r\n        token: window.sessionStorage.getItem('token')\r\n      })\r\n      this.obj = res\r\n    },\r\n    // 上首页\r\n    async home () {\r\n      const id = this.$route.query.id\r\n      const res = await this.$http.post('/Infor/home', {\r\n        id: id,\r\n        token: window.sessionStorage.getItem('token')\r\n      })\r\n      if (res.data !== true || res.status !== 200) {\r\n        return this.$message({\r\n          message: '操作失败',\r\n          type: 'error'\r\n        })\r\n      }\r\n      this.$router.go(-1)\r\n      this.$message({\r\n        message: '操作成功',\r\n        type: 'success'\r\n      })\r\n    },\r\n    // 拒绝上首页\r\n    async nohome () {\r\n      if (this.textarea.trim() === '' || this.textarea.trim().length > 50) {\r\n        return this.$message({\r\n          message: '请输入正确的字数',\r\n          type: 'error'\r\n        })\r\n      }\r\n      const id = this.$route.query.id\r\n      const res = await this.$http.post('/Infor/home2', {\r\n        id: id,\r\n        token: window.sessionStorage.getItem('token'),\r\n        cause: this.textarea,\r\n        type: '上首页'\r\n      })\r\n      if (res.data !== true || res.status !== 200) {\r\n        return this.$message({\r\n          message: '操作失败',\r\n          type: 'error'\r\n        })\r\n      }\r\n      this.$router.go(-1)\r\n      this.$message({\r\n        message: '操作成功',\r\n        type: 'success'\r\n      })\r\n    },\r\n    // 同意上线\r\n    async pass1 () {\r\n      const id = this.$route.query.id\r\n      const res = await this.$http.post('/Infor/pass', {\r\n        id: id,\r\n        state: '已上线',\r\n        token: window.sessionStorage.getItem('token')\r\n      })\r\n      if (res.data !== true || res.status !== 200) {\r\n        return this.$message({\r\n          message: '操作失败',\r\n          type: 'error'\r\n        })\r\n      }\r\n      this.$router.go(-1)\r\n      this.$message({\r\n        message: '操作成功',\r\n        type: 'success'\r\n      })\r\n    },\r\n    // 拒绝上线\r\n    async pass2 () {\r\n      if (this.textarea.trim() === '' || this.textarea.trim().length > 50) {\r\n        return this.$message({\r\n          message: '请输入正确的字数',\r\n          type: 'error'\r\n        })\r\n      }\r\n      const id = this.$route.query.id\r\n      const res = await this.$http.post('/Infor/pass', {\r\n        id: id,\r\n        state: '未通过',\r\n        cause: this.textarea,\r\n        type: '上首页',\r\n        token: window.sessionStorage.getItem('token')\r\n      })\r\n      if (res.data !== true || res.status !== 200) {\r\n        return this.$message({\r\n          message: '操作失败',\r\n          type: 'error'\r\n        })\r\n      }\r\n      this.$router.go(-1)\r\n      this.$message({\r\n        message: '操作成功',\r\n        type: 'success'\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\nh1 {\r\n  font-size: 30px;\r\n  text-align: center;\r\n  margin-bottom: 20px;\r\n}\r\n.else {\r\n  display: flex;\r\n  justify-content: center;\r\n  color: #999;\r\n  .username {\r\n    margin: 0 20px;\r\n  }\r\n}\r\n.btn {\r\n  margin-top: 20px;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\ntextarea {\r\n  margin-top: 20px;\r\n  resize: none;\r\n  width: 100%;\r\n  height: 300px;\r\n}\r\n// 编辑器\r\n.wang {\r\n  table {\r\n    border-top: 1px solid #ccc;\r\n    border-left: 1px solid #ccc;\r\n  }\r\n  table td,\r\n  table th {\r\n    border-bottom: 1px solid #ccc;\r\n    border-right: 1px solid #ccc;\r\n    padding: 3px 5px;\r\n  }\r\n  table th {\r\n    border-bottom: 2px solid #ccc;\r\n    text-align: center;\r\n  }\r\n}\r\n</style>\r\n"]}]}