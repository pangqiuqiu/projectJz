{"remainingRequest":"D:\\myCompany\\project\\aaa\\new\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\myCompany\\project\\aaa\\new\\src\\views\\information\\Details.vue?vue&type=style&index=0&id=2c1339be&lang=less&scoped=true&","dependencies":[{"path":"D:\\myCompany\\project\\aaa\\new\\src\\views\\information\\Details.vue","mtime":1586498533983},{"path":"D:\\myCompany\\project\\aaa\\new\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\myCompany\\project\\aaa\\new\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\myCompany\\project\\aaa\\new\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\myCompany\\project\\aaa\\new\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\myCompany\\project\\aaa\\new\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\myCompany\\project\\aaa\\new\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KaDEgew0KICBmb250LXNpemU6IDMwcHg7DQogIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgbWFyZ2luLWJvdHRvbTogMjBweDsNCn0NCi5lbHNlIHsNCiAgZGlzcGxheTogZmxleDsNCiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7DQogIGNvbG9yOiAjOTk5Ow0KICAudXNlcm5hbWUgew0KICAgIG1hcmdpbjogMCAyMHB4Ow0KICB9DQp9DQouYnRuIHsNCiAgbWFyZ2luLXRvcDogMjBweDsNCiAgZGlzcGxheTogZmxleDsNCiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7DQp9DQp0ZXh0YXJlYSB7DQogIG1hcmdpbi10b3A6IDIwcHg7DQogIHJlc2l6ZTogbm9uZTsNCiAgd2lkdGg6IDEwMCU7DQogIGhlaWdodDogMzAwcHg7DQp9DQo="},{"version":3,"sources":["Details.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Details.vue","sourceRoot":"src/views/information","sourcesContent":["<template>\r\n  <div>\r\n    <!-- 标题 -->\r\n    <h1>{{this.obj.title}}</h1>\r\n    <!-- 4s/作者/时间 -->\r\n    <div class=\"else\">\r\n      <div>{{this.obj.dealer}}</div>\r\n      <div class=\"username\">{{this.obj.username}}</div>\r\n      <div>{{this.obj.issueDate}}</div>\r\n    </div>\r\n    <!-- 正文 -->\r\n    <div style=\"white-space: pre-wrap;\" v-html=\"this.obj.text\"></div>\r\n    <!-- 判断按钮 -->\r\n    <div class=\"btn\">\r\n      <el-button @click=\"pass1\" type=\"primary\" v-if=\"this.obj.btn === '0' || this.obj.btn === '1'\">通过上线</el-button>\r\n      <el-button @click=\"pass2\" type=\"primary\" v-if=\"this.obj.btn === '0' || this.obj.btn === '1'\">拒绝上线</el-button>\r\n      <el-button @click=\"home\" type=\"success\" v-if=\"this.obj.btn === '1' || this.obj.btn === '2'\">上首页</el-button>\r\n      <el-button @click=\"nohome\" type=\"success\" v-if=\"this.obj.btn === '1' || this.obj.btn === '2'\">拒绝上首页</el-button>\r\n    </div>\r\n    <!-- 拒绝原因 -->\r\n    <el-row :gutter=\"20\">\r\n      <el-col :span=\"12\" :offset=\"6\">\r\n        <textarea placeholder=\"请输入拒绝原因\" v-model=\"textarea\"></textarea>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      obj: {},\r\n      textarea: ''\r\n    }\r\n  },\r\n  created () {\r\n    // 获取资讯\r\n    this.getInformation()\r\n  },\r\n  methods: {\r\n    // 获取资讯\r\n    async getInformation () {\r\n      const id = this.$route.query.id\r\n      const { data: res } = await this.$http.post('/Infor/getOneInfor', {\r\n        id: id,\r\n        token: window.sessionStorage.getItem('token')\r\n      })\r\n      this.obj = res\r\n    },\r\n    // 上首页\r\n    async home () {\r\n      const id = this.$route.query.id\r\n      const res = await this.$http.post('/Infor/home', {\r\n        id: id,\r\n        token: window.sessionStorage.getItem('token')\r\n      })\r\n      if (res.data !== true || res.status !== 200) {\r\n        return this.$message({\r\n          message: '操作失败',\r\n          type: 'error'\r\n        })\r\n      }\r\n      this.$router.go(-1)\r\n      this.$message({\r\n        message: '操作成功',\r\n        type: 'success'\r\n      })\r\n    },\r\n    // 拒绝上首页\r\n    async nohome () {\r\n      if (this.textarea.trim() === '' || this.textarea.trim().length > 50) {\r\n        return this.$message({\r\n          message: '请输入正确的字数',\r\n          type: 'error'\r\n        })\r\n      }\r\n      const id = this.$route.query.id\r\n      const res = await this.$http.post('/Infor/home2', {\r\n        id: id,\r\n        token: window.sessionStorage.getItem('token'),\r\n        cause: this.textarea,\r\n        type: '上首页'\r\n      })\r\n      if (res.data !== true || res.status !== 200) {\r\n        return this.$message({\r\n          message: '操作失败',\r\n          type: 'error'\r\n        })\r\n      }\r\n      this.$router.go(-1)\r\n      this.$message({\r\n        message: '操作成功',\r\n        type: 'success'\r\n      })\r\n    },\r\n    // 同意上线\r\n    async pass1 () {\r\n      const id = this.$route.query.id\r\n      const res = await this.$http.post('/Infor/pass', {\r\n        id: id,\r\n        state: '已上线',\r\n        token: window.sessionStorage.getItem('token')\r\n      })\r\n      if (res.data !== true || res.status !== 200) {\r\n        return this.$message({\r\n          message: '操作失败',\r\n          type: 'error'\r\n        })\r\n      }\r\n      this.$router.go(-1)\r\n      this.$message({\r\n        message: '操作成功',\r\n        type: 'success'\r\n      })\r\n    },\r\n    // 拒绝上线\r\n    async pass2 () {\r\n      if (this.textarea.trim() === '' || this.textarea.trim().length > 50) {\r\n        return this.$message({\r\n          message: '请输入正确的字数',\r\n          type: 'error'\r\n        })\r\n      }\r\n      const id = this.$route.query.id\r\n      const res = await this.$http.post('/Infor/pass', {\r\n        id: id,\r\n        state: '未通过',\r\n        cause: this.textarea,\r\n        type: '上首页',\r\n        token: window.sessionStorage.getItem('token')\r\n      })\r\n      if (res.data !== true || res.status !== 200) {\r\n        return this.$message({\r\n          message: '操作失败',\r\n          type: 'error'\r\n        })\r\n      }\r\n      this.$router.go(-1)\r\n      this.$message({\r\n        message: '操作成功',\r\n        type: 'success'\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\nh1 {\r\n  font-size: 30px;\r\n  text-align: center;\r\n  margin-bottom: 20px;\r\n}\r\n.else {\r\n  display: flex;\r\n  justify-content: center;\r\n  color: #999;\r\n  .username {\r\n    margin: 0 20px;\r\n  }\r\n}\r\n.btn {\r\n  margin-top: 20px;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\ntextarea {\r\n  margin-top: 20px;\r\n  resize: none;\r\n  width: 100%;\r\n  height: 300px;\r\n}\r\n</style>\r\n"]}]}