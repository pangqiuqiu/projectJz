{"remainingRequest":"D:\\myCompany\\project\\aaa\\new\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\myCompany\\project\\aaa\\new\\src\\views\\staff\\User.vue?vue&type=style&index=0&id=71249b58&scoped=true&lang=css&","dependencies":[{"path":"D:\\myCompany\\project\\aaa\\new\\src\\views\\staff\\User.vue","mtime":1584518239905},{"path":"D:\\myCompany\\project\\aaa\\new\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\myCompany\\project\\aaa\\new\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\myCompany\\project\\aaa\\new\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\myCompany\\project\\aaa\\new\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\myCompany\\project\\aaa\\new\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0K44CA44CALmltZ2JveHsNCuOAgOOAgOOAgOOAgHdpZHRoOjIwMHB4Ow0K44CA44CA44CA44CAaGVpZ2h0OjIwMHB4Ow0K44CA44CA44CA44CAbWFyZ2luOjAgYXV0bzsNCuOAgOOAgOOAgOOAgGJvcmRlcjogMXB4IHNvbGlkICMwZjA7DQrjgIDjgIB9DQrjgIDjgIAudGV4dHN7DQrjgIDjgIDjgIDjgIB3aWR0aDoxMDAlOw0K44CA44CA44CA44CAbWFyZ2luOjEwcHggMCAwOw0K44CA44CA44CA44CAdGV4dC1hbGlnbjogY2VudGVyOw0K44CA44CAfQ0K44CA44CALnVwYm94ew0K44CA44CA44CA44CAd2lkdGg6MTAwJTsNCuOAgOOAgOOAgOOAgG1hcmdpbjowIGF1dG87DQrjgIDjgIDjgIDjgIB0ZXh0LWFsaWduOiBjZW50ZXI7DQrjgIDjgIB9DQrjgIDjgIAuYXV0by1pbWd7DQrjgIDjgIDjgIDjgIBkaXNwbGF5OiBibG9jazsNCuOAgOOAgOOAgOOAgHdpZHRoOjEwMCU7DQrjgIDjgIB9DQrjgIDjgIAudXBsb2Fkew0K44CA44CA44CA44CAbWFyZ2luOjMwcHggMDsNCuOAgOOAgH0NCuOAgOOAgC5ib3gxew0K44CA44CA44CA44CAd2lkdGg6MTAwJTsNCuOAgOOAgH0NCg=="},{"version":3,"sources":["User.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"User.vue","sourceRoot":"src/views/staff","sourcesContent":["<template>\r\n　　<div>\r\n　　　　<Row>\r\n　　　　　　<Col :sm=\"24\" :md=\"24\" lg:=\"24\">\r\n　　　　　　　　<form id=\"myForm\" enctype=\"multipart/form-data\" name=\"fileinfo\" action=\"\" target=\"uploadFrame\">  //这里设置目标为iframe的name,这样提交表单数据的时候就不会刷新页面\r\n　　　　　　　　　　<div class=\"img-file\">\r\n　　　　　　　　　　　　<label>请选择上传的文件:</label>\r\n　　　　　　　　　　　　<input @change='changeImg' id='imgFile' type='file'/>\r\n　　　　　　　　　　　　<!-- <input id=\"submit\" type=\"submit\" value=\"确认上传\" /> -->\r\n　　　　　　　　　　</div>\r\n　　　　　　　　</form>\r\n　　　　　　　　<iframe id=\"uploadFrame\" name=\"uploadFrame\" style=\"display:none;\"></iframe>  //解决form表单提交数据刷新问题\r\n\r\n　　　　　　　　<!-- 展示服务器返回的图片 -->\r\n　　　　　　　　<div class=\"box1\">\r\n　　　　　　　　　　<div class=\"imgbox\">\r\n　　　　　　　　　　　　<img class=\"auto-img\" :src='srcs' :id='ids'/>\r\n　　　　　　　　　　</div>\r\n　　　　　　　　　　<div class=\"texts\" :dates=\"dates\">{{dates}}</div>\r\n　　　　　　　　</div>\r\n　　　　　　</Col>\r\n　　　　</Row>\r\n　　</div>\r\n</template>\r\n\r\n<script>\r\n　　import Cookies from 'js-cookie';\r\n　　import axios from 'axios';\r\n　　import qs from 'qs';\r\n　　export default{\r\n　　　　data(){\r\n　　　　　　return{\r\n　　　　　　　　//默认图片地址，地址通过动态修改\r\n　　　　　　　　srcs: 'http://test.laihaiqiang.com/image/timg.jpg', \r\n　　　　　　　　// 图片id ，为了避免和标签的id冲突，尽量使用别称，如id1,ida等。\r\n　　　　　　　　ids: 0,\r\n　　　　　　　　// 创建时间\r\n　　　　　　　　dates: '',\r\n\r\n　　　　　　　　//文件\r\n　　　　　　　　file: null,\r\n　　　　　　}\r\n　　　　},\r\n　　　　methods:{\r\n　　　　　　changeImg(){\r\n　　　　　　　　var that = this;  //这里使用一个变量 that来拼接this,这样的话在内部就使用thar,在外部就使用this,这样就不会出现指向丢失问题。\r\n　　　　　　　　var file = document.getElementById(\"imgFile\").files[0]; //获取文件\r\n　　　　　　　　that.file = file; 　//获取data里面的预设默认file,并把获取到的文件赋给它 \r\n　　　　　　　　var ids = this.ids; //获取ata里面的id\r\n\r\n　　　　　　　　var formData = new FormData(); //构造一个 FormData，把后台需要发送的参数添加到FormData里面，这样就可以直接把formData作为参数传递了\r\n　　　　　　　　if (file) {\r\n　　　　　　　　　　formData.append(\"access_token\", Cookies.get('Admin-Token')); //接口需要传递的参数\r\n　　　　　　　　　　formData.append(\"img\", file);　　　//接口需要传递的参数\r\n　　　　　　　　　　formData.append(\"id\", ids);　　　　//接口需要传递的参数\r\n　　　　　　　　}\r\n\r\n　　　　　　　　let potss = formData;\r\n　　　　　　　　let urls = 'http://...........................';   //数据接口\r\n　　　　　　　　axios.post(urls, potss)\r\n　　　　　　　　.then(function(reh){\r\n　　　　　　　　　　console.log('rehsdddddd===>>>', reh);\r\n　　　　　　　　})\r\n　　　　　　　　.catch(function(err){\r\n　　　　　　　　　　console.log('err=ssss=>>', err);\r\n　　　　　　　　})\r\n　　　　　　},\r\n　　　　},\r\n　　　　created : function(){\r\n　　　　　　var that = this;\r\n　　　　　　console.log('1234567890987654321 ==> ', this.file);\r\n　　　　　　let postToken = qs.stringify({\r\n　　　　　　　access_token : Cookies.get('Admin-Token'),\r\n　　　　　　})\r\n　　　　　　let api = 'http://.....................................................';\r\n　　　　　　axios.post(api, postToken)\r\n　　　　　　.then(function(res){\r\n　　　　　　　　console.log('resss===>>>', res);\r\n　　　　　　　　console.log('code===>>>', res.data.code);\r\n　　　　　　　　console.log('message===>>>', res.data.message);\r\n　　　　　　　　console.log('logo图片地址==>>', res.data.data.img_url);\r\n　　　　　　　　console.log('logo图片id==>>', res.data.data.id);\r\n　　　　　　　　console.log('logo图片创建日期==>>', res.data.data.create_time);\r\n\r\n　　　　　　　　// 修改图片的路径\r\n　　　　　　　　that.srcs = res.data.data.img_url;\r\n　　　　　　　　//图片创建时间\r\n　　　　　　　　if(res.data.data.create_time == '' || res.data.data.create_time == null){\r\n　　　　　　　　　　that.dates = '';\r\n　　　　　　　　}else{\r\n　　　　　　　　　　that.dates = '添加时间：' + res.data.data.create_time;\r\n　　　　　　　　}\r\n　　　　　　　　//图片id\r\n　　　　　　　　that.ids = res.data.data.id;\r\n\r\n　　　　　　})\r\n　　　　　　.catch(function(err){\r\n　　　　　　　　console.log('err=ssss=>>', err);\r\n　　　　　　})\r\n　　　　}\r\n　　}\r\n</script>\r\n\r\n<style scoped>\r\n　　.imgbox{\r\n　　　　width:200px;\r\n　　　　height:200px;\r\n　　　　margin:0 auto;\r\n　　　　border: 1px solid #0f0;\r\n　　}\r\n　　.texts{\r\n　　　　width:100%;\r\n　　　　margin:10px 0 0;\r\n　　　　text-align: center;\r\n　　}\r\n　　.upbox{\r\n　　　　width:100%;\r\n　　　　margin:0 auto;\r\n　　　　text-align: center;\r\n　　}\r\n　　.auto-img{\r\n　　　　display: block;\r\n　　　　width:100%;\r\n　　}\r\n　　.upload{\r\n　　　　margin:30px 0;\r\n　　}\r\n　　.box1{\r\n　　　　width:100%;\r\n　　}\r\n</style>"]}]}