{"remainingRequest":"D:\\myCompany\\project\\aaa\\new\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\myCompany\\project\\aaa\\new\\src\\components\\editor\\Wangeditor.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\myCompany\\project\\aaa\\new\\src\\components\\editor\\Wangeditor.vue","mtime":1586752225079},{"path":"D:\\myCompany\\project\\aaa\\new\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\myCompany\\project\\aaa\\new\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\myCompany\\project\\aaa\\new\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\myCompany\\project\\aaa\\new\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgRSBmcm9tICd3YW5nZWRpdG9yJw0KZXhwb3J0IGRlZmF1bHQgew0KICBkYXRhICgpIHsNCiAgICByZXR1cm4gew0KICAgICAgZWRpdG9yOiBudWxsLA0KICAgICAgZWRpdG9yQ29udGVudDogJycsDQogICAgICB1cGxvYWQ6ICcvdXBkYXRhL3VwZGF0YTInDQogICAgfQ0KICB9LA0KICAvLyBjYXRjaERhdGHmmK/kuIDkuKrnsbvkvLzlm57osIPlh73mlbDvvIzmnaXoh6rniLbnu4Tku7bvvIzlvZPnhLbkuZ/lj6/ku6Xoh6rlt7HlhpnkuIDkuKrlh73mlbDvvIzkuLvopoHmmK/nlKjmnaXojrflj5blr4zmlofmnKznvJbovpHlmajkuK3nmoRodG1s5YaF5a6555So5p2l5Lyg6YCS57uZ5pyN5Yqh56uvDQogIC8vIHByb3BzOiBbJ2NhdGNoRGF0YSddLCAvLyDmjqXmlLbniLbnu4Tku7bnmoTmlrnms5UNCiAgbW91bnRlZCAoKSB7DQogICAgdGhpcy5lZGl0b3IgPSBuZXcgRSh0aGlzLiRyZWZzLmVkaXRvck1lbnUsIHRoaXMuJHJlZnMuZWRpdG9yRWxlbSkNCiAgICAvLyDkuIrkvKDmnKzlnLBiYXNlNjTmoLzlvI/lm77niYcNCiAgICAvLyB0aGlzLmVkaXRvci5jdXN0b21Db25maWcudXBsb2FkSW1nU2hvd0Jhc2U2NCA9IHRydWUNCiAgICAvLyDnvJbovpHlmajnmoTkuovku7bvvIzmr4/mrKHmlLnlj5jkvJrojrflj5blhbZodG1s5YaF5a65DQogICAgdGhpcy5lZGl0b3IuY3VzdG9tQ29uZmlnLm9uY2hhbmdlID0gaHRtbCA9PiB7DQogICAgICB0aGlzLmVkaXRvckNvbnRlbnQgPSBodG1sDQogICAgICB0aGlzLiRlbWl0KCdmdW5jJywgdGhpcy5lZGl0b3JDb250ZW50KQ0KICAgICAgLy8gdGhpcy5jYXRjaERhdGEodGhpcy5lZGl0b3JDb250ZW50KSAvLyDmiorov5nkuKpodG1s6YCa6L+HY2F0Y2hEYXRh55qE5pa55rOV5Lyg5YWl54i257uE5Lu2DQogICAgfQ0KICAgIC8vIOWbvueJh+S4iuS8oA0KICAgIHRoaXMuZWRpdG9yLmN1c3RvbUNvbmZpZy51cGxvYWRJbWdNYXhTaXplID0gMiAqIDEwMjQgKiAxMDI0DQogICAgdGhpcy5lZGl0b3IuY3VzdG9tQ29uZmlnLnVwbG9hZEltZ1NlcnZlciA9ICdodHRwOi8vMzkuMTAwLjE1Ni4xMjU6ODA5MS91cGxvYWQvdXBsb2FkMycgLy8g5Zu+54mH5LiK5Lyg5Zyw5Z2ADQogICAgdGhpcy5lZGl0b3IuY3VzdG9tQ29uZmlnLnVwbG9hZEZpbGVOYW1lID0gImltYWdlX2RhdGEiIC8vIOWbvueJh+S4iuS8oOWQjeensA0KICAgIHRoaXMuZWRpdG9yLmN1c3RvbUNvbmZpZy5kZWJ1ZyA9IHRydWUNCiAgICB0aGlzLmVkaXRvci5jdXN0b21Db25maWcudXBsb2FkSW1nSG9va3MgPSB7DQogICAgICBjdXN0b21JbnNlcnQ6IGZ1bmN0aW9uIChpbnNlcnRJbWcsIHJlc3VsdCwgZWRpdG9yKSB7DQogICAgICAgIC8vIOWbvueJh+S4iuS8oOW5tui/lOWbnue7k+aenO+8jOiHquWumuS5ieaPkuWFpeWbvueJh+eahOS6i+S7tu+8iOiAjOS4jeaYr+e8lui+keWZqOiHquWKqOaPkuWFpeWbvueJh++8ge+8ge+8ge+8iQ0KICAgICAgICAvLyBpbnNlcnRJbWcg5piv5o+S5YWl5Zu+54mH55qE5Ye95pWw77yMZWRpdG9yIOaYr+e8lui+keWZqOWvueixoe+8jHJlc3VsdCDmmK/mnI3liqHlmajnq6/ov5Tlm57nmoTnu5PmnpwNCiAgICAgICAgLy8g5Li+5L6L77ya5YGH5aaC5LiK5Lyg5Zu+54mH5oiQ5Yqf5ZCO77yM5pyN5Yqh5Zmo56uv6L+U5Zue55qE5pivIHt1cmw6Jy4uLi4nfSDov5nnp43moLzlvI/vvIzljbPlj6/ov5nmoLfmj5LlhaXlm77niYcNCiAgICAgICAgY29uc3QgdXJsID0gcmVzdWx0LnVybA0KICAgICAgICB1cmwuZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgICBpbnNlcnRJbWcoaXRlbSkNCiAgICAgICAgfSkNCiAgICAgICAgLy8gcmVzdWx0IOW/hemhu+aYr+S4gOS4qiBKU09OIOagvOW8j+Wtl+espuS4su+8ge+8ge+8geWQpuWImeaKpemUmQ0KICAgICAgfQ0KICAgIH0NCiAgICB0aGlzLmVkaXRvci5jdXN0b21Db25maWcubWVudXMgPSBbDQogICAgICAvLyDoj5zljZXphY3nva4NCiAgICAgICdoZWFkJywgLy8g5qCH6aKYDQogICAgICAnYm9sZCcsIC8vIOeyl+S9kw0KICAgICAgJ2ZvbnRTaXplJywgLy8g5a2X5Y+3DQogICAgICAnZm9udE5hbWUnLCAvLyDlrZfkvZMNCiAgICAgICdpdGFsaWMnLCAvLyDmlpzkvZMNCiAgICAgICd1bmRlcmxpbmUnLCAvLyDkuIvliJLnur8NCiAgICAgICdzdHJpa2VUaHJvdWdoJywgLy8g5Yig6Zmk57q/DQogICAgICAnZm9yZUNvbG9yJywgLy8g5paH5a2X6aKc6ImyDQogICAgICAnYmFja0NvbG9yJywgLy8g6IOM5pmv6aKc6ImyDQogICAgICAnbGluaycsIC8vIOaPkuWFpemTvuaOpQ0KICAgICAgLy8gJ2xpc3QnLCAvLyDliJfooagNCiAgICAgICdqdXN0aWZ5JywgLy8g5a+56b2Q5pa55byPDQogICAgICAncXVvdGUnLCAvLyDlvJXnlKgNCiAgICAgIC8vICdlbW90aWNvbicsIC8vIOihqOaDhQ0KICAgICAgJ2ltYWdlJywgLy8g5o+S5YWl5Zu+54mHDQogICAgICAndGFibGUnLCAvLyDooajmoLwNCiAgICAgICdjb2RlJywgLy8g5o+S5YWl5Luj56CBDQogICAgICAndW5kbycsIC8vIOaSpOmUgA0KICAgICAgJ3JlZG8nIC8vIOmHjeWkjQ0KICAgIF0NCiAgICAvLyDotoXpk77mjqXpqozor4ENCiAgICB0aGlzLmVkaXRvci5jdXN0b21Db25maWcubGlua0NoZWNrID0gZnVuY3Rpb24gKHRleHQsIGxpbmspIHsNCiAgICBpZiAobGluayAhPT0gIiIpIHsNCiAgICAgIGNvbnN0IHJlZyA9IC8oaHR0cHxmdHB8aHR0cHMpOlwvXC9bXHdcLV9dKyhcLltcd1wtX10rKSsoW1x3XC1cLixAP149JSY6L35cKyNdKltcd1wtXEA/Xj0lJi9+XCsjXSk/Lw0KICAgICAgICBpZiAoIXJlZy50ZXN0KGxpbmspKSB7DQogICAgICAgICAgcmV0dXJuICfor7fovpPlhaXmraPnoa7nmoTnvZHlnYAo5L6L5aaCIGh0dHA6Ly9iYWlkdS5jb20pJw0KICAgICAgICB9IGVsc2V7DQogICAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0NCiAgICB0aGlzLmVkaXRvci5jcmVhdGUoKSAvLyDliJvlu7rlr4zmlofmnKzlrp7kvosNCiAgfQ0KfQ0K"},{"version":3,"sources":["Wangeditor.vue"],"names":[],"mappings":";;;;;;;;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Wangeditor.vue","sourceRoot":"src/components/editor","sourcesContent":["<template>\r\n  <div id=\"wangeditor\">\r\n    <div class=\"one\" style=\"color: #333\">注: 富文本编辑器中单张图片大小不超过2M, 否则无法上传</div>\r\n    <div ref=\"editorMenu\" style=\"width: 1000px;border:1px solid #ccc;\"></div>\r\n    <div class=\"editorElem\" ref=\"editorElem\" style=\"text-align: left; width: 1000px; height: 500px; border:1px solid #ccc;\"></div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport E from 'wangeditor'\r\nexport default {\r\n  data () {\r\n    return {\r\n      editor: null,\r\n      editorContent: '',\r\n      upload: '/updata/updata2'\r\n    }\r\n  },\r\n  // catchData是一个类似回调函数，来自父组件，当然也可以自己写一个函数，主要是用来获取富文本编辑器中的html内容用来传递给服务端\r\n  // props: ['catchData'], // 接收父组件的方法\r\n  mounted () {\r\n    this.editor = new E(this.$refs.editorMenu, this.$refs.editorElem)\r\n    // 上传本地base64格式图片\r\n    // this.editor.customConfig.uploadImgShowBase64 = true\r\n    // 编辑器的事件，每次改变会获取其html内容\r\n    this.editor.customConfig.onchange = html => {\r\n      this.editorContent = html\r\n      this.$emit('func', this.editorContent)\r\n      // this.catchData(this.editorContent) // 把这个html通过catchData的方法传入父组件\r\n    }\r\n    // 图片上传\r\n    this.editor.customConfig.uploadImgMaxSize = 2 * 1024 * 1024\r\n    this.editor.customConfig.uploadImgServer = 'http://39.100.156.125:8091/upload/upload3' // 图片上传地址\r\n    this.editor.customConfig.uploadFileName = \"image_data\" // 图片上传名称\r\n    this.editor.customConfig.debug = true\r\n    this.editor.customConfig.uploadImgHooks = {\r\n      customInsert: function (insertImg, result, editor) {\r\n        // 图片上传并返回结果，自定义插入图片的事件（而不是编辑器自动插入图片！！！）\r\n        // insertImg 是插入图片的函数，editor 是编辑器对象，result 是服务器端返回的结果\r\n        // 举例：假如上传图片成功后，服务器端返回的是 {url:'....'} 这种格式，即可这样插入图片\r\n        const url = result.url\r\n        url.forEach(item => {\r\n          insertImg(item)\r\n        })\r\n        // result 必须是一个 JSON 格式字符串！！！否则报错\r\n      }\r\n    }\r\n    this.editor.customConfig.menus = [\r\n      // 菜单配置\r\n      'head', // 标题\r\n      'bold', // 粗体\r\n      'fontSize', // 字号\r\n      'fontName', // 字体\r\n      'italic', // 斜体\r\n      'underline', // 下划线\r\n      'strikeThrough', // 删除线\r\n      'foreColor', // 文字颜色\r\n      'backColor', // 背景颜色\r\n      'link', // 插入链接\r\n      // 'list', // 列表\r\n      'justify', // 对齐方式\r\n      'quote', // 引用\r\n      // 'emoticon', // 表情\r\n      'image', // 插入图片\r\n      'table', // 表格\r\n      'code', // 插入代码\r\n      'undo', // 撤销\r\n      'redo' // 重复\r\n    ]\r\n    // 超链接验证\r\n    this.editor.customConfig.linkCheck = function (text, link) {\r\n    if (link !== \"\") {\r\n      const reg = /(http|ftp|https):\\/\\/[\\w\\-_]+(\\.[\\w\\-_]+)+([\\w\\-\\.,@?^=%&:/~\\+#]*[\\w\\-\\@?^=%&/~\\+#])?/\r\n        if (!reg.test(link)) {\r\n          return '请输入正确的网址(例如 http://baidu.com)'\r\n        } else{\r\n          return true\r\n        }\r\n      }\r\n    }\r\n    this.editor.create() // 创建富文本实例\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n#wangeditor {\r\n  margin-top: 20px;\r\n  .one {\r\n    margin-bottom: 10px;\r\n  }\r\n}\r\n.editorElem {\r\n  table {\r\n    width: 100%;\r\n  }\r\n}\r\n</style>\r\n"]}]}