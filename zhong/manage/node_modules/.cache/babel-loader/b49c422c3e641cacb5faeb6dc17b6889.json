{"remainingRequest":"D:\\myCompany\\project\\aaa\\new\\node_modules\\babel-loader\\lib\\index.js!D:\\myCompany\\project\\aaa\\new\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\myCompany\\project\\aaa\\new\\src\\store\\index.js","dependencies":[{"path":"D:\\myCompany\\project\\aaa\\new\\src\\store\\index.js","mtime":1584426045858},{"path":"D:\\myCompany\\project\\aaa\\new\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\myCompany\\project\\aaa\\new\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\myCompany\\project\\aaa\\new\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiRDpcXG15Q29tcGFueVxccHJvamVjdFxcYWFhXFxuZXdcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVleCBmcm9tICd2dWV4JzsKaW1wb3J0IENvb2tpZSBmcm9tICdqcy1jb29raWUnOwpWdWUudXNlKFZ1ZXgpOwpleHBvcnQgZGVmYXVsdCBuZXcgVnVleC5TdG9yZSh7CiAgc3RhdGU6IHsKICAgIG1lbnU6IFtdCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIC8vIOWQjuWPsOiOt+WPlueahOWKqOaAgei3r+eUsSAgLS0tIOeZu+mZhuaXtuiuvue9ruiPnOWNlQogICAgc2V0TWVudTogZnVuY3Rpb24gc2V0TWVudShzdGF0ZSwgdmFsKSB7CiAgICAgIHN0YXRlLm1lbnUgPSB2YWw7IC8vIGNvbnNvbGUubG9nKHZhbCkKCiAgICAgIENvb2tpZS5zZXQoJ21lbnUnLCBKU09OLnN0cmluZ2lmeSh2YWwpKTsKICAgICAgY29uc29sZS5sb2codmFsLCAndnVleCcpOyAvLyDliKTmlq3mmK/lkKbov5Tlm57miJDlip8KICAgIH0sCiAgICAvLyDlkI7lj7Dojrflj5bnmoTliqjmgIHot6/nlLEgIC0tLSDpgIDlh7rnmbvlvZXml7bmuIXpmaToj5zljZUKICAgIGNsZWFyTWVudTogZnVuY3Rpb24gY2xlYXJNZW51KHN0YXRlKSB7CiAgICAgIHN0YXRlLm1lbnUgPSBbXTsKICAgICAgQ29va2llLnJlbW92ZSgnbWVudScpOwogICAgfSwKICAgIC8vIOWQjuWPsOiOt+WPlueahOWKqOaAgei3r+eUsSAgLS0tIOWKqOaAgeWinuWKoOi3r+eUsQogICAgYWRkTWVudTogZnVuY3Rpb24gYWRkTWVudShzdGF0ZSwgcm91dGVyKSB7CiAgICAgIGlmICghQ29va2llLmdldCgnbWVudScpKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgbWVudSA9IEpTT04ucGFyc2UoQ29va2llLmdldCgnbWVudScpKTsKICAgICAgc3RhdGUubWVudSA9IG1lbnU7IC8vIGNvbnNvbGUubG9nKG1lbnUpCiAgICAgIC8vIOWinuWKoOWKqOaAgei3r+eUseeahOaVsOe7hAoKICAgICAgdmFyIGN1cnJlbnRNZW51ID0gW3sKICAgICAgICBwYXRoOiAnLycsCiAgICAgICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICAgICAgICByZXR1cm4gaW1wb3J0KCdAL3ZpZXdzL0hvbWUudnVlJyk7CiAgICAgICAgfSwKICAgICAgICBjaGlsZHJlbjogW10KICAgICAgfV07IC8vIGNvbnNvbGUubG9nKGN1cnJlbnRNZW51KQoKICAgICAgbWVudS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaWYgKGl0ZW0ubGlzdCkgewogICAgICAgICAgdmFyIF9jdXJyZW50TWVudSQwJGNoaWxkcjsKCiAgICAgICAgICBpdGVtLmxpc3QgPSBpdGVtLmxpc3QubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIC8vIGl0ZW0uY29tcG9uZW50ID0gKCkgPT4gaW1wb3J0KGBAdmlld3MvJHtpdGVtLnVybH1gKQogICAgICAgICAgICAvLyBjb25zdCBhID0gaXRlbS51cmwKICAgICAgICAgICAgaXRlbS5jb21wb25lbnQgPSBmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgIHJldHVybiByZXF1aXJlKFsiQHZpZXdzLyIuY29uY2F0KGl0ZW0udXJsKV0sIHJlc29sdmUpOwogICAgICAgICAgICB9OyAvLyBpdGVtLmNvbXBvbmVudCA9ICgpID0+IGltcG9ydChgQC92aWV3cy8ke2F9YCkKCgogICAgICAgICAgICByZXR1cm4gaXRlbTsKICAgICAgICAgIH0pOwoKICAgICAgICAgIChfY3VycmVudE1lbnUkMCRjaGlsZHIgPSBjdXJyZW50TWVudVswXS5jaGlsZHJlbikucHVzaC5hcHBseShfY3VycmVudE1lbnUkMCRjaGlsZHIsIF90b0NvbnN1bWFibGVBcnJheShpdGVtLmxpc3QpKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gY29uc3QgYiA9IGl0ZW0udXJsCiAgICAgICAgICBpdGVtLmNvbXBvbmVudCA9IGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgIHJldHVybiByZXF1aXJlKFsiQHZpZXdzLyIuY29uY2F0KGl0ZW0udXJsKV0sIHJlc29sdmUpOwogICAgICAgICAgfTsgLy8gaXRlbS5jb21wb25lbnQgPSAoKSA9PiBpbXBvcnQoYEAvdmlld3MvJHtifWApCiAgICAgICAgICAvLyBpdGVtLmNvbXBvbmVudCA9ICgpID0+IGltcG9ydChgQHZpZXdzLyR7aXRlbS51cmx9YCkKCgogICAgICAgICAgY3VycmVudE1lbnVbMF0uY2hpbGRyZW4ucHVzaChpdGVtKTsKICAgICAgICB9CiAgICAgIH0pOyAvLyDov73liqDliqjmgIHot6/nlLEKCiAgICAgIHJvdXRlci5hZGRSb3V0ZXMoY3VycmVudE1lbnUpOwogICAgICBjb25zb2xlLmxvZyhjdXJyZW50TWVudSk7CiAgICB9CiAgfQp9KTs="},{"version":3,"sources":["D:/myCompany/project/aaa/new/src/store/index.js"],"names":["Vue","Vuex","Cookie","use","Store","state","menu","mutations","setMenu","val","set","JSON","stringify","console","log","clearMenu","remove","addMenu","router","get","parse","currentMenu","path","component","children","forEach","item","list","map","resolve","require","url","push","addRoutes"],"mappings":";;;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AAEAF,GAAG,CAACG,GAAJ,CAAQF,IAAR;AAEA,eAAe,IAAIA,IAAI,CAACG,KAAT,CAAe;AAC5BC,EAAAA,KAAK,EAAE;AACLC,IAAAA,IAAI,EAAE;AADD,GADqB;AAI5BC,EAAAA,SAAS,EAAE;AACT;AACAC,IAAAA,OAFS,mBAEAH,KAFA,EAEOI,GAFP,EAEY;AACnBJ,MAAAA,KAAK,CAACC,IAAN,GAAaG,GAAb,CADmB,CAEnB;;AACAP,MAAAA,MAAM,CAACQ,GAAP,CAAW,MAAX,EAAmBC,IAAI,CAACC,SAAL,CAAeH,GAAf,CAAnB;AACAI,MAAAA,OAAO,CAACC,GAAR,CAAYL,GAAZ,EAAiB,MAAjB,EAJmB,CAIM;AAC1B,KAPQ;AAQT;AACAM,IAAAA,SATS,qBASEV,KATF,EASS;AAChBA,MAAAA,KAAK,CAACC,IAAN,GAAa,EAAb;AACAJ,MAAAA,MAAM,CAACc,MAAP,CAAc,MAAd;AACD,KAZQ;AAaT;AACAC,IAAAA,OAdS,mBAcAZ,KAdA,EAcOa,MAdP,EAce;AACtB,UAAI,CAAChB,MAAM,CAACiB,GAAP,CAAW,MAAX,CAAL,EAAyB;AACvB;AACD;;AACD,UAAMb,IAAI,GAAGK,IAAI,CAACS,KAAL,CAAWlB,MAAM,CAACiB,GAAP,CAAW,MAAX,CAAX,CAAb;AACAd,MAAAA,KAAK,CAACC,IAAN,GAAaA,IAAb,CALsB,CAMtB;AACA;;AACA,UAAMe,WAAW,GAAG,CAClB;AACEC,QAAAA,IAAI,EAAE,GADR;AAEEC,QAAAA,SAAS,EAAE;AAAA,iBAAM,OAAO,kBAAP,CAAN;AAAA,SAFb;AAGEC,QAAAA,QAAQ,EAAE;AAHZ,OADkB,CAApB,CARsB,CAetB;;AACAlB,MAAAA,IAAI,CAACmB,OAAL,CAAa,UAAAC,IAAI,EAAI;AACnB,YAAIA,IAAI,CAACC,IAAT,EAAe;AAAA;;AACbD,UAAAA,IAAI,CAACC,IAAL,GAAYD,IAAI,CAACC,IAAL,CAAUC,GAAV,CAAc,UAAAF,IAAI,EAAI;AAChC;AACA;AACAA,YAAAA,IAAI,CAACH,SAAL,GAAiB,UAAAM,OAAO;AAAA,qBAAIC,OAAO,CAAC,kBAAWJ,IAAI,CAACK,GAAhB,EAAD,EAAyBF,OAAzB,CAAX;AAAA,aAAxB,CAHgC,CAIhC;;;AACA,mBAAOH,IAAP;AACD,WANW,CAAZ;;AAOA,mCAAAL,WAAW,CAAC,CAAD,CAAX,CAAeG,QAAf,EAAwBQ,IAAxB,iDAAgCN,IAAI,CAACC,IAArC;AACD,SATD,MASO;AACL;AACAD,UAAAA,IAAI,CAACH,SAAL,GAAiB,UAAAM,OAAO;AAAA,mBAAIC,OAAO,CAAC,kBAAWJ,IAAI,CAACK,GAAhB,EAAD,EAAyBF,OAAzB,CAAX;AAAA,WAAxB,CAFK,CAGL;AACA;;;AACAR,UAAAA,WAAW,CAAC,CAAD,CAAX,CAAeG,QAAf,CAAwBQ,IAAxB,CAA6BN,IAA7B;AACD;AACF,OAjBD,EAhBsB,CAkCtB;;AACAR,MAAAA,MAAM,CAACe,SAAP,CAAiBZ,WAAjB;AACAR,MAAAA,OAAO,CAACC,GAAR,CAAYO,WAAZ;AACD;AAnDQ;AAJiB,CAAf,CAAf","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport Cookie from 'js-cookie'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    menu: []\n  },\n  mutations: {\n    // 后台获取的动态路由  --- 登陆时设置菜单\n    setMenu (state, val) {\n      state.menu = val\n      // console.log(val)\n      Cookie.set('menu', JSON.stringify(val))\n      console.log(val, 'vuex') // 判断是否返回成功\n    },\n    // 后台获取的动态路由  --- 退出登录时清除菜单\n    clearMenu (state) {\n      state.menu = []\n      Cookie.remove('menu')\n    },\n    // 后台获取的动态路由  --- 动态增加路由\n    addMenu (state, router) {\n      if (!Cookie.get('menu')) {\n        return\n      }\n      const menu = JSON.parse(Cookie.get('menu'))\n      state.menu = menu\n      // console.log(menu)\n      // 增加动态路由的数组\n      const currentMenu = [\n        {\n          path: '/',\n          component: () => import('@/views/Home.vue'),\n          children: []\n        }\n      ]\n      // console.log(currentMenu)\n      menu.forEach(item => {\n        if (item.list) {\n          item.list = item.list.map(item => {\n            // item.component = () => import(`@views/${item.url}`)\n            // const a = item.url\n            item.component = resolve => require([`@views/${item.url}`], resolve)\n            // item.component = () => import(`@/views/${a}`)\n            return item\n          })\n          currentMenu[0].children.push(...item.list)\n        } else {\n          // const b = item.url\n          item.component = resolve => require([`@views/${item.url}`], resolve)\n          // item.component = () => import(`@/views/${b}`)\n          // item.component = () => import(`@views/${item.url}`)\n          currentMenu[0].children.push(item)\n        }\n      })\n      // 追加动态路由\n      router.addRoutes(currentMenu)\n      console.log(currentMenu)\n    }\n  }\n})\n"]}]}