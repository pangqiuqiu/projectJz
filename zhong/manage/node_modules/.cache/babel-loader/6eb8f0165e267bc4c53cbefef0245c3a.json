{"remainingRequest":"D:\\myCompany\\zhongdianqiche\\manage\\node_modules\\thread-loader\\dist\\cjs.js!D:\\myCompany\\zhongdianqiche\\manage\\node_modules\\babel-loader\\lib\\index.js!D:\\myCompany\\zhongdianqiche\\manage\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\myCompany\\zhongdianqiche\\manage\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\myCompany\\zhongdianqiche\\manage\\src\\views\\specialSale\\Add.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\myCompany\\zhongdianqiche\\manage\\src\\views\\specialSale\\Add.vue","mtime":1587104819988},{"path":"D:\\myCompany\\zhongdianqiche\\manage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\myCompany\\zhongdianqiche\\manage\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\myCompany\\zhongdianqiche\\manage\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\myCompany\\zhongdianqiche\\manage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\myCompany\\zhongdianqiche\\manage\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDpcXG15Q29tcGFueVxcemhvbmdkaWFucWljaGVcXG1hbmFnZVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8g5ZOB54mMCiAgICAgIGJyYW5kQXJ5OiBbXSwKICAgICAgLy8g57O75YiXCiAgICAgIHNlcmllc0FyeTogW10sCiAgICAgIC8vIOihqOWNleaVsOaNrgogICAgICBmb3JtOiB7CiAgICAgICAgYnJhbmQ6ICcnLAogICAgICAgIHRva2VuOiB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKSwKICAgICAgICBzZXJpZXM6IFtdLAogICAgICAgIC8vIOezu+WIlwogICAgICAgIGFjdGl2aXR5RGF0ZVM6ICcnLAogICAgICAgIC8vIOW8gOWni+aXtumXtAogICAgICAgIGFjdGl2aXR5RGF0ZUU6ICcnIC8vIOe7k+adn+aXtumXtAoKICAgICAgfSwKICAgICAgYnJhbmQ6ICcnIC8vIOWTgeeJjAoKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgYnJhbmQ6IGZ1bmN0aW9uIGJyYW5kKG5ld1ZhbCkgewogICAgICB0aGlzLmdldFNlcmllcygpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLy8g6L+U5Zue5LiK5LiA6aG16Z2iCiAgICBiYWNrOiBmdW5jdGlvbiBiYWNrKCkgewogICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpOwogICAgfSwKICAgIC8vIOiOt+WPluWTgeeJjAogICAgZ2V0QnJhbmQ6IGZ1bmN0aW9uIGdldEJyYW5kKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgX3JlZiwgcmVzOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kaHR0cC5wb3N0KCcvc2FsZS9zaG93QWRkU2FsZUJyYW5kJywgewogICAgICAgICAgICAgICAgICB0b2tlbjogd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfcmVmID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIHJlcyA9IF9yZWYuZGF0YTsKICAgICAgICAgICAgICAgIF90aGlzLmJyYW5kQXJ5ID0gcmVzOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5pS55Y+Y5ZOB54mM5pe2CiAgICBjaGFuZ2VCcmFuZDogZnVuY3Rpb24gY2hhbmdlQnJhbmQoKSB7CiAgICAgIHRoaXMuZ2V0U2VyaWVzKCk7CiAgICB9LAogICAgLy8g6I635Y+W57O75YiXCiAgICBnZXRTZXJpZXM6IGZ1bmN0aW9uIGdldFNlcmllcygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgX3JlZjIsIHJlczsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuJGh0dHAucG9zdCgnL3NhbGUvc2hvd1NhbGVTZXJpZXMnLCB7CiAgICAgICAgICAgICAgICAgIGJyYW5kOiBfdGhpczIuYnJhbmQKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfcmVmMiA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgcmVzID0gX3JlZjIuZGF0YTsKICAgICAgICAgICAgICAgIF90aGlzMi5zZXJpZXNBcnkgPSByZXM7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOS6i+S7tuWkhOeQhuWHveaVsAogICAgZGF0ZUNvbnZlcnNpb246IGZ1bmN0aW9uIGRhdGVDb252ZXJzaW9uKHZhbHVlKSB7CiAgICAgIGZ1bmN0aW9uIGNoZWNrVGltZShpKSB7CiAgICAgICAgaWYgKGkgPCAxMCkgewogICAgICAgICAgaSA9ICcwJyArIGk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gaTsKICAgICAgfQoKICAgICAgdmFyIGQgPSBuZXcgRGF0ZSh2YWx1ZSk7CiAgICAgIHZhciBkYXRlID0gZC5nZXRGdWxsWWVhcigpICsgJy0nICsgY2hlY2tUaW1lKGQuZ2V0TW9udGgoKSArIDEpICsgJy0nICsgY2hlY2tUaW1lKGQuZ2V0RGF0ZSgpKTsKICAgICAgcmV0dXJuIGRhdGU7CiAgICB9LAogICAgLy8g5o+Q5Lqk54m55Y2WCiAgICBzdWJtaXQ6IGZ1bmN0aW9uIHN1Ym1pdCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgbXlEYXRlLCBub3csIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMzLmZvcm0uYnJhbmQgPSBfdGhpczMuYnJhbmQ7CiAgICAgICAgICAgICAgICBfdGhpczMuZm9ybS5hY3Rpdml0eURhdGVTID0gX3RoaXMzLmRhdGVDb252ZXJzaW9uKF90aGlzMy5mb3JtLmFjdGl2aXR5RGF0ZVMpOwogICAgICAgICAgICAgICAgX3RoaXMzLmZvcm0uYWN0aXZpdHlEYXRlRSA9IF90aGlzMy5kYXRlQ29udmVyc2lvbihfdGhpczMuZm9ybS5hY3Rpdml0eURhdGVFKTsKCiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczMuZm9ybS5icmFuZCA9PT0gJycgfHwgX3RoaXMzLmZvcm0uc2VyaWVzLmxlbmd0aCA9PT0gMCB8fCBfdGhpczMuZm9ybS5hY3Rpdml0eURhdGVTID09PSAnTmFOLU5hTi1OYU4gTmFOOk5hTjpOYU4nIHx8IF90aGlzMy5mb3JtLmFjdGl2aXR5RGF0ZUUgPT09ICdOYU4tTmFOLU5hTiBOYU46TmFOOk5hTicpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIF90aGlzMy4kbWVzc2FnZS5lcnJvcign6K+35bCG5L+h5oGv5aGr5YaZ5a6M5pW0JykpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAvLyDojrflj5blvZPliY3ml7bpl7QKICAgICAgICAgICAgICAgIG15RGF0ZSA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgICAgICBub3cgPSBfdGhpczMuZGF0ZUNvbnZlcnNpb24obXlEYXRlLmdldEZ1bGxZZWFyKCkgKyAnLScgKyAobXlEYXRlLmdldE1vbnRoKCkgKyAxKSArICctJyArIG15RGF0ZS5nZXREYXRlKCkpOwoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzMy5mb3JtLmFjdGl2aXR5RGF0ZVMgPiBfdGhpczMuZm9ybS5hY3Rpdml0eURhdGVFIHx8IF90aGlzMy5mb3JtLmFjdGl2aXR5RGF0ZVMgPT09IF90aGlzMy5mb3JtLmFjdGl2aXR5RGF0ZUUgfHwgX3RoaXMzLmZvcm0uYWN0aXZpdHlEYXRlUyA8IG5vdyB8fCBfdGhpczMuZm9ybS5hY3Rpdml0eURhdGVTID09PSBub3cpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gOTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIF90aGlzMy4kbWVzc2FnZS5lcnJvcign6K+35aGr5YaZ5q2j56Gu55qE54m55Y2W5pe26Ze0JykpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDExOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy4kaHR0cC5wb3N0KCcvc2FsZS9hZGRTYWxlJywgX3RoaXMzLmZvcm0pOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQzLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCEocmVzLmRhdGEgIT09IHRydWUgfHwgcmVzLnN0YXR1cyAhPT0gMjAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgX3RoaXMzLiRtZXNzYWdlLmVycm9yKCfmlrDlop7lpLHotKUnKSk7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICBfdGhpczMuJHJvdXRlci5wdXNoKCcvc3BlY2lhbFNhbGUvbGlzdCcpOwoKICAgICAgICAgICAgICAgIF90aGlzMy4kbWVzc2FnZS5zdWNjZXNzKCfmlrDlop7miJDlip8nKTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIC8vIOiOt+WPluWTgeeJjAogICAgdGhpcy5nZXRCcmFuZCgpOwogIH0KfTs="},{"version":3,"sources":["Add.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <!-- 头部标题 -->\r\n    <div class=\"HeadTitle\">\r\n      <h2>新增特卖</h2>\r\n      <el-button type=\"text\" @click=\"back\">《《 返回</el-button>\r\n    </div>\r\n    <!-- 注意事项 -->\r\n    <div class=\"notice\">注：每次只发布一个品牌特卖系列 (开始时间为00:00:00,结束时间为24:00:00)</div>\r\n    <!-- 新增特卖表单 -->\r\n    <el-form label-position=\"right\" label-width=\"80px\" :model=\"form\" ref=\"rulesForm\">\r\n      <el-form-item label=\"品牌\">\r\n        <el-select v-model=\"brand\" placeholder=\"请选择特卖品牌\">\r\n          <el-option v-for=\"item in brandAry\" :key=\"item\" :label=\"item\" :value=\"item\" @change=\"changeBrand\"></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"系列\" v-show=\"this.brand !== ''\">\r\n        <el-checkbox-group v-model=\"form.series\">\r\n          <el-checkbox v-for=\"(item,index) in seriesAry\" :key=\"index\" :label=\"item\"></el-checkbox>\r\n        </el-checkbox-group>\r\n      </el-form-item>\r\n      <el-form-item label=\"特卖时间\" class=\"time\">\r\n        <div class=\"block\">\r\n          <el-date-picker\r\n            v-model=\"form.activityDateS\"\r\n            type=\"date\"\r\n            placeholder=\"选择开始日期\">\r\n          </el-date-picker>\r\n        </div>\r\n        <div class=\"block\">\r\n          <el-date-picker\r\n            v-model=\"form.activityDateE\"\r\n            type=\"date\"\r\n            placeholder=\"选择结束日期\">\r\n          </el-date-picker>\r\n        </div>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"submit('rulesForm')\">确认发布</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      // 品牌\r\n      brandAry: [],\r\n      // 系列\r\n      seriesAry: [],\r\n      // 表单数据\r\n      form: {\r\n        brand: '',\r\n        token: window.sessionStorage.getItem('token'),\r\n        series: [], // 系列\r\n        activityDateS: '', // 开始时间\r\n        activityDateE: '' // 结束时间\r\n      },\r\n      brand: '' // 品牌\r\n    }\r\n  },\r\n  watch: {\r\n    brand (newVal) {\r\n      this.getSeries()\r\n    }\r\n  },\r\n  methods: {\r\n    // 返回上一页面\r\n    back () {\r\n      this.$router.go(-1)\r\n    },\r\n    // 获取品牌\r\n    async getBrand () {\r\n      const { data: res } = await this.$http.post('/sale/showAddSaleBrand', {\r\n        token: window.sessionStorage.getItem('token')\r\n      })\r\n      this.brandAry = res\r\n    },\r\n    // 改变品牌时\r\n    changeBrand () {\r\n      this.getSeries()\r\n    },\r\n    // 获取系列\r\n    async getSeries () {\r\n      const{ data: res } = await this.$http.post('/sale/showSaleSeries', {\r\n        brand: this.brand\r\n      })\r\n      this.seriesAry = res\r\n    },\r\n    // 事件处理函数\r\n    dateConversion (value) {\r\n      function checkTime (i) {\r\n        if (i < 10) {\r\n          i = '0' + i\r\n        }\r\n        return i\r\n      }\r\n      var d = new Date(value)\r\n      var date = d.getFullYear() + '-' + checkTime(d.getMonth() + 1) + '-' + checkTime(d.getDate())\r\n      return date\r\n    },\r\n    // 提交特卖\r\n    async submit () {\r\n      this.form.brand = this.brand\r\n      this.form.activityDateS = this.dateConversion(this.form.activityDateS)\r\n      this.form.activityDateE = this.dateConversion(this.form.activityDateE)\r\n      if (this.form.brand === '' || this.form.series.length === 0 || this.form.activityDateS === 'NaN-NaN-NaN NaN:NaN:NaN' || this.form.activityDateE === 'NaN-NaN-NaN NaN:NaN:NaN') {\r\n        return this.$message.error('请将信息填写完整')\r\n      }\r\n      // 获取当前时间\r\n      const myDate = new Date()\r\n      const now = this.dateConversion(myDate.getFullYear() + '-' + (myDate.getMonth() + 1) + '-' + myDate.getDate())\r\n      if (this.form.activityDateS > this.form.activityDateE || this.form.activityDateS === this.form.activityDateE || this.form.activityDateS < now || this.form.activityDateS === now) {\r\n        return this.$message.error('请填写正确的特卖时间')\r\n      }\r\n      const res = await this.$http.post('/sale/addSale', this.form)\r\n      if (res.data !== true || res.status !== 200) {\r\n        return this.$message.error('新增失败')\r\n      }\r\n      this.$router.push('/specialSale/list')\r\n      this.$message.success('新增成功')\r\n    }\r\n  },\r\n  created () {\r\n    // 获取品牌\r\n    this.getBrand()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n// 头部标题\r\n.HeadTitle {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  background-color: #f7f8f9;\r\n  padding-left: 30px;\r\n  height: 50px;\r\n  line-height: 50px;\r\n}\r\n// 注意\r\n.notice {\r\n  color: red;\r\n  font-size: 18px;\r\n  height: 40px;\r\n  line-height: 40px;\r\n  padding-left: 20px;\r\n}\r\n// 新增表单\r\n.el-form {\r\n  margin-top: 30px;\r\n  .el-form-item {\r\n    margin-bottom: 20px;\r\n  }\r\n  .el-button {\r\n    margin-top: 20px;\r\n    width: 300px;\r\n  }\r\n  .time {\r\n    overflow: hidden;\r\n    .block {\r\n      float: left;\r\n      margin-right: 20px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/specialSale"}]}