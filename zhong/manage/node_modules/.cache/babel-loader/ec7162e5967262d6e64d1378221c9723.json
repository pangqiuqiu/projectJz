{"remainingRequest":"D:\\myCompany\\project\\aaa\\new\\node_modules\\babel-loader\\lib\\index.js!D:\\myCompany\\project\\aaa\\new\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\myCompany\\project\\aaa\\new\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\myCompany\\project\\aaa\\new\\src\\views\\adv\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\myCompany\\project\\aaa\\new\\src\\views\\adv\\Home.vue","mtime":1586829215019},{"path":"D:\\myCompany\\project\\aaa\\new\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\myCompany\\project\\aaa\\new\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\myCompany\\project\\aaa\\new\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\myCompany\\project\\aaa\\new\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6XFxteUNvbXBhbnlcXHByb2plY3RcXGFhYVxcbmV3XFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyDooajmoLwKICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgLy8g5a+56K+d5qGGCiAgICAgIGRpYWxvZ1RhYmxlVmlzaWJsZTogZmFsc2UsCiAgICAgIGFkdjogJycsCiAgICAgIHNpemU6ICcnCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLy8g6I635Y+W5bm/5ZGK5YiX6KGoCiAgICBnZXRBZHY6IGZ1bmN0aW9uIGdldEFkdigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF9yZWYsIHJlczsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJGh0dHAucG9zdCgnL2Fkdi9hZHZMaXN0Jyk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF9yZWYgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgcmVzID0gX3JlZi5kYXRhOwogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzKQogICAgICAgICAgICAgICAgX3RoaXMudGFibGVEYXRhID0gcmVzOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5L+u5pS56aG16Z2iCiAgICBoYW5kbGVFZGl0OiBmdW5jdGlvbiBoYW5kbGVFZGl0KHJvdykgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogJy9hZHYvZWRpdCcsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIHJvdzogSlNPTi5zdHJpbmdpZnkocm93KQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g5paw5aKe5bm/5ZGK5L2N572uCiAgICBhZGRTd2lwZXI6IGZ1bmN0aW9uIGFkZFN3aXBlcigpIHsKICAgICAgdGhpcy5kaWFsb2dUYWJsZVZpc2libGUgPSB0cnVlOwogICAgfSwKICAgIHVwQWRkOiBmdW5jdGlvbiB1cEFkZCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczIuYWR2ID09PSAnJyB8fCBfdGhpczIuc2l6ZSA9PT0gJycpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIF90aGlzMi4kbWVzc2FnZS5lcnJvcign6K+35bCG5YaF5a655aGr5YaZ5a6M5pW0JykpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLiRodHRwLnBvc3QoJy9hZHYvYWRkQWR2JywgewogICAgICAgICAgICAgICAgICBzaXplOiBfdGhpczIuc2l6ZSwKICAgICAgICAgICAgICAgICAgbmFtZTogX3RoaXMyLmFkdgogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICAgIGlmICghKHJlcy5zdGF0dXMgIT09IDIwMCB8fCByZXMuZGF0YSAhPT0gdHJ1ZSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgX3RoaXMyLiRtZXNzYWdlLmVycm9yKCfmlrDlop7lpLHotKUnKSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF90aGlzMi5zaXplID0gJyc7CiAgICAgICAgICAgICAgICBfdGhpczIubmFtZSA9ICcnOwogICAgICAgICAgICAgICAgX3RoaXMyLmRpYWxvZ1RhYmxlVmlzaWJsZSA9IGZhbHNlOwoKICAgICAgICAgICAgICAgIF90aGlzMi4kcm91dGVyLmdvKDApOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgLy8g6I635Y+W5bm/5ZGK5L2NCiAgICB0aGlzLmdldEFkdigpOwogIH0KfTs="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA;AACA,MAAA,SAAA,EAAA,EAFA;AAGA;AACA,MAAA,kBAAA,EAAA,KAJA;AAKA,MAAA,GAAA,EAAA,EALA;AAMA,MAAA,IAAA,EAAA;AANA,KAAA;AAQA,GAVA;AAWA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,MAFA,oBAEA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,KAAA,CAAA,IAAA,CAAA,cAAA,CADA;;AAAA;AAAA;AACA,gBAAA,GADA,QACA,IADA;AAEA;AACA,gBAAA,KAAA,CAAA,SAAA,GAAA,GAAA;;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA,KANA;AAOA;AACA,IAAA,UARA,sBAQA,GARA,EAQA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,EAAA,WADA;AAEA,QAAA,KAAA,EAAA;AAAA,UAAA,GAAA,EAAA,IAAA,CAAA,SAAA,CAAA,GAAA;AAAA;AAFA,OAAA;AAIA,KAbA;AAcA;AACA,IAAA,SAfA,uBAeA;AACA,WAAA,kBAAA,GAAA,IAAA;AACA,KAjBA;AAkBA,IAAA,KAlBA,mBAkBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA,MAAA,CAAA,GAAA,KAAA,EAAA,IAAA,MAAA,CAAA,IAAA,KAAA,EADA;AAAA;AAAA;AAAA;;AAAA,kDACA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,UAAA,CADA;;AAAA;AAAA;AAAA,uBAEA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,aAAA,EAAA;AACA,kBAAA,IAAA,EAAA,MAAA,CAAA,IADA;AAEA,kBAAA,IAAA,EAAA,MAAA,CAAA;AAFA,iBAAA,CAFA;;AAAA;AAEA,gBAAA,GAFA;;AAAA,sBAMA,GAAA,CAAA,MAAA,KAAA,GAAA,IAAA,GAAA,CAAA,IAAA,KAAA,IANA;AAAA;AAAA;AAAA;;AAAA,kDAMA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,MAAA,CANA;;AAAA;AAOA,gBAAA,MAAA,CAAA,IAAA,GAAA,EAAA;AACA,gBAAA,MAAA,CAAA,IAAA,GAAA,EAAA;AACA,gBAAA,MAAA,CAAA,kBAAA,GAAA,KAAA;;AACA,gBAAA,MAAA,CAAA,OAAA,CAAA,EAAA,CAAA,CAAA;;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AA7BA,GAXA;AA0CA,EAAA,OA1CA,qBA0CA;AACA;AACA,SAAA,MAAA;AACA;AA7CA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <h1>广告位</h1>\r\n    <!-- 上传轮播图 -->\r\n    <el-button @click=\"addSwiper\" type=\"primary\" style=\"margin-bottom: 20px\">新增广告位</el-button>\r\n    <!-- 新增对话框 -->\r\n    <el-dialog title=\"新增广告位置\" :visible.sync=\"dialogTableVisible\" style=\"height: 500px\">\r\n      <el-input v-model=\"adv\" placeholder=\"请输入新增广告位置\"></el-input>\r\n      <el-input v-model=\"size\" placeholder=\"请输入尺寸大小\"></el-input>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogTableVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"upAdd\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n    <!-- 首页已有轮播图 -->\r\n    <el-table\r\n      :header-cell-style=\"{ 'text-align': 'center', 'font-size': '20px', 'color': '#000' }\"\r\n      :cell-style=\"{ 'text-align': 'center' }\"\r\n      :data=\"tableData\"\r\n      border\r\n      style=\"width: 100%\">\r\n      <el-table-column\r\n        width=\"140\"\r\n        prop=\"name\"\r\n        label=\"广告位置\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        label=\"广告内容\">\r\n        <template slot-scope=\"scope\">\r\n          <img :src=\"scope.row.pic\" alt=\"\">\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        width=\"100\"\r\n        prop=\"size\"\r\n        label=\"尺寸\">\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\" width=\"90\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button size=\"mini\" type=\"primary\" @click=\"handleEdit(scope.row)\">修改</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      // 表格\r\n      tableData: [],\r\n      // 对话框\r\n      dialogTableVisible: false,\r\n      adv: '',\r\n      size: ''\r\n    }\r\n  },\r\n  methods: {\r\n    // 获取广告列表\r\n    async getAdv () {\r\n      const { data: res } = await this.$http.post('/adv/advList')\r\n      // console.log(res)\r\n      this.tableData = res\r\n    },\r\n    // 修改页面\r\n    handleEdit (row) {\r\n      this.$router.push({\r\n        path: '/adv/edit',\r\n        query: { row: JSON.stringify(row) }\r\n      })\r\n    },\r\n    // 新增广告位置\r\n    addSwiper () {\r\n      this.dialogTableVisible = true\r\n    },\r\n    async upAdd () {\r\n      if (this.adv === '' || this.size === '') return this.$message.error('请将内容填写完整')\r\n      const res = await this.$http.post('/adv/addAdv', {\r\n        size: this.size,\r\n        name: this.adv\r\n      })\r\n      if (res.status !== 200 || res.data !== true) return this.$message.error('新增失败')\r\n      this.size = ''\r\n      this.name = ''\r\n      this.dialogTableVisible = false\r\n      this.$router.go(0)\r\n    }\r\n  },\r\n  created () {\r\n    // 获取广告位\r\n    this.getAdv()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\nh1 {\r\n  margin-bottom: 20px;\r\n  font-size: 20px;\r\n}\r\n.el-input {\r\n  width: 250px;\r\n  margin-right: 20px;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/adv"}]}