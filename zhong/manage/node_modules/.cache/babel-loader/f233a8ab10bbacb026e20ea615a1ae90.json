{"remainingRequest":"D:\\myCompany\\zhongdianqiche\\manage\\node_modules\\thread-loader\\dist\\cjs.js!D:\\myCompany\\zhongdianqiche\\manage\\node_modules\\babel-loader\\lib\\index.js!D:\\myCompany\\zhongdianqiche\\manage\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\myCompany\\zhongdianqiche\\manage\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\myCompany\\zhongdianqiche\\manage\\src\\views\\app\\AddRelease.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\myCompany\\zhongdianqiche\\manage\\src\\views\\app\\AddRelease.vue","mtime":1602815598344},{"path":"D:\\myCompany\\zhongdianqiche\\manage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\myCompany\\zhongdianqiche\\manage\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\myCompany\\zhongdianqiche\\manage\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\myCompany\\zhongdianqiche\\manage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\myCompany\\zhongdianqiche\\manage\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDpcXG15Q29tcGFueVxcemhvbmdkaWFucWljaGVcXG1hbmFnZVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGRhdGVDb252ZXJzaW9uTW9udGggfSBmcm9tICcuLi8uLi9hc3NldHMvanMvdGltZXIuanMnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIOWTgeeJjAogICAgICBicmFuZExpc3Q6IFtdLAogICAgICAvLyDovabns7sKICAgICAgc2VyaWVzTGlzdDogW10sCiAgICAgIC8vIOaVsOaNrgogICAgICBmb3JtQWxpZ246IHsKICAgICAgICBicmFuZDogJycsCiAgICAgICAgc2VyaWVzOiAnJywKICAgICAgICBtb250aHM6ICcnLAogICAgICAgIGxhYmVsOiAnJwogICAgICB9CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGRpc2FibGVkOiBmdW5jdGlvbiBkaXNhYmxlZCgpIHsKICAgICAgaWYgKHRoaXMuZm9ybUFsaWduLmJyYW5kICYmIHRoaXMuZm9ybUFsaWduLnNlcmllcyAmJiB0aGlzLmZvcm1BbGlnbi5tb250aHMgJiYgdGhpcy5mb3JtQWxpZ24ubGFiZWwpIHJldHVybiBmYWxzZTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDojrflj5blk4HniYwKICAgIGdldEJyYW5kOiBmdW5jdGlvbiBnZXRCcmFuZCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF9yZWYsIHJlczsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJGh0dHAucG9zdCgnL2Nhci9zaG93QWxsQnJhbmQnKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3JlZiA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICByZXMgPSBfcmVmLmRhdGE7CiAgICAgICAgICAgICAgICBfdGhpcy5icmFuZExpc3QgPSByZXM7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDojrflj5bovabns7sKICAgIHZpc2libGU6IGZ1bmN0aW9uIHZpc2libGUoY2FsbGJhY2spIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgX3JlZjIsIHJlczsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghY2FsbGJhY2spIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLiRodHRwLnBvc3QoJy9jYXIvc2hvd1NlcmllcycsIHsKICAgICAgICAgICAgICAgICAgYnJhbmQ6IF90aGlzMi5mb3JtQWxpZ24uYnJhbmQKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfcmVmMiA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgcmVzID0gX3JlZjIuZGF0YTsKICAgICAgICAgICAgICAgIF90aGlzMi5zZXJpZXNMaXN0ID0gcmVzOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDmlLnlj5jlk4HniYwKICAgIGNoYW5nZTogZnVuY3Rpb24gY2hhbmdlKCkgewogICAgICB0aGlzLmZvcm1BbGlnbi5zZXJpZXMgPSAnJzsKICAgIH0sCiAgICAvLyDlj5HluIMKICAgIGFkZDogZnVuY3Rpb24gYWRkKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciByZXMsIGs7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMy5mb3JtQWxpZ24ubW9udGhzID0gZGF0ZUNvbnZlcnNpb25Nb250aChfdGhpczMuZm9ybUFsaWduLm1vbnRocyk7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLiRodHRwLnBvc3QoJy9yYW5rL2FkZE5ld0NhcicsIF90aGlzMy5mb3JtQWxpZ24pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDMuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoIShyZXMuZGF0YSAhPT0gdHJ1ZSB8fCByZXMuc3RhdHVzICE9PSAyMDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIF90aGlzMy4kbWVzc2FnZS5lcnJvcign5Y+R5biD5aSx6LSlJykpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfdGhpczMuJG1lc3NhZ2Uuc3VjY2Vzcygn5Y+R5biD5oiQ5YqfJyk7CgogICAgICAgICAgICAgICAgZm9yIChrIGluIF90aGlzMy5mb3JtQWxpZ24pIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLmZvcm1BbGlnbltrXSA9ICcnOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldEJyYW5kKCk7CiAgfQp9Ow=="},{"version":3,"sources":["AddRelease.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA,SAAA,mBAAA,QAAA,0BAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA;AACA,MAAA,SAAA,EAAA,EAFA;AAGA;AACA,MAAA,UAAA,EAAA,EAJA;AAKA;AACA,MAAA,SAAA,EAAA;AACA,QAAA,KAAA,EAAA,EADA;AAEA,QAAA,MAAA,EAAA,EAFA;AAGA,QAAA,MAAA,EAAA,EAHA;AAIA,QAAA,KAAA,EAAA;AAJA;AANA,KAAA;AAaA,GAfA;AAgBA,EAAA,QAAA,EAAA;AACA,IAAA,QADA,sBACA;AACA,UAAA,KAAA,SAAA,CAAA,KAAA,IAAA,KAAA,SAAA,CAAA,MAAA,IAAA,KAAA,SAAA,CAAA,MAAA,IAAA,KAAA,SAAA,CAAA,KAAA,EAAA,OAAA,KAAA;AACA,aAAA,IAAA;AACA;AAJA,GAhBA;AAsBA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,QAFA,sBAEA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,KAAA,CAAA,IAAA,CAAA,mBAAA,CADA;;AAAA;AAAA;AACA,gBAAA,GADA,QACA,IADA;AAEA,gBAAA,KAAA,CAAA,SAAA,GAAA,GAAA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA,KALA;AAMA;AACA,IAAA,OAPA,mBAOA,QAPA,EAOA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,qBACA,QADA;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAEA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,iBAAA,EAAA;AACA,kBAAA,KAAA,EAAA,MAAA,CAAA,SAAA,CAAA;AADA,iBAAA,CAFA;;AAAA;AAAA;AAEA,gBAAA,GAFA,SAEA,IAFA;AAKA,gBAAA,MAAA,CAAA,UAAA,GAAA,GAAA;;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA,KAdA;AAeA;AACA,IAAA,MAhBA,oBAgBA;AACA,WAAA,SAAA,CAAA,MAAA,GAAA,EAAA;AACA,KAlBA;AAmBA;AACA,IAAA,GApBA,iBAoBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,MAAA,CAAA,SAAA,CAAA,MAAA,GAAA,mBAAA,CAAA,MAAA,CAAA,SAAA,CAAA,MAAA,CAAA;AADA;AAAA,uBAEA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,iBAAA,EAAA,MAAA,CAAA,SAAA,CAFA;;AAAA;AAEA,gBAAA,GAFA;;AAAA,sBAGA,GAAA,CAAA,IAAA,KAAA,IAAA,IAAA,GAAA,CAAA,MAAA,KAAA,GAHA;AAAA;AAAA;AAAA;;AAAA,kDAGA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,MAAA,CAHA;;AAAA;AAIA,gBAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,MAAA;;AACA,qBAAA,CAAA,IAAA,MAAA,CAAA,SAAA,EAAA;AACA,kBAAA,MAAA,CAAA,SAAA,CAAA,CAAA,IAAA,EAAA;AACA;;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AA5BA,GAtBA;AAoDA,EAAA,OApDA,qBAoDA;AACA,SAAA,QAAA;AACA;AAtDA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <h3>发布新车</h3>\r\n    <ul>\r\n      <li>\r\n        <h4>选择品牌</h4>\r\n        <el-select v-model=\"formAlign.brand\" placeholder=\"请选择\" filterable size=\"mini\" style=\"width: 400px\" @change=\"change\">\r\n          <el-option v-for=\"item in brandList\" :key=\"item\" :label=\"item\" :value=\"item\"></el-option>\r\n        </el-select>\r\n      </li>\r\n      <div class=\"h\"></div>\r\n      <li>\r\n        <h4>选择车系</h4>\r\n        <el-select v-model=\"formAlign.series\" placeholder=\"请选择\" filterable size=\"mini\" style=\"width: 400px\" @visible-change=\"visible($event)\">\r\n          <el-option v-for=\"item in seriesList\" :key=\"item\" :label=\"item\" :value=\"item\"></el-option>\r\n        </el-select>\r\n      </li>\r\n      <div class=\"h\"></div>\r\n      <li>\r\n        <h4>选择时间</h4>\r\n        <el-date-picker v-model=\"formAlign.months\" type=\"month\" placeholder=\"选择月\" size=\"mini\" style=\"width: 400px\"></el-date-picker>\r\n      </li>\r\n      <div class=\"h\"></div>\r\n      <li>\r\n        <h4>选择类型</h4>\r\n        <el-select v-model=\"formAlign.label\" placeholder=\"请选择\" size=\"mini\" style=\"width: 400px\">\r\n          <el-option label=\"新加车型\" value=\"新加车型\"></el-option>\r\n          <el-option label=\"全新车系\" value=\"全新车系\"></el-option>\r\n          <el-option label=\"车系换代\" value=\"车系换代\"></el-option>\r\n          <el-option label=\"小改款\" value=\"小改款\"></el-option>\r\n          <el-option label=\"中期改款\" value=\"中期改款\"></el-option>\r\n        </el-select>\r\n      </li>\r\n      <div class=\"h\"></div>\r\n    </ul>\r\n    <el-button :disabled=\"disabled\" type=\"primary\" @click=\"add\" style=\"width: 300px; margin-left: 50px\">确认发布</el-button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { dateConversionMonth } from '../../assets/js/timer.js'\r\nexport default {\r\n  data () {\r\n    return {\r\n      // 品牌\r\n      brandList: [],\r\n      // 车系\r\n      seriesList: [],\r\n      // 数据\r\n      formAlign: {\r\n        brand: '',\r\n        series: '',\r\n        months: '',\r\n        label: ''\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    disabled () {\r\n      if (this.formAlign.brand && this.formAlign.series && this.formAlign.months && this.formAlign.label) return false\r\n      return true\r\n    }\r\n  },\r\n  methods: {\r\n    // 获取品牌\r\n    async getBrand () {\r\n      const { data: res } = await this.$http.post('/car/showAllBrand')\r\n      this.brandList = res\r\n    },\r\n    // 获取车系\r\n    async visible (callback) {\r\n      if (callback) {\r\n        const { data: res } = await this.$http.post('/car/showSeries', {\r\n          brand: this.formAlign.brand\r\n        })\r\n        this.seriesList = res\r\n      }\r\n    },\r\n    // 改变品牌\r\n    change () {\r\n      this.formAlign.series = ''\r\n    },\r\n    // 发布\r\n    async add () {\r\n      this.formAlign.months = dateConversionMonth(this.formAlign.months)\r\n      const res = await this.$http.post('/rank/addNewCar', this.formAlign)\r\n      if (res.data !== true || res.status !== 200) return this.$message.error('发布失败')\r\n      this.$message.success('发布成功')\r\n      for(let k in this.formAlign) {\r\n        this.formAlign[k] = ''\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    this.getBrand()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\nh3 {\r\n  margin-bottom: 20px;\r\n}\r\nul {\r\n  li {\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    h4 {\r\n      font-weight: normal;\r\n      margin-right: 40px;\r\n    }\r\n  }\r\n  .h {\r\n    height: 30px;\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/app"}]}