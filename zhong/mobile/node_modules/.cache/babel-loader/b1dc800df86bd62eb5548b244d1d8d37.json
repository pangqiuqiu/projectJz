{"ast":null,"code":"import _toConsumableArray from\"D:\\\\myCompany\\\\zhongdianqiche\\\\mobile\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"D:\\\\myCompany\\\\zhongdianqiche\\\\mobile\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\myCompany\\\\zhongdianqiche\\\\mobile\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:\\\\myCompany\\\\zhongdianqiche\\\\mobile\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';var ManageCustomer=function ManageCustomer(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),list=_useState2[0],setList=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),time=_useState4[0],setTime=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),isMore=_useState6[0],setIsMore=_useState6[1];var _useState7=useState({pageSize:10,pageNo:1}),_useState8=_slicedToArray(_useState7,2),formAlign=_useState8[0],setFormAlign=_useState8[1];useEffect(function(){getLists();window.addEventListener('scroll',handleScroll);return function(){window.removeEventListener('scroll',handleScroll);};},[formAlign.pageNo]);// 滚动条事件监听\nvar handleScroll=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(document.body.scrollHeight-window.pageYOffset-document.body.offsetHeight<100&&(time===0||Date.parse(new Date())-time>500)&&isMore){setTime(Date.parse(new Date()));setFormAlign({pageSize:10,pageNo:formAlign.pageNo++});getLists();}case 1:case\"end\":return _context.stop();}}},_callee);}));return function handleScroll(){return _ref.apply(this,arguments);};}();// 获取数据列表\nvar getLists=function getLists(){setList([].concat(_toConsumableArray(list),[1,1,1,1,1,1,1,1,1,1,1,1,1,1]));};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"ul\",null,list.map(function(item,k){return/*#__PURE__*/React.createElement(\"li\",{key:k},/*#__PURE__*/React.createElement(\"h1\",{style:{fontSize:'100px'}},item));})),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return console.log(formAlign);},style:{position:'fixed',top:0}}));};export default ManageCustomer;","map":null,"metadata":{},"sourceType":"module"}