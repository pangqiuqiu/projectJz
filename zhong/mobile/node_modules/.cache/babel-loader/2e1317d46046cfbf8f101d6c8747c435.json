{"ast":null,"code":"var _jsxFileName = \"D:\\\\myCompany\\\\zhongdianqiche\\\\mobile\\\\src\\\\views\\\\Abc\\\\index.js\";\nimport React, { useState, useEffect } from 'react';\n\nconst Abc = () => {\n  const [list, setList] = useState([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 12, 12, 13, 14, 15]);\n  const [formAlign, setFormAlign] = useState({\n    pageSize: 10,\n    pageNo: 1\n  });\n  useEffect(() => {\n    window.addEventListener('scroll', handle);\n    return () => {\n      window.removeEventListener('scroll', handle);\n    };\n  }); // 滚动条事件监听\n\n  const handle = async () => {\n    const s = window.pageYOffset; // 滚动条距离\n\n    const h = document.body.scrollHeight; // 页面整体高度\n\n    const l = document.body.offsetHeight; // 屏幕高度 document.body.clientHeight\n\n    if (h - s - l < 100) {\n      console.log('即将触底');\n      setFormAlign({\n        pageSize: 10,\n        pageNo: formAlign.pageNo++\n      });\n      setList([...list, ...[1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]]);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }\n  }, list.map((item, k) => {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: k,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      style: {\n        fontSize: '100px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 15\n      }\n    }, item));\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => console.log(formAlign),\n    style: {\n      position: 'fixed'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default Abc;","map":{"version":3,"sources":["D:/myCompany/zhongdianqiche/mobile/src/views/Abc/index.js"],"names":["React","useState","useEffect","Abc","list","setList","formAlign","setFormAlign","pageSize","pageNo","window","addEventListener","handle","removeEventListener","s","pageYOffset","h","document","body","scrollHeight","l","offsetHeight","console","log","map","item","k","fontSize","position"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;;AAEA,MAAMC,GAAG,GAAG,MAAM;AAChB,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBJ,QAAQ,CAAC,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,EAAO,CAAP,EAAS,CAAT,EAAW,CAAX,EAAa,CAAb,EAAe,CAAf,EAAiB,CAAjB,EAAmB,EAAnB,EAAsB,EAAtB,EAAyB,EAAzB,EAA4B,EAA5B,EAA+B,EAA/B,EAAkC,EAAlC,CAAD,CAAhC;AACA,QAAM,CAACK,SAAD,EAAYC,YAAZ,IAA4BN,QAAQ,CAAC;AACzCO,IAAAA,QAAQ,EAAE,EAD+B;AAEzCC,IAAAA,MAAM,EAAE;AAFiC,GAAD,CAA1C;AAIAP,EAAAA,SAAS,CAAC,MAAM;AACdQ,IAAAA,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkCC,MAAlC;AACA,WAAO,MAAM;AACXF,MAAAA,MAAM,CAACG,mBAAP,CAA2B,QAA3B,EAAqCD,MAArC;AACD,KAFD;AAGD,GALQ,CAAT,CANgB,CAYhB;;AACA,QAAMA,MAAM,GAAG,YAAY;AACzB,UAAME,CAAC,GAAGJ,MAAM,CAACK,WAAjB,CADyB,CACI;;AAC7B,UAAMC,CAAC,GAAGC,QAAQ,CAACC,IAAT,CAAcC,YAAxB,CAFyB,CAEY;;AACrC,UAAMC,CAAC,GAAGH,QAAQ,CAACC,IAAT,CAAcG,YAAxB,CAHyB,CAGY;;AACrC,QAAIL,CAAC,GAAGF,CAAJ,GAAOM,CAAP,GAAW,GAAf,EAAoB;AAClBE,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACAhB,MAAAA,YAAY,CAAC;AAACC,QAAAA,QAAQ,EAAE,EAAX;AAAeC,QAAAA,MAAM,EAAEH,SAAS,CAACG,MAAV;AAAvB,OAAD,CAAZ;AACAJ,MAAAA,OAAO,CAAC,CAAC,GAAGD,IAAJ,EAAU,GAAG,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,EAAO,CAAP,EAAS,CAAT,EAAW,CAAX,EAAa,CAAb,EAAe,CAAf,EAAiB,CAAjB,EAAmB,CAAnB,EAAqB,CAArB,EAAuB,CAAvB,EAAyB,CAAzB,EAA2B,CAA3B,CAAb,CAAD,CAAP;AACD;AACF,GATD;;AAUA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEIA,IAAI,CAACoB,GAAL,CAAS,CAACC,IAAD,EAAOC,CAAP,KAAa;AACpB,wBAAO;AAAI,MAAA,GAAG,EAAEA,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACL;AAAI,MAAA,KAAK,EAAE;AAACC,QAAAA,QAAQ,EAAE;AAAX,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAiCF,IAAjC,CADK,CAAP;AAGD,GAJD,CAFJ,CADF,eAUE;AAAQ,IAAA,OAAO,EAAE,MAAMH,OAAO,CAACC,GAAR,CAAYjB,SAAZ,CAAvB;AAA+C,IAAA,KAAK,EAAE;AAACsB,MAAAA,QAAQ,EAAE;AAAX,KAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,CADF;AAcD,CArCD;;AAuCA,eAAezB,GAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\r\n\r\nconst Abc = () => {\r\n  const [list, setList] = useState([1,2,3,4,5,6,7,8,9,10,12,12,13,14,15])\r\n  const [formAlign, setFormAlign] = useState({\r\n    pageSize: 10,\r\n    pageNo: 1\r\n  })\r\n  useEffect(() => {\r\n    window.addEventListener('scroll', handle)\r\n    return () => {\r\n      window.removeEventListener('scroll', handle)\r\n    }\r\n  })\r\n  // 滚动条事件监听\r\n  const handle = async () => {\r\n    const s = window.pageYOffset // 滚动条距离\r\n    const h = document.body.scrollHeight // 页面整体高度\r\n    const l = document.body.offsetHeight // 屏幕高度 document.body.clientHeight\r\n    if (h - s- l < 100) {\r\n      console.log('即将触底')\r\n      setFormAlign({pageSize: 10, pageNo: formAlign.pageNo++})\r\n      setList([...list, ...[1,1,1,1,1,1,1,1,1,1,1,1,1,1]])\r\n    }\r\n  }\r\n  return (\r\n    <div>\r\n      <ul>\r\n        {\r\n          list.map((item, k) => {\r\n            return <li key={k}>\r\n              <h1 style={{fontSize: '100px'}}>{item}</h1>\r\n            </li>\r\n          })\r\n        }\r\n      </ul>\r\n      <button onClick={() => console.log(formAlign)} style={{position: 'fixed'}}></button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Abc"]},"metadata":{},"sourceType":"module"}