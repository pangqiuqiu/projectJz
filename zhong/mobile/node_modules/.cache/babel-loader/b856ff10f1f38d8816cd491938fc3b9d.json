{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\myCompany\\\\zhongdianqiche\\\\mobile\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\myCompany\\\\zhongdianqiche\\\\mobile\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"D:\\\\myCompany\\\\zhongdianqiche\\\\mobile\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\myCompany\\\\zhongdianqiche\\\\mobile\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\myCompany\\\\zhongdianqiche\\\\mobile\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\myCompany\\\\zhongdianqiche\\\\mobile\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import url from'url';// 组件\nimport DownloadApp from'../../../components/DownloadApp';// 样式\nimport styles from'./index.module.css';import axios from'../../../untils/axios';var SeriesDetails=/*#__PURE__*/function(_React$Component){_inherits(SeriesDetails,_React$Component);var _super=_createSuper(SeriesDetails);function SeriesDetails(){var _this;_classCallCheck(this,SeriesDetails);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={id:url.parse(_this.props.location.search,true).query.id,// 车型数量\nnum:0,list:[],label:'大咖评车',currentIndex:0};_this.handle=function(type,id){if(type==='重点号资讯'){_this.props.history.push(\"/infor_details?id=\".concat(id));}else{_this.props.history.push(\"/video_details?id=\".concat(id));}};return _this;}_createClass(SeriesDetails,[{key:\"componentDidMount\",value:function componentDidMount(){// 获取重点号内容\nthis.getList();// 获取车型数量\nthis.getCarNum();}// 获取车型数量\n},{key:\"getCarNum\",value:function(){var _getCarNum=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$post,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post('/car/carTypeNum',{series:this.state.id});case 2:_yield$axios$post=_context.sent;res=_yield$axios$post.data;this.setState({num:res});case 5:case\"end\":return _context.stop();}}},_callee,this);}));function getCarNum(){return _getCarNum.apply(this,arguments);}return getCarNum;}()// 获取重点号内容\n},{key:\"getList\",value:function(){var _getList=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _yield$axios$post2,res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.post('/keyN/seriesKeyN',{label:this.state.label,series:this.state.id});case 2:_yield$axios$post2=_context2.sent;res=_yield$axios$post2.data;this.setState({list:res});case 5:case\"end\":return _context2.stop();}}},_callee2,this);}));function getList(){return _getList.apply(this,arguments);}return getList;}()// 改变tab\n},{key:\"changeTitle\",value:function changeTitle(item,index){var _this2=this;this.setState({currentIndex:index,label:item.title},function(){_this2.getList();});}// 跳转\n},{key:\"render\",value:function render(){var _this3=this;// tab栏标题\nvar tabs=[{title:'大咖评车'},{title:'技术解读'},{title:'用车宝典'},{title:'玩车行家'},{title:'行业分析'},{title:'自驾旅行'},{title:'新能源车'},{title:'热点聚焦'},{title:'汽车文化'},{title:'车展'}];return/*#__PURE__*/React.createElement(\"div\",{style:{paddingTop:'70px'}},/*#__PURE__*/React.createElement(DownloadApp,null),/*#__PURE__*/React.createElement(\"div\",{className:styles.image},/*#__PURE__*/React.createElement(\"img\",{src:\"https://tupiancar.oss-cn-zhangjiakou.aliyuncs.com/series/\".concat(this.state.id,\".jpg\"),style:{width:'100%'},alt:\"\"}),/*#__PURE__*/React.createElement(\"div\",{className:styles.cover}),/*#__PURE__*/React.createElement(\"h3\",null,this.state.id)),/*#__PURE__*/React.createElement(\"ul\",{className:styles.gird,style:{marginBottom:'15px',backgroundColor:'#fff',paddingTop:'10px'}},/*#__PURE__*/React.createElement(\"li\",{onClick:function onClick(){return _this3.props.history.push(\"/icon/cartype?id=\".concat(_this3.state.id));}},/*#__PURE__*/React.createElement(\"img\",{alt:\"\",style:{width:'40px',height:'40px'},src:require('../../../assets/series/chexingliebiao@2x.png')}),/*#__PURE__*/React.createElement(\"div\",null,this.state.num,\"\\u6B3E\\u8F66\\u578B\")),/*#__PURE__*/React.createElement(\"li\",{onClick:function onClick(){return _this3.props.history.push(\"/icon/distributor?id=\".concat(_this3.state.id));}},/*#__PURE__*/React.createElement(\"img\",{alt:\"\",style:{width:'40px',height:'40px'},src:require('../../../assets/series/jingxiaosahng@2x.png')}),/*#__PURE__*/React.createElement(\"div\",null,\"\\u7ECF\\u9500\\u5546\")),/*#__PURE__*/React.createElement(\"li\",{onClick:function onClick(){return _this3.props.history.push(\"/icon/picture?id=\".concat(_this3.state.id));}},/*#__PURE__*/React.createElement(\"img\",{alt:\"\",style:{width:'40px',height:'40px'},src:require('../../../assets/series/tupian@2x.png')}),/*#__PURE__*/React.createElement(\"div\",null,\"\\u5B9E\\u62CD\\u56FE\\u7247\"))),/*#__PURE__*/React.createElement(\"ul\",{className:styles.hobbyList},tabs.map(function(item,index){return/*#__PURE__*/React.createElement(\"li\",{onClick:function onClick(){_this3.changeTitle(item,index);},style:_this3.state.currentIndex===index?{'color':'#000',fontSize:'15px'}:{},key:item.title},item.title);})),/*#__PURE__*/React.createElement(\"div\",{className:styles.main},this.state.list.map(function(item){return/*#__PURE__*/React.createElement(\"div\",{className:styles.item,key:item.id,onClick:function onClick(){_this3.handle(item.type,item.id);}},/*#__PURE__*/React.createElement(\"img\",{style:{width:'100%'},alt:\"\",src:item.object.coverPic}),/*#__PURE__*/React.createElement(\"h3\",{className:styles.title},item.object.title),/*#__PURE__*/React.createElement(\"div\",{className:styles.user},/*#__PURE__*/React.createElement(\"img\",{style:{width:'40px',height:'40px',marginRight:'15px'},alt:\"\",src:item.key.headPic}),/*#__PURE__*/React.createElement(\"span\",null,item.key.name)));})));}}]);return SeriesDetails;}(React.Component);export{SeriesDetails as default};","map":null,"metadata":{},"sourceType":"module"}