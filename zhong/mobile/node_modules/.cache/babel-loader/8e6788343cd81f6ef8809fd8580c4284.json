{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\myCompany\\\\zhongdianqiche\\\\mobile\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import\"antd-mobile/lib/toast/style/css\";import _Toast from\"antd-mobile/lib/toast\";import _objectSpread from\"D:\\\\myCompany\\\\zhongdianqiche\\\\mobile\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"D:\\\\myCompany\\\\zhongdianqiche\\\\mobile\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import React,{useEffect}from'react';import axios from'../../../untils/axios';import{wexinPay}from'../../../untils/wx';import{useHistory}from'react-router-dom';var Pay=function Pay(props){var u=JSON.parse(props.match.params.u);var history=useHistory();var getPay=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$post,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post('/gather/addSign',_objectSpread(_objectSpread({},u),{},{code:window.location.href,gatherId:u.id}));case 2:_yield$axios$post=_context.sent;res=_yield$axios$post.data;wexinPay({appId:res.appId,nonceStr:res.nonceStr,package:res.package,paySign:res.paySign,signType:res.signType,timeStamp:res.timeStamp},function(){_Toast.fail('支付成功',2);history.goBack();});case 5:case\"end\":return _context.stop();}}},_callee);}));return function getPay(){return _ref.apply(this,arguments);};}();useEffect(function(){getPay();},[]);return/*#__PURE__*/React.createElement(React.Fragment,null);};export default Pay;","map":null,"metadata":{},"sourceType":"module"}