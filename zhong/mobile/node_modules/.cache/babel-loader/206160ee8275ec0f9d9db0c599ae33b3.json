{"ast":null,"code":"var _jsxFileName = \"D:\\\\myCompany\\\\zhongdianqiche\\\\mobile\\\\src\\\\views\\\\Abc\\\\index.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Throttle } from '../../untils/jie';\n\nconst Abc = () => {\n  const [list, setList] = useState([]);\n  const [formAlign, setFormAlign] = useState({\n    pageSize: 10,\n    pageNo: 1\n  });\n  useEffect(() => {\n    window.addEventListener('scroll', handle);\n    return () => {\n      window.removeEventListener('scroll', handle);\n    };\n  }, [formAlign.pageNo]);\n  useEffect(() => {\n    getLists();\n  }, []); // 滚动条事件监听\n\n  const handle = async () => {\n    const s = window.pageYOffset; // 滚动条距离\n\n    const h = document.body.scrollHeight; // 页面整体高度\n\n    const l = document.body.offsetHeight; // 屏幕高度 document.body.clientHeight\n\n    if (h - s - l < 100) {\n      console.log('即将触底');\n      Throttle(() => {\n        setFormAlign({\n          pageSize: 10,\n          pageNo: formAlign.pageNo++\n        });\n        console.log(formAlign);\n        getLists();\n      }, 1000);\n    }\n  };\n\n  const getLists = () => {\n    setList([...list, ...[1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]]);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }, list.map((item, k) => {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: k,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      style: {\n        fontSize: '100px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 15\n      }\n    }, item));\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => console.log(formAlign),\n    style: {\n      position: 'fixed',\n      top: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default Abc;","map":{"version":3,"sources":["D:/myCompany/zhongdianqiche/mobile/src/views/Abc/index.js"],"names":["React","useState","useEffect","Throttle","Abc","list","setList","formAlign","setFormAlign","pageSize","pageNo","window","addEventListener","handle","removeEventListener","getLists","s","pageYOffset","h","document","body","scrollHeight","l","offsetHeight","console","log","map","item","k","fontSize","position","top"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,QAAT,QAAyB,kBAAzB;;AAEA,MAAMC,GAAG,GAAG,MAAM;AAChB,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBL,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACM,SAAD,EAAYC,YAAZ,IAA4BP,QAAQ,CAAC;AACzCQ,IAAAA,QAAQ,EAAE,EAD+B;AAEzCC,IAAAA,MAAM,EAAE;AAFiC,GAAD,CAA1C;AAIAR,EAAAA,SAAS,CAAC,MAAM;AACdS,IAAAA,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkCC,MAAlC;AACA,WAAO,MAAM;AACXF,MAAAA,MAAM,CAACG,mBAAP,CAA2B,QAA3B,EAAqCD,MAArC;AACD,KAFD;AAGD,GALQ,EAKN,CAACN,SAAS,CAACG,MAAX,CALM,CAAT;AAMAR,EAAAA,SAAS,CAAC,MAAM;AACda,IAAAA,QAAQ;AACT,GAFQ,EAEN,EAFM,CAAT,CAZgB,CAehB;;AACA,QAAMF,MAAM,GAAG,YAAY;AACzB,UAAMG,CAAC,GAAGL,MAAM,CAACM,WAAjB,CADyB,CACI;;AAC7B,UAAMC,CAAC,GAAGC,QAAQ,CAACC,IAAT,CAAcC,YAAxB,CAFyB,CAEY;;AACrC,UAAMC,CAAC,GAAGH,QAAQ,CAACC,IAAT,CAAcG,YAAxB,CAHyB,CAGY;;AACrC,QAAIL,CAAC,GAAGF,CAAJ,GAAOM,CAAP,GAAW,GAAf,EAAoB;AAClBE,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACAtB,MAAAA,QAAQ,CAAC,MAAM;AACbK,QAAAA,YAAY,CAAC;AAACC,UAAAA,QAAQ,EAAE,EAAX;AAAeC,UAAAA,MAAM,EAAEH,SAAS,CAACG,MAAV;AAAvB,SAAD,CAAZ;AACAc,QAAAA,OAAO,CAACC,GAAR,CAAYlB,SAAZ;AACAQ,QAAAA,QAAQ;AACT,OAJO,EAIL,IAJK,CAAR;AAKD;AACF,GAZD;;AAaA,QAAMA,QAAQ,GAAG,MAAM;AACrBT,IAAAA,OAAO,CAAC,CAAC,GAAGD,IAAJ,EAAU,GAAG,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,EAAO,CAAP,EAAS,CAAT,EAAW,CAAX,EAAa,CAAb,EAAe,CAAf,EAAiB,CAAjB,EAAmB,CAAnB,EAAqB,CAArB,EAAuB,CAAvB,EAAyB,CAAzB,EAA2B,CAA3B,CAAb,CAAD,CAAP;AACD,GAFD;;AAGA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEIA,IAAI,CAACqB,GAAL,CAAS,CAACC,IAAD,EAAOC,CAAP,KAAa;AACpB,wBAAO;AAAI,MAAA,GAAG,EAAEA,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACL;AAAI,MAAA,KAAK,EAAE;AAACC,QAAAA,QAAQ,EAAE;AAAX,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAiCF,IAAjC,CADK,CAAP;AAGD,GAJD,CAFJ,CADF,eAUE;AAAQ,IAAA,OAAO,EAAE,MAAMH,OAAO,CAACC,GAAR,CAAYlB,SAAZ,CAAvB;AAA+C,IAAA,KAAK,EAAE;AAACuB,MAAAA,QAAQ,EAAE,OAAX;AAAoBC,MAAAA,GAAG,EAAE;AAAzB,KAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,CADF;AAcD,CA9CD;;AAgDA,eAAe3B,GAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { Throttle } from '../../untils/jie'\r\n\r\nconst Abc = () => {\r\n  const [list, setList] = useState([])\r\n  const [formAlign, setFormAlign] = useState({\r\n    pageSize: 10,\r\n    pageNo: 1\r\n  })\r\n  useEffect(() => {\r\n    window.addEventListener('scroll', handle)\r\n    return () => {\r\n      window.removeEventListener('scroll', handle)\r\n    }\r\n  }, [formAlign.pageNo])\r\n  useEffect(() => {\r\n    getLists()\r\n  }, [])\r\n  // 滚动条事件监听\r\n  const handle = async () => {\r\n    const s = window.pageYOffset // 滚动条距离\r\n    const h = document.body.scrollHeight // 页面整体高度\r\n    const l = document.body.offsetHeight // 屏幕高度 document.body.clientHeight\r\n    if (h - s- l < 100) {\r\n      console.log('即将触底')\r\n      Throttle(() => {\r\n        setFormAlign({pageSize: 10, pageNo: formAlign.pageNo++})\r\n        console.log(formAlign)\r\n        getLists()\r\n      }, 1000)\r\n    }\r\n  }\r\n  const getLists = () => {\r\n    setList([...list, ...[1,1,1,1,1,1,1,1,1,1,1,1,1,1]])\r\n  }\r\n  return (\r\n    <div>\r\n      <ul>\r\n        {\r\n          list.map((item, k) => {\r\n            return <li key={k}>\r\n              <h1 style={{fontSize: '100px'}}>{item}</h1>\r\n            </li>\r\n          })\r\n        }\r\n      </ul>\r\n      <button onClick={() => console.log(formAlign)} style={{position: 'fixed', top: 0}}></button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Abc"]},"metadata":{},"sourceType":"module"}