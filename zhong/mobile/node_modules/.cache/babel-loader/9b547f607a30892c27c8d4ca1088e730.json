{"ast":null,"code":"import\"antd-mobile/lib/button/style/css\";import _Button from\"antd-mobile/lib/button\";import\"antd-mobile/lib/input-item/style/css\";import _InputItem from\"antd-mobile/lib/input-item\";import _regeneratorRuntime from\"D:\\\\myCompany\\\\zhongdianqiche\\\\mobile\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import\"antd-mobile/lib/toast/style/css\";import _Toast from\"antd-mobile/lib/toast\";import _asyncToGenerator from\"D:\\\\myCompany\\\\zhongdianqiche\\\\mobile\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"D:\\\\myCompany\\\\zhongdianqiche\\\\mobile\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\myCompany\\\\zhongdianqiche\\\\mobile\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\myCompany\\\\zhongdianqiche\\\\mobile\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\myCompany\\\\zhongdianqiche\\\\mobile\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import styles from'./index.module.css';import url from'url';import axios from'../../../untils/axios';var Myform=/*#__PURE__*/function(_React$Component){_inherits(Myform,_React$Component);var _super=_createSuper(Myform);function Myform(){var _this;_classCallCheck(this,Myform);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={series:url.parse(_this.props.location.search,true).query.id,name:'',phone:'',city:sessionStorage.getItem('city')};return _this;}_createClass(Myform,[{key:\"changeName\",// 获取用户姓名\nvalue:function changeName(e){this.setState({name:e});}// 获取用户手机号\n},{key:\"changePhone\",value:function changePhone(e){this.setState({phone:e});}},{key:\"handle\",value:function(){var _handle=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(this.state.name===''||!/^1[3456789]\\d{9}$/.test(this.state.phone))){_context.next=2;break;}return _context.abrupt(\"return\",_Toast.fail('请将信息填写完整',2));case 2:_context.next=4;return axios.post('/sale/addEnquiry',this.state);case 4:res=_context.sent;if(!(res.data!==true||res.status!==200)){_context.next=7;break;}return _context.abrupt(\"return\",_Toast.fail('提交失败',1));case 7:_Toast.success('提交成功',1);this.props.history.goBack();case 9:case\"end\":return _context.stop();}}},_callee,this);}));function handle(){return _handle.apply(this,arguments);}return handle;}()},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{style:{padding:'15px'}},/*#__PURE__*/React.createElement(\"ul\",{className:styles.ul},/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"div\",null,\"\\u9009\\u62E9\\u7684\\u8F66\\u7CFB:\"),/*#__PURE__*/React.createElement(_InputItem,{type:\"text\",value:this.state.series,style:{width:'100%'}})),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"div\",null,\"\\u5BF9\\u60A8\\u7684\\u79F0\\u547C:\"),/*#__PURE__*/React.createElement(_InputItem,{type:\"text\",value:this.state.name,onChange:this.changeName.bind(this),style:{width:'100%'}})),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"div\",null,\"\\u60A8\\u7684\\u8054\\u7CFB\\u65B9\\u5F0F:\"),/*#__PURE__*/React.createElement(_InputItem,{type:\"text\",value:this.state.phone,onChange:this.changePhone.bind(this),style:{width:'100%'}}))),/*#__PURE__*/React.createElement(_Button,{type:\"primary\",onClick:this.handle.bind(this),style:{marginTop:'20px'}},\"\\u63D0\\u4EA4\\u4FE1\\u606F\"));}}]);return Myform;}(React.Component);export{Myform as default};","map":null,"metadata":{},"sourceType":"module"}