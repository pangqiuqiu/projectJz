{"ast":null,"code":"!function (e, n) {\n  module.exports = n(e);\n}(window, function (o, e) {\n  if (!o.jWeixin) {\n    var n,\n        c = {\n      config: \"preVerifyJSAPI\",\n      onMenuShareTimeline: \"menu:share:timeline\",\n      onMenuShareAppMessage: \"menu:share:appmessage\",\n      onMenuShareQQ: \"menu:share:qq\",\n      onMenuShareWeibo: \"menu:share:weiboApp\",\n      onMenuShareQZone: \"menu:share:QZone\",\n      previewImage: \"imagePreview\",\n      getLocation: \"geoLocation\",\n      openProductSpecificView: \"openProductViewWithPid\",\n      addCard: \"batchAddCard\",\n      openCard: \"batchViewCard\",\n      chooseWXPay: \"getBrandWCPayRequest\",\n      openEnterpriseRedPacket: \"getRecevieBizHongBaoRequest\",\n      startSearchBeacons: \"startMonitoringBeacons\",\n      stopSearchBeacons: \"stopMonitoringBeacons\",\n      onSearchBeacons: \"onBeaconsInRange\",\n      consumeAndShareCard: \"consumedShareCard\",\n      openAddress: \"editAddress\"\n    },\n        a = function () {\n      var e = {};\n\n      for (var n in c) e[c[n]] = n;\n\n      return e;\n    }(),\n        i = o.document,\n        t = i.title,\n        r = navigator.userAgent.toLowerCase(),\n        s = navigator.platform.toLowerCase(),\n        d = !(!s.match(\"mac\") && !s.match(\"win\")),\n        u = -1 != r.indexOf(\"wxdebugger\"),\n        l = -1 != r.indexOf(\"micromessenger\"),\n        p = -1 != r.indexOf(\"android\"),\n        f = -1 != r.indexOf(\"iphone\") || -1 != r.indexOf(\"ipad\"),\n        m = (n = r.match(/micromessenger\\/(\\d+\\.\\d+\\.\\d+)/) || r.match(/micromessenger\\/(\\d+\\.\\d+)/)) ? n[1] : \"\",\n        g = {\n      initStartTime: L(),\n      initEndTime: 0,\n      preVerifyStartTime: 0,\n      preVerifyEndTime: 0\n    },\n        h = {\n      version: 1,\n      appId: \"\",\n      initTime: 0,\n      preVerifyTime: 0,\n      networkType: \"\",\n      isPreVerifyOk: 1,\n      systemType: f ? 1 : p ? 2 : -1,\n      clientVersion: m,\n      url: encodeURIComponent(location.href)\n    },\n        v = {},\n        S = {\n      _completes: []\n    },\n        y = {\n      state: 0,\n      data: {}\n    };\n\n    O(function () {\n      g.initEndTime = L();\n    });\n    var I = !1,\n        _ = [],\n        w = {\n      config: function (e) {\n        B(\"config\", v = e);\n        var t = !1 !== v.check;\n        O(function () {\n          if (t) M(c.config, {\n            verifyJsApiList: C(v.jsApiList),\n            verifyOpenTagList: C(v.openTagList)\n          }, function () {\n            S._complete = function (e) {\n              g.preVerifyEndTime = L(), y.state = 1, y.data = e;\n            }, S.success = function (e) {\n              h.isPreVerifyOk = 0;\n            }, S.fail = function (e) {\n              S._fail ? S._fail(e) : y.state = -1;\n            };\n            var t = S._completes;\n            return t.push(function () {\n              !function () {\n                if (!(d || u || v.debug || m < \"6.0.2\" || h.systemType < 0)) {\n                  var i = new Image();\n                  h.appId = v.appId, h.initTime = g.initEndTime - g.initStartTime, h.preVerifyTime = g.preVerifyEndTime - g.preVerifyStartTime, w.getNetworkType({\n                    isInnerInvoke: !0,\n                    success: function (e) {\n                      h.networkType = e.networkType;\n                      var n = \"https://open.weixin.qq.com/sdk/report?v=\" + h.version + \"&o=\" + h.isPreVerifyOk + \"&s=\" + h.systemType + \"&c=\" + h.clientVersion + \"&a=\" + h.appId + \"&n=\" + h.networkType + \"&i=\" + h.initTime + \"&p=\" + h.preVerifyTime + \"&u=\" + h.url;\n                      i.src = n;\n                    }\n                  });\n                }\n              }();\n            }), S.complete = function (e) {\n              for (var n = 0, i = t.length; n < i; ++n) t[n]();\n\n              S._completes = [];\n            }, S;\n          }()), g.preVerifyStartTime = L();else {\n            y.state = 1;\n\n            for (var e = S._completes, n = 0, i = e.length; n < i; ++n) e[n]();\n\n            S._completes = [];\n          }\n        }), w.invoke || (w.invoke = function (e, n, i) {\n          o.WeixinJSBridge && WeixinJSBridge.invoke(e, x(n), i);\n        }, w.on = function (e, n) {\n          o.WeixinJSBridge && WeixinJSBridge.on(e, n);\n        });\n      },\n      ready: function (e) {\n        0 != y.state ? e() : (S._completes.push(e), !l && v.debug && e());\n      },\n      error: function (e) {\n        m < \"6.0.2\" || (-1 == y.state ? e(y.data) : S._fail = e);\n      },\n      checkJsApi: function (e) {\n        M(\"checkJsApi\", {\n          jsApiList: C(e.jsApiList)\n        }, (e._complete = function (e) {\n          if (p) {\n            var n = e.checkResult;\n            n && (e.checkResult = JSON.parse(n));\n          }\n\n          e = function (e) {\n            var n = e.checkResult;\n\n            for (var i in n) {\n              var t = a[i];\n              t && (n[t] = n[i], delete n[i]);\n            }\n\n            return e;\n          }(e);\n        }, e));\n      },\n      onMenuShareTimeline: function (e) {\n        P(c.onMenuShareTimeline, {\n          complete: function () {\n            M(\"shareTimeline\", {\n              title: e.title || t,\n              desc: e.title || t,\n              img_url: e.imgUrl || \"\",\n              link: e.link || location.href,\n              type: e.type || \"link\",\n              data_url: e.dataUrl || \"\"\n            }, e);\n          }\n        }, e);\n      },\n      onMenuShareAppMessage: function (n) {\n        P(c.onMenuShareAppMessage, {\n          complete: function (e) {\n            \"favorite\" === e.scene ? M(\"sendAppMessage\", {\n              title: n.title || t,\n              desc: n.desc || \"\",\n              link: n.link || location.href,\n              img_url: n.imgUrl || \"\",\n              type: n.type || \"link\",\n              data_url: n.dataUrl || \"\"\n            }) : M(\"sendAppMessage\", {\n              title: n.title || t,\n              desc: n.desc || \"\",\n              link: n.link || location.href,\n              img_url: n.imgUrl || \"\",\n              type: n.type || \"link\",\n              data_url: n.dataUrl || \"\"\n            }, n);\n          }\n        }, n);\n      },\n      onMenuShareQQ: function (e) {\n        P(c.onMenuShareQQ, {\n          complete: function () {\n            M(\"shareQQ\", {\n              title: e.title || t,\n              desc: e.desc || \"\",\n              img_url: e.imgUrl || \"\",\n              link: e.link || location.href\n            }, e);\n          }\n        }, e);\n      },\n      onMenuShareWeibo: function (e) {\n        P(c.onMenuShareWeibo, {\n          complete: function () {\n            M(\"shareWeiboApp\", {\n              title: e.title || t,\n              desc: e.desc || \"\",\n              img_url: e.imgUrl || \"\",\n              link: e.link || location.href\n            }, e);\n          }\n        }, e);\n      },\n      onMenuShareQZone: function (e) {\n        P(c.onMenuShareQZone, {\n          complete: function () {\n            M(\"shareQZone\", {\n              title: e.title || t,\n              desc: e.desc || \"\",\n              img_url: e.imgUrl || \"\",\n              link: e.link || location.href\n            }, e);\n          }\n        }, e);\n      },\n      updateTimelineShareData: function (e) {\n        M(\"updateTimelineShareData\", {\n          title: e.title,\n          link: e.link,\n          imgUrl: e.imgUrl\n        }, e);\n      },\n      updateAppMessageShareData: function (e) {\n        M(\"updateAppMessageShareData\", {\n          title: e.title,\n          desc: e.desc,\n          link: e.link,\n          imgUrl: e.imgUrl\n        }, e);\n      },\n      startRecord: function (e) {\n        M(\"startRecord\", {}, e);\n      },\n      stopRecord: function (e) {\n        M(\"stopRecord\", {}, e);\n      },\n      onVoiceRecordEnd: function (e) {\n        P(\"onVoiceRecordEnd\", e);\n      },\n      playVoice: function (e) {\n        M(\"playVoice\", {\n          localId: e.localId\n        }, e);\n      },\n      pauseVoice: function (e) {\n        M(\"pauseVoice\", {\n          localId: e.localId\n        }, e);\n      },\n      stopVoice: function (e) {\n        M(\"stopVoice\", {\n          localId: e.localId\n        }, e);\n      },\n      onVoicePlayEnd: function (e) {\n        P(\"onVoicePlayEnd\", e);\n      },\n      uploadVoice: function (e) {\n        M(\"uploadVoice\", {\n          localId: e.localId,\n          isShowProgressTips: 0 == e.isShowProgressTips ? 0 : 1\n        }, e);\n      },\n      downloadVoice: function (e) {\n        M(\"downloadVoice\", {\n          serverId: e.serverId,\n          isShowProgressTips: 0 == e.isShowProgressTips ? 0 : 1\n        }, e);\n      },\n      translateVoice: function (e) {\n        M(\"translateVoice\", {\n          localId: e.localId,\n          isShowProgressTips: 0 == e.isShowProgressTips ? 0 : 1\n        }, e);\n      },\n      chooseImage: function (e) {\n        M(\"chooseImage\", {\n          scene: \"1|2\",\n          count: e.count || 9,\n          sizeType: e.sizeType || [\"original\", \"compressed\"],\n          sourceType: e.sourceType || [\"album\", \"camera\"]\n        }, (e._complete = function (e) {\n          if (p) {\n            var n = e.localIds;\n\n            try {\n              n && (e.localIds = JSON.parse(n));\n            } catch (e) {}\n          }\n        }, e));\n      },\n      getLocation: function (e) {},\n      previewImage: function (e) {\n        M(c.previewImage, {\n          current: e.current,\n          urls: e.urls\n        }, e);\n      },\n      uploadImage: function (e) {\n        M(\"uploadImage\", {\n          localId: e.localId,\n          isShowProgressTips: 0 == e.isShowProgressTips ? 0 : 1\n        }, e);\n      },\n      downloadImage: function (e) {\n        M(\"downloadImage\", {\n          serverId: e.serverId,\n          isShowProgressTips: 0 == e.isShowProgressTips ? 0 : 1\n        }, e);\n      },\n      getLocalImgData: function (e) {\n        !1 === I ? (I = !0, M(\"getLocalImgData\", {\n          localId: e.localId\n        }, (e._complete = function (e) {\n          if (I = !1, 0 < _.length) {\n            var n = _.shift();\n\n            wx.getLocalImgData(n);\n          }\n        }, e))) : _.push(e);\n      },\n      getNetworkType: function (e) {\n        M(\"getNetworkType\", {}, (e._complete = function (e) {\n          e = function (e) {\n            var n = e.errMsg;\n            e.errMsg = \"getNetworkType:ok\";\n            var i = e.subtype;\n            if (delete e.subtype, i) e.networkType = i;else {\n              var t = n.indexOf(\":\"),\n                  o = n.substring(t + 1);\n\n              switch (o) {\n                case \"wifi\":\n                case \"edge\":\n                case \"wwan\":\n                  e.networkType = o;\n                  break;\n\n                default:\n                  e.errMsg = \"getNetworkType:fail\";\n              }\n            }\n            return e;\n          }(e);\n        }, e));\n      },\n      openLocation: function (e) {\n        M(\"openLocation\", {\n          latitude: e.latitude,\n          longitude: e.longitude,\n          name: e.name || \"\",\n          address: e.address || \"\",\n          scale: e.scale || 28,\n          infoUrl: e.infoUrl || \"\"\n        }, e);\n      },\n      getLocation: function (e) {\n        M(c.getLocation, {\n          type: (e = e || {}).type || \"wgs84\"\n        }, (e._complete = function (e) {\n          delete e.type;\n        }, e));\n      },\n      hideOptionMenu: function (e) {\n        M(\"hideOptionMenu\", {}, e);\n      },\n      showOptionMenu: function (e) {\n        M(\"showOptionMenu\", {}, e);\n      },\n      closeWindow: function (e) {\n        M(\"closeWindow\", {}, e = e || {});\n      },\n      hideMenuItems: function (e) {\n        M(\"hideMenuItems\", {\n          menuList: e.menuList\n        }, e);\n      },\n      showMenuItems: function (e) {\n        M(\"showMenuItems\", {\n          menuList: e.menuList\n        }, e);\n      },\n      hideAllNonBaseMenuItem: function (e) {\n        M(\"hideAllNonBaseMenuItem\", {}, e);\n      },\n      showAllNonBaseMenuItem: function (e) {\n        M(\"showAllNonBaseMenuItem\", {}, e);\n      },\n      scanQRCode: function (e) {\n        M(\"scanQRCode\", {\n          needResult: (e = e || {}).needResult || 0,\n          scanType: e.scanType || [\"qrCode\", \"barCode\"]\n        }, (e._complete = function (e) {\n          if (f) {\n            var n = e.resultStr;\n\n            if (n) {\n              var i = JSON.parse(n);\n              e.resultStr = i && i.scan_code && i.scan_code.scan_result;\n            }\n          }\n        }, e));\n      },\n      openAddress: function (e) {\n        M(c.openAddress, {}, (e._complete = function (e) {\n          e = function (e) {\n            return e.postalCode = e.addressPostalCode, delete e.addressPostalCode, e.provinceName = e.proviceFirstStageName, delete e.proviceFirstStageName, e.cityName = e.addressCitySecondStageName, delete e.addressCitySecondStageName, e.countryName = e.addressCountiesThirdStageName, delete e.addressCountiesThirdStageName, e.detailInfo = e.addressDetailInfo, delete e.addressDetailInfo, e;\n          }(e);\n        }, e));\n      },\n      openProductSpecificView: function (e) {\n        M(c.openProductSpecificView, {\n          pid: e.productId,\n          view_type: e.viewType || 0,\n          ext_info: e.extInfo\n        }, e);\n      },\n      addCard: function (e) {\n        for (var n = e.cardList, i = [], t = 0, o = n.length; t < o; ++t) {\n          var r = n[t],\n              a = {\n            card_id: r.cardId,\n            card_ext: r.cardExt\n          };\n          i.push(a);\n        }\n\n        M(c.addCard, {\n          card_list: i\n        }, (e._complete = function (e) {\n          var n = e.card_list;\n\n          if (n) {\n            for (var i = 0, t = (n = JSON.parse(n)).length; i < t; ++i) {\n              var o = n[i];\n              o.cardId = o.card_id, o.cardExt = o.card_ext, o.isSuccess = !!o.is_succ, delete o.card_id, delete o.card_ext, delete o.is_succ;\n            }\n\n            e.cardList = n, delete e.card_list;\n          }\n        }, e));\n      },\n      chooseCard: function (e) {\n        M(\"chooseCard\", {\n          app_id: v.appId,\n          location_id: e.shopId || \"\",\n          sign_type: e.signType || \"SHA1\",\n          card_id: e.cardId || \"\",\n          card_type: e.cardType || \"\",\n          card_sign: e.cardSign,\n          time_stamp: e.timestamp + \"\",\n          nonce_str: e.nonceStr\n        }, (e._complete = function (e) {\n          e.cardList = e.choose_card_info, delete e.choose_card_info;\n        }, e));\n      },\n      openCard: function (e) {\n        for (var n = e.cardList, i = [], t = 0, o = n.length; t < o; ++t) {\n          var r = n[t],\n              a = {\n            card_id: r.cardId,\n            code: r.code\n          };\n          i.push(a);\n        }\n\n        M(c.openCard, {\n          card_list: i\n        }, e);\n      },\n      consumeAndShareCard: function (e) {\n        M(c.consumeAndShareCard, {\n          consumedCardId: e.cardId,\n          consumedCode: e.code\n        }, e);\n      },\n      chooseWXPay: function (e) {\n        M(c.chooseWXPay, V(e), e);\n      },\n      openEnterpriseRedPacket: function (e) {\n        M(c.openEnterpriseRedPacket, V(e), e);\n      },\n      startSearchBeacons: function (e) {\n        M(c.startSearchBeacons, {\n          ticket: e.ticket\n        }, e);\n      },\n      stopSearchBeacons: function (e) {\n        M(c.stopSearchBeacons, {}, e);\n      },\n      onSearchBeacons: function (e) {\n        P(c.onSearchBeacons, e);\n      },\n      openEnterpriseChat: function (e) {\n        M(\"openEnterpriseChat\", {\n          useridlist: e.userIds,\n          chatname: e.groupName\n        }, e);\n      },\n      launchMiniProgram: function (e) {\n        M(\"launchMiniProgram\", {\n          targetAppId: e.targetAppId,\n          path: function (e) {\n            if (\"string\" == typeof e && 0 < e.length) {\n              var n = e.split(\"?\")[0],\n                  i = e.split(\"?\")[1];\n              return n += \".html\", void 0 !== i ? n + \"?\" + i : n;\n            }\n          }(e.path),\n          envVersion: e.envVersion\n        }, e);\n      },\n      openBusinessView: function (e) {\n        M(\"openBusinessView\", {\n          businessType: e.businessType,\n          queryString: e.queryString || \"\",\n          envVersion: e.envVersion\n        }, (e._complete = function (n) {\n          if (p) {\n            var e = n.extraData;\n            if (e) try {\n              n.extraData = JSON.parse(e);\n            } catch (e) {\n              n.extraData = {};\n            }\n          }\n        }, e));\n      },\n      miniProgram: {\n        navigateBack: function (e) {\n          e = e || {}, O(function () {\n            M(\"invokeMiniProgramAPI\", {\n              name: \"navigateBack\",\n              arg: {\n                delta: e.delta || 1\n              }\n            }, e);\n          });\n        },\n        navigateTo: function (e) {\n          O(function () {\n            M(\"invokeMiniProgramAPI\", {\n              name: \"navigateTo\",\n              arg: {\n                url: e.url\n              }\n            }, e);\n          });\n        },\n        redirectTo: function (e) {\n          O(function () {\n            M(\"invokeMiniProgramAPI\", {\n              name: \"redirectTo\",\n              arg: {\n                url: e.url\n              }\n            }, e);\n          });\n        },\n        switchTab: function (e) {\n          O(function () {\n            M(\"invokeMiniProgramAPI\", {\n              name: \"switchTab\",\n              arg: {\n                url: e.url\n              }\n            }, e);\n          });\n        },\n        reLaunch: function (e) {\n          O(function () {\n            M(\"invokeMiniProgramAPI\", {\n              name: \"reLaunch\",\n              arg: {\n                url: e.url\n              }\n            }, e);\n          });\n        },\n        postMessage: function (e) {\n          O(function () {\n            M(\"invokeMiniProgramAPI\", {\n              name: \"postMessage\",\n              arg: e.data || {}\n            }, e);\n          });\n        },\n        getEnv: function (e) {\n          O(function () {\n            e({\n              miniprogram: \"miniprogram\" === o.__wxjs_environment\n            });\n          });\n        }\n      }\n    },\n        T = 1,\n        k = {};\n    return i.addEventListener(\"error\", function (e) {\n      if (!p) {\n        var n = e.target,\n            i = n.tagName,\n            t = n.src;\n        if (\"IMG\" == i || \"VIDEO\" == i || \"AUDIO\" == i || \"SOURCE\" == i) if (-1 != t.indexOf(\"wxlocalresource://\")) {\n          e.preventDefault(), e.stopPropagation();\n          var o = n[\"wx-id\"];\n          if (o || (o = T++, n[\"wx-id\"] = o), k[o]) return;\n          k[o] = !0, wx.ready(function () {\n            wx.getLocalImgData({\n              localId: t,\n              success: function (e) {\n                n.src = e.localData;\n              }\n            });\n          });\n        }\n      }\n    }, !0), i.addEventListener(\"load\", function (e) {\n      if (!p) {\n        var n = e.target,\n            i = n.tagName;\n        n.src;\n\n        if (\"IMG\" == i || \"VIDEO\" == i || \"AUDIO\" == i || \"SOURCE\" == i) {\n          var t = n[\"wx-id\"];\n          t && (k[t] = !1);\n        }\n      }\n    }, !0), e && (o.wx = o.jWeixin = w), w;\n  }\n\n  function M(n, e, i) {\n    o.WeixinJSBridge ? WeixinJSBridge.invoke(n, x(e), function (e) {\n      A(n, e, i);\n    }) : B(n, i);\n  }\n\n  function P(n, i, t) {\n    o.WeixinJSBridge ? WeixinJSBridge.on(n, function (e) {\n      t && t.trigger && t.trigger(e), A(n, e, i);\n    }) : B(n, t || i);\n  }\n\n  function x(e) {\n    return (e = e || {}).appId = v.appId, e.verifyAppId = v.appId, e.verifySignType = \"sha1\", e.verifyTimestamp = v.timestamp + \"\", e.verifyNonceStr = v.nonceStr, e.verifySignature = v.signature, e;\n  }\n\n  function V(e) {\n    return {\n      timeStamp: e.timestamp + \"\",\n      nonceStr: e.nonceStr,\n      package: e.package,\n      paySign: e.paySign,\n      signType: e.signType || \"SHA1\"\n    };\n  }\n\n  function A(e, n, i) {\n    \"openEnterpriseChat\" != e && \"openBusinessView\" !== e || (n.errCode = n.err_code), delete n.err_code, delete n.err_desc, delete n.err_detail;\n    var t = n.errMsg;\n    t || (t = n.err_msg, delete n.err_msg, t = function (e, n) {\n      var i = e,\n          t = a[i];\n      t && (i = t);\n      var o = \"ok\";\n\n      if (n) {\n        var r = n.indexOf(\":\");\n        \"confirm\" == (o = n.substring(r + 1)) && (o = \"ok\"), \"failed\" == o && (o = \"fail\"), -1 != o.indexOf(\"failed_\") && (o = o.substring(7)), -1 != o.indexOf(\"fail_\") && (o = o.substring(5)), \"access denied\" != (o = (o = o.replace(/_/g, \" \")).toLowerCase()) && \"no permission to execute\" != o || (o = \"permission denied\"), \"config\" == i && \"function not exist\" == o && (o = \"ok\"), \"\" == o && (o = \"fail\");\n      }\n\n      return n = i + \":\" + o;\n    }(e, t), n.errMsg = t), (i = i || {})._complete && (i._complete(n), delete i._complete), t = n.errMsg || \"\", v.debug && !i.isInnerInvoke && alert(JSON.stringify(n));\n    var o = t.indexOf(\":\");\n\n    switch (t.substring(o + 1)) {\n      case \"ok\":\n        i.success && i.success(n);\n        break;\n\n      case \"cancel\":\n        i.cancel && i.cancel(n);\n        break;\n\n      default:\n        i.fail && i.fail(n);\n    }\n\n    i.complete && i.complete(n);\n  }\n\n  function C(e) {\n    if (e) {\n      for (var n = 0, i = e.length; n < i; ++n) {\n        var t = e[n],\n            o = c[t];\n        o && (e[n] = o);\n      }\n\n      return e;\n    }\n  }\n\n  function B(e, n) {\n    if (!(!v.debug || n && n.isInnerInvoke)) {\n      var i = a[e];\n      i && (e = i), n && n._complete && delete n._complete, console.log('\"' + e + '\",', n || \"\");\n    }\n  }\n\n  function L() {\n    return new Date().getTime();\n  }\n\n  function O(e) {\n    l && (o.WeixinJSBridge ? e() : i.addEventListener && i.addEventListener(\"WeixinJSBridgeReady\", e, !1));\n  }\n});","map":null,"metadata":{},"sourceType":"script"}