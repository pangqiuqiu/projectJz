{"ast":null,"code":"import \"antd-mobile/lib/toast/style/css\";\nimport _Toast from \"antd-mobile/lib/toast\";\nvar _jsxFileName = \"D:\\\\myCompany\\\\zhongdianqiche\\\\mobile\\\\src\\\\views\\\\Manage\\\\Customer\\\\index.js\";\nimport React, { useEffect } from 'react';\nimport axios from '../../../untils/axios';\n\nconst ManageCustomer = () => {\n  useEffect(() => {\n    const getCode = async () => {\n      const {\n        data: res\n      } = await axios.post('/user/getCode', {\n        str: window.location.href\n      });\n      if (!res) return _Toast.fail('绑定微信失败');\n\n      _Toast.success('您已成功绑定微信');\n\n      document.addEventListener('WeixinJSBridgeReady', () => {\n        WeixinJSBridge.call('closeWindow');\n      }, false);\n      WeixinJSBridge.call('closeWindow');\n    };\n\n    getCode();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 5\n    }\n  });\n};\n\nexport default ManageCustomer;","map":{"version":3,"sources":["D:/myCompany/zhongdianqiche/mobile/src/views/Manage/Customer/index.js"],"names":["React","useEffect","axios","ManageCustomer","getCode","data","res","post","str","window","location","href","fail","success","document","addEventListener","WeixinJSBridge","call"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,uBAAlB;;AAGA,MAAMC,cAAc,GAAG,MAAM;AAC3BF,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMG,OAAO,GAAG,YAAY;AAC1B,YAAM;AAAEC,QAAAA,IAAI,EAAEC;AAAR,UAAgB,MAAMJ,KAAK,CAACK,IAAN,CAAW,eAAX,EAA4B;AAAEC,QAAAA,GAAG,EAAEC,MAAM,CAACC,QAAP,CAAgBC;AAAvB,OAA5B,CAA5B;AACA,UAAI,CAACL,GAAL,EAAU,OAAO,OAAMM,IAAN,CAAW,QAAX,CAAP;;AACV,aAAMC,OAAN,CAAc,UAAd;;AACAC,MAAAA,QAAQ,CAACC,gBAAT,CAA0B,qBAA1B,EAAiD,MAAM;AACrDC,QAAAA,cAAc,CAACC,IAAf,CAAoB,aAApB;AACD,OAFD,EAEG,KAFH;AAGAD,MAAAA,cAAc,CAACC,IAAf,CAAoB,aAApB;AACD,KARD;;AASAb,IAAAA,OAAO;AACR,GAXQ,EAWN,EAXM,CAAT;AAYA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF;AAID,CAjBD;;AAmBA,eAAeD,cAAf","sourcesContent":["import React, { useEffect } from 'react'\r\nimport axios from '../../../untils/axios'\r\nimport { Toast } from 'antd-mobile'\r\n\r\nconst ManageCustomer = () => {\r\n  useEffect(() => {\r\n    const getCode = async () => {\r\n      const { data: res } = await axios.post('/user/getCode', { str: window.location.href })\r\n      if (!res) return Toast.fail('绑定微信失败')\r\n      Toast.success('您已成功绑定微信')\r\n      document.addEventListener('WeixinJSBridgeReady', () => {\r\n        WeixinJSBridge.call('closeWindow')\r\n      }, false)\r\n      WeixinJSBridge.call('closeWindow')\r\n    }\r\n    getCode()\r\n  }, [])\r\n  return (\r\n    <div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ManageCustomer"]},"metadata":{},"sourceType":"module"}