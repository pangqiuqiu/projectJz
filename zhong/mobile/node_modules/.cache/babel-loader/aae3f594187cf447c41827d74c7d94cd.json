{"ast":null,"code":"import _defineProperty from\"D:\\\\myCompany\\\\zhongdianqiche\\\\mobile\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import\"antd-mobile/lib/tab-bar/style/css\";import _TabBar from\"antd-mobile/lib/tab-bar\";import _classCallCheck from\"D:\\\\myCompany\\\\zhongdianqiche\\\\mobile\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\myCompany\\\\zhongdianqiche\\\\mobile\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\myCompany\\\\zhongdianqiche\\\\mobile\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\myCompany\\\\zhongdianqiche\\\\mobile\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{lazy}from'react';import{Route}from'react-router-dom';// 定位\nimport LocationCity from'../../components/LocationCity';// 导入tabBar图片\nimport ImgHome1 from'../../assets/tabBar/home1.png';import ImgHome2 from'../../assets/tabBar/home2.png';import ImgPhone1 from'../../assets/tabBar/phone1.png';import ImgPhone2 from'../../assets/tabBar/phone2.png';import ImgCar1 from'../../assets/tabBar/car1.png';import ImgCar2 from'../../assets/tabBar/car2.png';import ImgJiemu1 from'../../assets/tabBar/jiemu1.png';import ImgJiemu2 from'../../assets/tabBar/jiemu2.png';import ImgTemai1 from'../../assets/tabBar/temai1.png';import ImgTemai2 from'../../assets/tabBar/temai2.png';// 导入组件\n// 导入CSS样式\nimport'./index.module.css';// 导入子路由\nvar Home=lazy(function(){return import('../TabOne/Home');});var Mobile=lazy(function(){return import('../Mobile');});var Library=lazy(function(){return import('../TabThird/Library');});var Program=lazy(function(){return import('../TabSecond/Program');});var Specialist=lazy(function(){return import('../TabFourth/Specialist');});// 重构TabBar\nvar tabItems=[{title:'首页',icon:ImgHome1,selectIcon:ImgHome2,path:'/tab'},{title:'栏目',icon:ImgJiemu1,selectIcon:ImgJiemu2,path:'/tab/program'},{title:'车型库',icon:ImgCar1,selectIcon:ImgCar2,path:'/tab/library'},{title:'特卖',icon:ImgTemai1,selectIcon:ImgTemai2,path:'/tab/specialist'},{title:'客户端',icon:ImgPhone1,selectIcon:ImgPhone2,path:'/tab/mobile'}];var Tab=/*#__PURE__*/function(_React$Component){_inherits(Tab,_React$Component);var _super=_createSuper(Tab);function Tab(props){var _this;_classCallCheck(this,Tab);_this=_super.call(this,props);_this.state={// 默认选中的TabBar\nselectedTab:_this.props.location.pathname};return _this;}_createClass(Tab,[{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(prevProps.location.pathname!==this.props.location.pathname){// 此时路由发生了切换\nthis.setState({selectedTab:this.props.location.pathname});}}// 渲染tabBar\n},{key:\"renderTabBar\",value:function renderTabBar(){var _this2=this;return tabItems.map(function(item){return/*#__PURE__*/React.createElement(_TabBar.Item,{title:item.title,key:item.title,icon:/*#__PURE__*/React.createElement(\"img\",{style:{width:'30px',height:'30px'},alt:\"\",src:item.icon}),selectedIcon:/*#__PURE__*/React.createElement(\"img\",{style:{width:'30px',height:'30px'},alt:\"\",src:item.selectIcon}),selected:_this2.state.selectedTab===item.path,onPress:function onPress(){_this2.setState({selectedTab:item.path});// 实现路由切换\n_this2.props.history.push(item.path);}});});}},{key:\"render\",value:function render(){var _React$createElement;return/*#__PURE__*/React.createElement(\"div\",{className:\"tab\"},/*#__PURE__*/React.createElement(LocationCity,null),/*#__PURE__*/React.createElement(Route,(_React$createElement={exact:true,path:\"/tab\"},_defineProperty(_React$createElement,\"exact\",true),_defineProperty(_React$createElement,\"component\",Home),_React$createElement)),/*#__PURE__*/React.createElement(Route,{path:\"/tab/program\",component:Program}),/*#__PURE__*/React.createElement(Route,{path:\"/tab/library\",component:Library}),/*#__PURE__*/React.createElement(Route,{path:\"/tab/specialist\",component:Specialist}),/*#__PURE__*/React.createElement(Route,{path:\"/tab/mobile\",component:Mobile}),/*#__PURE__*/React.createElement(_TabBar,{onRenderContent:true// 未选中字体颜色\n,unselectedTintColor:\"#888\"// 选中字体颜色\n,tintColor:\"#2B79FF\",barTintColor:\"white\"},this.renderTabBar()));}}]);return Tab;}(React.Component);export default Tab;","map":null,"metadata":{},"sourceType":"module"}