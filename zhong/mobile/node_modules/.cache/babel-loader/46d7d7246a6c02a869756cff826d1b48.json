{"ast":null,"code":"import _classCallCheck from\"D:\\\\myCompany\\\\zhongdianqiche\\\\a\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\myCompany\\\\zhongdianqiche\\\\a\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\myCompany\\\\zhongdianqiche\\\\a\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\myCompany\\\\zhongdianqiche\\\\a\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';var LocationCity=/*#__PURE__*/function(_React$Component){_inherits(LocationCity,_React$Component);var _super=_createSuper(LocationCity);function LocationCity(){_classCallCheck(this,LocationCity);return _super.apply(this,arguments);}_createClass(LocationCity,[{key:\"componentDidMount\",value:function componentDidMount(){// 获取当前城市\nif(!sessionStorage.getItem('city'))this.getCity();}// 获取当前城市\n},{key:\"getCity\",value:function getCity(){var map=new window.BMap.Map(\"allmap\");var point=new window.BMap.Point(116.331398,39.897445);map.centerAndZoom(point,18);var geolocation=new window.BMap.Geolocation();geolocation.getCurrentPosition(function(r){sessionStorage.setItem('city',r.address.city);var mk=new window.BMap.Marker(r.point);map.addOverlay(mk);map.panTo(r.point);},{enableHighAccuracy:true});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{id:\"allmap\"});}}]);return LocationCity;}(React.Component);export{LocationCity as default};","map":{"version":3,"sources":["D:/myCompany/zhongdianqiche/a/src/components/LocationCity/index.js"],"names":["React","LocationCity","sessionStorage","getItem","getCity","map","window","BMap","Map","point","Point","centerAndZoom","geolocation","Geolocation","getCurrentPosition","r","setItem","address","city","mk","Marker","addOverlay","panTo","enableHighAccuracy","Component"],"mappings":"wcAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,C,GAEqBC,CAAAA,Y,8SACE,CACnB;AACA,GAAI,CAACC,cAAc,CAACC,OAAf,CAAuB,MAAvB,CAAL,CAAqC,KAAKC,OAAL,GACtC,CACD;yCACW,CACT,GAAIC,CAAAA,GAAG,CAAG,GAAIC,CAAAA,MAAM,CAACC,IAAP,CAAYC,GAAhB,CAAoB,QAApB,CAAV,CACA,GAAIC,CAAAA,KAAK,CAAG,GAAIH,CAAAA,MAAM,CAACC,IAAP,CAAYG,KAAhB,CAAsB,UAAtB,CAAkC,SAAlC,CAAZ,CACAL,GAAG,CAACM,aAAJ,CAAkBF,KAAlB,CAAyB,EAAzB,EACA,GAAIG,CAAAA,WAAW,CAAG,GAAIN,CAAAA,MAAM,CAACC,IAAP,CAAYM,WAAhB,EAAlB,CACAD,WAAW,CAACE,kBAAZ,CAA+B,SAAAC,CAAC,CAAI,CAClCb,cAAc,CAACc,OAAf,CAAuB,MAAvB,CAA+BD,CAAC,CAACE,OAAF,CAAUC,IAAzC,EACA,GAAIC,CAAAA,EAAE,CAAG,GAAIb,CAAAA,MAAM,CAACC,IAAP,CAAYa,MAAhB,CAAuBL,CAAC,CAACN,KAAzB,CAAT,CACAJ,GAAG,CAACgB,UAAJ,CAAeF,EAAf,EACAd,GAAG,CAACiB,KAAJ,CAAUP,CAAC,CAACN,KAAZ,EACD,CALD,CAKG,CAAEc,kBAAkB,CAAE,IAAtB,CALH,EAMD,C,uCACS,CACR,mBACE,2BAAK,EAAE,CAAC,QAAR,EADF,CAGD,C,0BAtBuCvB,KAAK,CAACwB,S,SAA3BvB,Y","sourcesContent":["import React from 'react'\r\n\r\nexport default class LocationCity extends React.Component {\r\n  componentDidMount () {\r\n    // 获取当前城市\r\n    if (!sessionStorage.getItem('city')) this.getCity()\r\n  }\r\n  // 获取当前城市\r\n  getCity () {\r\n    let map = new window.BMap.Map(\"allmap\")\r\n    let point = new window.BMap.Point(116.331398, 39.897445)\r\n    map.centerAndZoom(point, 18)\r\n    let geolocation = new window.BMap.Geolocation()\r\n    geolocation.getCurrentPosition(r => {\r\n      sessionStorage.setItem('city', r.address.city)\r\n      let mk = new window.BMap.Marker(r.point)\r\n      map.addOverlay(mk)\r\n      map.panTo(r.point)\r\n    }, { enableHighAccuracy: true })\r\n  }\r\n  render () {\r\n    return (\r\n      <div id=\"allmap\"></div>\r\n    )\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}