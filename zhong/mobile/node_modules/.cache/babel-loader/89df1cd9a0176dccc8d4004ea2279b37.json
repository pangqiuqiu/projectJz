{"ast":null,"code":"var _jsxFileName = \"D:\\\\myCompany\\\\zhongdianqiche\\\\mobile\\\\src\\\\views\\\\TabSecond\\\\Program\\\\index.js\";\nimport React from 'react'; // axios\n\nimport axios from '../../../untils/axios'; // 样式\n\nimport styles from './index.module.css';\nimport './index.css';\nconst tabs = ['大咖评车', '用车宝典', '技术解读', '玩车行家', '行业分析', '自驾旅行', '新能源车', '热点聚焦', '汽车文化', '车展'];\n\nclass Program extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handle = (type, id) => {\n      if (type === '重点号资讯') {\n        this.props.history.push(`/infor_details?id=${id}`);\n      } else {\n        this.props.history.push(`/video_details?id=${id}`);\n      }\n    };\n\n    this.state = {\n      windowHeight: 0,\n      label: sessionStorage.getItem('label') || '大咖评车',\n      page: 0,\n      currentIndex: JSON.parse(sessionStorage.getItem('index')) || 0,\n      list: [] // 处理后的数据\n\n    };\n  }\n\n  componentDidMount() {\n    if (window.innerHeight > 650) {\n      this.setState({\n        windowHeight: 1\n      });\n    } // 获取数据列表\n\n\n    this.getList(); // 监听滚动事件\n\n    window.onscroll = () => {\n      let winHeight = Math.ceil(window.scrollY + window.innerHeight);\n\n      if (winHeight >= document.body.scrollHeight - 50) {\n        setTimeout(() => {\n          this.setState({\n            page: this.state.page + 1\n          }, async () => {\n            const {\n              data: res\n            } = await axios.post('/keyN/lm', {\n              label: this.state.label,\n              pageNo: this.state.page,\n              pageSize: 2\n            });\n            this.setState({\n              list: [...this.state.list, ...res]\n            });\n          });\n        }, 1000);\n      }\n    };\n  } // 获取列表信息\n\n\n  async getList() {\n    const {\n      data: res\n    } = await axios.post('/keyN/lm', {\n      label: this.state.label,\n      pageNo: this.state.page,\n      pageSize: 14\n    });\n    this.setState({\n      list: res\n    });\n  } // 切换左侧tab栏\n\n\n  changeTabItem(item, index) {\n    sessionStorage.setItem('label', item);\n    sessionStorage.setItem('index', JSON.stringify(index));\n    this.setState({\n      currentIndex: index,\n      label: item,\n      page: 0\n    }, () => {\n      this.getList();\n    });\n  } // 跳转\n\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.contain,\n      style: {\n        paddingBottom: '34px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"aside\", {\n      className: styles.aside,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }\n    }, tabs.map((item, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        onClick: () => {\n          this.changeTabItem(item, index);\n        },\n        className: this.state.windowHeight === 0 ? 'demo' : 'demo1',\n        style: this.state.currentIndex === index ? {\n          backgroundColor: '#fff'\n        } : {},\n        key: item,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 22\n        }\n      }, item);\n    })), /*#__PURE__*/React.createElement(\"ul\", {\n      className: styles.main,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }\n    }, this.state.list.map((item, index) => {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        key: index,\n        onClick: () => {\n          this.handle(item.type, item.id);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 22\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        alt: \"\",\n        style: {\n          marginRight: '15px',\n          width: '100px',\n          height: '100%'\n        },\n        src: item.object.coverPic,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.title,\n        style: {\n          width: '100%'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.one,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 19\n        }\n      }, item.title), /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.two,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 19\n        }\n      }, item.key.name)));\n    })));\n  }\n\n}\n\nexport default Program;","map":{"version":3,"sources":["D:/myCompany/zhongdianqiche/mobile/src/views/TabSecond/Program/index.js"],"names":["React","axios","styles","tabs","Program","Component","constructor","props","handle","type","id","history","push","state","windowHeight","label","sessionStorage","getItem","page","currentIndex","JSON","parse","list","componentDidMount","window","innerHeight","setState","getList","onscroll","winHeight","Math","ceil","scrollY","document","body","scrollHeight","setTimeout","data","res","post","pageNo","pageSize","changeTabItem","item","index","setItem","stringify","render","contain","paddingBottom","aside","map","backgroundColor","main","marginRight","width","height","object","coverPic","title","one","two","key","name"],"mappings":"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","sourcesContent":["import React from 'react'\r\n// axios\r\nimport axios from '../../../untils/axios'\r\n// 样式\r\nimport styles from './index.module.css'\r\nimport './index.css'\r\n\r\nconst tabs = ['大咖评车', '用车宝典', '技术解读', '玩车行家', '行业分析', '自驾旅行', '新能源车', '热点聚焦', '汽车文化', '车展']\r\n\r\nclass Program extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      windowHeight: 0,\r\n      label: sessionStorage.getItem('label') || '大咖评车',\r\n      page: 0,\r\n      currentIndex: JSON.parse(sessionStorage.getItem('index')) || 0,\r\n      list: [] // 处理后的数据\r\n    }\r\n  }\r\n  componentDidMount () {\r\n    if (window.innerHeight > 650) {\r\n      this.setState({ windowHeight: 1 })\r\n    }\r\n    // 获取数据列表\r\n    this.getList()\r\n    // 监听滚动事件\r\n    window.onscroll = () => {\r\n      let winHeight = Math.ceil(window.scrollY + window.innerHeight)\r\n      if (winHeight >= document.body.scrollHeight - 50) {\r\n        setTimeout(() => {\r\n          this.setState({ page: this.state.page + 1 }, async () => {\r\n            const { data: res } = await axios.post('/keyN/lm', {\r\n              label: this.state.label,\r\n              pageNo: this.state.page,\r\n              pageSize: 2\r\n            })\r\n            this.setState({ list: [...this.state.list,...res] })\r\n          })\r\n        }, 1000)\r\n      }\r\n    }\r\n  }\r\n  // 获取列表信息\r\n  async getList () {\r\n    const { data: res } = await axios.post('/keyN/lm', {\r\n      label: this.state.label,\r\n      pageNo: this.state.page,\r\n      pageSize: 14\r\n    })\r\n    this.setState({ list: res })\r\n  }\r\n  // 切换左侧tab栏\r\n  changeTabItem (item, index) {\r\n    sessionStorage.setItem('label', item)\r\n    sessionStorage.setItem('index', JSON.stringify(index))\r\n    this.setState({\r\n      currentIndex: index,\r\n      label: item,\r\n      page: 0\r\n    }, () => {\r\n      this.getList()\r\n    })\r\n  }\r\n  // 跳转\r\n  handle = (type, id) => {\r\n    if (type === '重点号资讯') {\r\n      this.props.history.push(`/infor_details?id=${id}`)\r\n    } else {\r\n      this.props.history.push(`/video_details?id=${id}`)\r\n    }\r\n  }\r\n  render () {\r\n    return (\r\n      <div className={styles.contain} style={{paddingBottom: '34px'}}>\r\n        <aside className={styles.aside}>\r\n          {\r\n            tabs.map((item,index) => {\r\n              return <div onClick={() => {this.changeTabItem(item,index)}} className={this.state.windowHeight === 0 ? 'demo' : 'demo1'}  style={this.state.currentIndex === index ? {backgroundColor: '#fff'} : {}} key={item}>{item}</div>\r\n            })\r\n          }\r\n        </aside>\r\n        <ul className={styles.main}>\r\n          {\r\n            this.state.list.map((item,index) => {\r\n              return <li key={index} onClick={() => {this.handle(item.type, item.id)}}>\r\n                <img alt=\"\" style={{marginRight: '15px', width: '100px', height: '100%'}} src={item.object.coverPic} />\r\n                <div className={styles.title} style={{width: '100%'}}>\r\n                  <div className={styles.one}>{item.title}</div>\r\n                  <div className={styles.two}>{item.key.name}</div>\r\n                </div>\r\n              </li>\r\n            })\r\n          }\r\n        </ul>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Program"]},"metadata":{},"sourceType":"module"}