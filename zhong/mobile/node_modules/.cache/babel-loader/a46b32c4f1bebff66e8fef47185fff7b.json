{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\myCompany\\\\zhongdianqiche\\\\mobile\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\myCompany\\\\zhongdianqiche\\\\mobile\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"D:\\\\myCompany\\\\zhongdianqiche\\\\mobile\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\myCompany\\\\zhongdianqiche\\\\mobile\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\myCompany\\\\zhongdianqiche\\\\mobile\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\myCompany\\\\zhongdianqiche\\\\mobile\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import url from'url';// 组件\nimport DownloadApp from'../../../../components/DownloadApp';// 样式\nimport styles from'./index.module.css';import axios from'../../../../untils/axios';var CarType=/*#__PURE__*/function(_React$Component){_inherits(CarType,_React$Component);var _super=_createSuper(CarType);function CarType(){var _this;_classCallCheck(this,CarType);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={id:url.parse(_this.props.location.search,true).query.id,// 年限\nallYear:[],years:'',currentIndex:0,// 车型\ntypeList:[]};return _this;}_createClass(CarType,[{key:\"componentDidMount\",value:function componentDidMount(){// 获取年限\nthis.getYearList();// 获取车型列表\nthis.getTypeList();}// 获取年限\n},{key:\"getYearList\",value:function(){var _getYearList=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$post,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post('/car/years',{series:this.state.id});case 2:_yield$axios$post=_context.sent;res=_yield$axios$post.data;res.unshift('全部在售');this.setState({allYear:res});case 6:case\"end\":return _context.stop();}}},_callee,this);}));function getYearList(){return _getYearList.apply(this,arguments);}return getYearList;}()// 获取车型列表\n},{key:\"getTypeList\",value:function(){var _getTypeList=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _yield$axios$post2,res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.post('/car/showCarType',{series:this.state.id,years:this.state.years});case 2:_yield$axios$post2=_context2.sent;res=_yield$axios$post2.data;this.setState({typeList:res});case 5:case\"end\":return _context2.stop();}}},_callee2,this);}));function getTypeList(){return _getTypeList.apply(this,arguments);}return getTypeList;}()// 切换年限\n},{key:\"changeYear\",value:function changeYear(item,index){var _this2=this;this.setState({currentIndex:index,years:item},function(){_this2.getTypeList();});}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(\"div\",{style:{paddingTop:'80px'}},/*#__PURE__*/React.createElement(DownloadApp,null),/*#__PURE__*/React.createElement(\"h2\",{style:{height:'45px',lineHeight:'45px',paddingLeft:'15px',fontSize:'15px'}},\"\\u8F66\\u578B\\u5217\\u8868\"),/*#__PURE__*/React.createElement(\"ul\",{className:styles.year},this.state.allYear.map(function(item,index){return/*#__PURE__*/React.createElement(\"li\",{onClick:function onClick(){_this3.changeYear(item,index);},style:_this3.state.currentIndex===index?{\"color\":'#000',fontSize:'15px'}:{},key:item},item);})),/*#__PURE__*/React.createElement(\"ul\",{className:styles.type},this.state.typeList.map(function(item){return/*#__PURE__*/React.createElement(\"li\",{key:item.id},/*#__PURE__*/React.createElement(\"h3\",{style:{marginBottom:'15px',fontSize:'15px'}},item.type),/*#__PURE__*/React.createElement(\"div\",{style:{marginBottom:'10px'}},/*#__PURE__*/React.createElement(\"span\",{style:{color:'#9E9E9E',fontSize:'12px'}},\"\\u6307\\u5BFC\\u4EF7: \"),/*#__PURE__*/React.createElement(\"span\",{style:{color:'#000',fontWeight:'700',fontSize:'12px'}},\" \",item.guidePrice,\"\\u4E07\\u5143\")),/*#__PURE__*/React.createElement(\"div\",{className:styles.btn,onClick:function onClick(){return _this3.props.history.push(\"/icon/parameter?id=\".concat(item.id));},style:{color:'#2B79FF',textAlign:'center',height:'50px',lineHeight:'50px'}},\"\\u67E5\\u770B\\u914D\\u7F6E\"));})));}}]);return CarType;}(React.Component);export{CarType as default};","map":null,"metadata":{},"sourceType":"module"}