{"ast":null,"code":"var _jsxFileName = \"D:\\\\myCompany\\\\zhongdianqiche\\\\mobile\\\\src\\\\components\\\\LocationCity\\\\index.js\";\nimport React from 'react';\nexport default class LocationCity extends React.Component {\n  componentDidMount() {\n    // 获取当前城市\n    if (!sessionStorage.getItem('city')) this.getCity();\n  } // 获取当前城市\n\n\n  getCity() {\n    let map = new window.BMap.Map(\"allmap\");\n    let point = new window.BMap.Point(116.331398, 39.897445);\n    map.centerAndZoom(point, 18);\n    let geolocation = new window.BMap.Geolocation();\n    geolocation.getCurrentPosition(r => {\n      sessionStorage.setItem('city', r.address.city);\n      let mk = new window.BMap.Marker(r.point);\n      map.addOverlay(mk);\n      map.panTo(r.point);\n    }, {\n      enableHighAccuracy: true\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"allmap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 7\n      }\n    });\n  }\n\n}","map":{"version":3,"sources":["D:/myCompany/zhongdianqiche/mobile/src/components/LocationCity/index.js"],"names":["React","LocationCity","Component","componentDidMount","sessionStorage","getItem","getCity","map","window","BMap","Map","point","Point","centerAndZoom","geolocation","Geolocation","getCurrentPosition","r","setItem","address","city","mk","Marker","addOverlay","panTo","enableHighAccuracy","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAe,MAAMC,YAAN,SAA2BD,KAAK,CAACE,SAAjC,CAA2C;AACxDC,EAAAA,iBAAiB,GAAI;AACnB;AACA,QAAI,CAACC,cAAc,CAACC,OAAf,CAAuB,MAAvB,CAAL,EAAqC,KAAKC,OAAL;AACtC,GAJuD,CAKxD;;;AACAA,EAAAA,OAAO,GAAI;AACT,QAAIC,GAAG,GAAG,IAAIC,MAAM,CAACC,IAAP,CAAYC,GAAhB,CAAoB,QAApB,CAAV;AACA,QAAIC,KAAK,GAAG,IAAIH,MAAM,CAACC,IAAP,CAAYG,KAAhB,CAAsB,UAAtB,EAAkC,SAAlC,CAAZ;AACAL,IAAAA,GAAG,CAACM,aAAJ,CAAkBF,KAAlB,EAAyB,EAAzB;AACA,QAAIG,WAAW,GAAG,IAAIN,MAAM,CAACC,IAAP,CAAYM,WAAhB,EAAlB;AACAD,IAAAA,WAAW,CAACE,kBAAZ,CAA+BC,CAAC,IAAI;AAClCb,MAAAA,cAAc,CAACc,OAAf,CAAuB,MAAvB,EAA+BD,CAAC,CAACE,OAAF,CAAUC,IAAzC;AACA,UAAIC,EAAE,GAAG,IAAIb,MAAM,CAACC,IAAP,CAAYa,MAAhB,CAAuBL,CAAC,CAACN,KAAzB,CAAT;AACAJ,MAAAA,GAAG,CAACgB,UAAJ,CAAeF,EAAf;AACAd,MAAAA,GAAG,CAACiB,KAAJ,CAAUP,CAAC,CAACN,KAAZ;AACD,KALD,EAKG;AAAEc,MAAAA,kBAAkB,EAAE;AAAtB,KALH;AAMD;;AACDC,EAAAA,MAAM,GAAI;AACR,wBACE;AAAK,MAAA,EAAE,EAAC,QAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF;AAGD;;AAtBuD","sourcesContent":["import React from 'react'\r\n\r\nexport default class LocationCity extends React.Component {\r\n  componentDidMount () {\r\n    // 获取当前城市\r\n    if (!sessionStorage.getItem('city')) this.getCity()\r\n  }\r\n  // 获取当前城市\r\n  getCity () {\r\n    let map = new window.BMap.Map(\"allmap\")\r\n    let point = new window.BMap.Point(116.331398, 39.897445)\r\n    map.centerAndZoom(point, 18)\r\n    let geolocation = new window.BMap.Geolocation()\r\n    geolocation.getCurrentPosition(r => {\r\n      sessionStorage.setItem('city', r.address.city)\r\n      let mk = new window.BMap.Marker(r.point)\r\n      map.addOverlay(mk)\r\n      map.panTo(r.point)\r\n    }, { enableHighAccuracy: true })\r\n  }\r\n  render () {\r\n    return (\r\n      <div id=\"allmap\"></div>\r\n    )\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}