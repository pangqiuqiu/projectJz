{"ast":null,"code":"import React, { useEffect } from 'react';\nimport axios from '../../../untils/axios';\nimport { wexinPay } from '../../../untils/wx';\nimport { useHistory } from 'react-router-dom';\n\nconst Pay = props => {\n  const u = JSON.parse(props.match.params.u);\n  const history = useHistory();\n  useEffect(() => {\n    axios.post('/gather/addSign', {\n      code: window.location.href,\n      ...u,\n      gatherId: u.id\n    }).then(() => {\n      wexinPay({\n        appId: res.appId,\n        nonceStr: res.nonceStr,\n        package: res.package,\n        paySign: res.paySign,\n        signType: res.signType,\n        timeStamp: res.timeStamp\n      }, () => {\n        Toast.fail('支付成功', 2);\n        history.goBack();\n      });\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null);\n};\n\nexport default Pay;","map":{"version":3,"sources":["D:/myCompany/zhongdianqiche/mobile/src/views/Activity/Pay/index.js"],"names":["React","useEffect","axios","wexinPay","useHistory","Pay","props","u","JSON","parse","match","params","history","post","code","window","location","href","gatherId","id","then","appId","res","nonceStr","package","paySign","signType","timeStamp","Toast","fail","goBack"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,uBAAlB;AACA,SAASC,QAAT,QAAyB,oBAAzB;AACA,SAASC,UAAT,QAA2B,kBAA3B;;AAEA,MAAMC,GAAG,GAAIC,KAAD,IAAW;AACrB,QAAMC,CAAC,GAAGC,IAAI,CAACC,KAAL,CAAWH,KAAK,CAACI,KAAN,CAAYC,MAAZ,CAAmBJ,CAA9B,CAAV;AACA,QAAMK,OAAO,GAAGR,UAAU,EAA1B;AACAH,EAAAA,SAAS,CAAC,MAAM;AACdC,IAAAA,KAAK,CAACW,IAAN,CAAW,iBAAX,EAA8B;AAAEC,MAAAA,IAAI,EAAEC,MAAM,CAACC,QAAP,CAAgBC,IAAxB;AAA8B,SAAGV,CAAjC;AAAoCW,MAAAA,QAAQ,EAAEX,CAAC,CAACY;AAAhD,KAA9B,EAAoFC,IAApF,CAAyF,MAAM;AAC7FjB,MAAAA,QAAQ,CACN;AACEkB,QAAAA,KAAK,EAAEC,GAAG,CAACD,KADb;AAEEE,QAAAA,QAAQ,EAAED,GAAG,CAACC,QAFhB;AAGEC,QAAAA,OAAO,EAAEF,GAAG,CAACE,OAHf;AAIEC,QAAAA,OAAO,EAAEH,GAAG,CAACG,OAJf;AAKEC,QAAAA,QAAQ,EAAEJ,GAAG,CAACI,QALhB;AAMEC,QAAAA,SAAS,EAAEL,GAAG,CAACK;AANjB,OADM,EASN,MAAM;AACJC,QAAAA,KAAK,CAACC,IAAN,CAAW,MAAX,EAAmB,CAAnB;AACAjB,QAAAA,OAAO,CAACkB,MAAR;AACD,OAZK,CAAR;AAcD,KAfD;AAgBD,GAjBQ,EAiBN,EAjBM,CAAT;AAkBA,sBACE,yCADF;AAGD,CAxBD;;AA0BA,eAAezB,GAAf","sourcesContent":["import React, { useEffect } from 'react'\r\nimport axios from '../../../untils/axios'\r\nimport { wexinPay } from '../../../untils/wx'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nconst Pay = (props) => {\r\n  const u = JSON.parse(props.match.params.u)\r\n  const history = useHistory()\r\n  useEffect(() => {\r\n    axios.post('/gather/addSign', { code: window.location.href, ...u, gatherId: u.id }).then(() => {\r\n      wexinPay(\r\n        {\r\n          appId: res.appId,\r\n          nonceStr: res.nonceStr,\r\n          package: res.package,\r\n          paySign: res.paySign,\r\n          signType: res.signType,\r\n          timeStamp: res.timeStamp\r\n        },\r\n        () => {\r\n          Toast.fail('支付成功', 2)\r\n          history.goBack()\r\n        }\r\n      )\r\n    })\r\n  }, [])\r\n  return (\r\n    <></>\r\n  )\r\n}\r\n\r\nexport default Pay\r\n"]},"metadata":{},"sourceType":"module"}