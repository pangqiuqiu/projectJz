{"ast":null,"code":"import \"antd-mobile/lib/button/style/css\";\nimport _Button from \"antd-mobile/lib/button\";\nimport \"antd-mobile/lib/input-item/style/css\";\nimport _InputItem from \"antd-mobile/lib/input-item\";\nimport \"antd-mobile/lib/toast/style/css\";\nimport _Toast from \"antd-mobile/lib/toast\";\nvar _jsxFileName = \"H:\\\\jz\\\\w\\\\zhong\\\\mobile\\\\src\\\\views\\\\TabFourth\\\\Myform\\\\index.js\";\nimport React from 'react';\nimport styles from './index.module.css';\nimport url from 'url';\nimport axios from '../../../untils/axios';\nexport default class Myform extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      series: url.parse(this.props.location.search, true).query.id,\n      name: '',\n      phone: '',\n      city: sessionStorage.getItem('city')\n    };\n  }\n\n  // 获取用户姓名\n  changeName(e) {\n    this.setState({\n      name: e\n    });\n  } // 获取用户手机号\n\n\n  changePhone(e) {\n    this.setState({\n      phone: e\n    });\n  }\n\n  async handle() {\n    if (this.state.name === '' || !/^1[3456789]\\d{9}$/.test(this.state.phone)) return _Toast.fail('请将信息填写完整', 2);\n    const res = await axios.post('/sale/addEnquiry', this.state);\n    if (res.data !== true || res.status !== 200) return _Toast.fail('提交失败', 1);\n\n    _Toast.success('提交成功', 1);\n\n    this.props.history.goBack();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        padding: '15px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      className: styles.ul,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 13\n      }\n    }, \"\\u9009\\u62E9\\u7684\\u8F66\\u7CFB:\"), /*#__PURE__*/React.createElement(_InputItem, {\n      type: \"text\",\n      value: this.state.series,\n      style: {\n        width: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 13\n      }\n    }, \"\\u5BF9\\u60A8\\u7684\\u79F0\\u547C:\"), /*#__PURE__*/React.createElement(_InputItem, {\n      type: \"text\",\n      value: this.state.name,\n      onChange: this.changeName.bind(this),\n      style: {\n        width: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }\n    }, \"\\u60A8\\u7684\\u8054\\u7CFB\\u65B9\\u5F0F:\"), /*#__PURE__*/React.createElement(_InputItem, {\n      type: \"text\",\n      value: this.state.phone,\n      onChange: this.changePhone.bind(this),\n      style: {\n        width: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(_Button, {\n      type: \"primary\",\n      onClick: this.handle.bind(this),\n      style: {\n        marginTop: '20px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }\n    }, \"\\u63D0\\u4EA4\\u4FE1\\u606F\"));\n  }\n\n}","map":{"version":3,"sources":["H:/jz/w/zhong/mobile/src/views/TabFourth/Myform/index.js"],"names":["React","styles","url","axios","Myform","Component","state","series","parse","props","location","search","query","id","name","phone","city","sessionStorage","getItem","changeName","e","setState","changePhone","handle","test","fail","res","post","data","status","success","history","goBack","render","padding","ul","width","bind","marginTop"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { InputItem, Button, Toast } from 'antd-mobile'\r\nimport styles from './index.module.css'\r\nimport url from 'url'\r\nimport axios from '../../../untils/axios'\r\n\r\nexport default class Myform extends React.Component {\r\n  state = {\r\n    series: url.parse(this.props.location.search, true).query.id,\r\n    name: '',\r\n    phone: '',\r\n    city: sessionStorage.getItem('city')\r\n  }\r\n  // 获取用户姓名\r\n  changeName (e) {\r\n    this.setState({ name: e })\r\n  }\r\n  // 获取用户手机号\r\n  changePhone (e) {\r\n    this.setState({ phone: e })\r\n  }\r\n  async handle () {\r\n    if (this.state.name === '' || !(/^1[3456789]\\d{9}$/.test(this.state.phone))) return Toast.fail('请将信息填写完整', 2)\r\n    const res = await axios.post('/sale/addEnquiry', this.state)\r\n    if (res.data !== true || res.status !== 200) return Toast.fail('提交失败', 1)\r\n    Toast.success('提交成功', 1)\r\n    this.props.history.goBack()\r\n  }\r\n  render () {\r\n    return (\r\n      <div style={{padding: '15px'}}>\r\n        {/* 表单 */}\r\n        <ul className={styles.ul}>\r\n          <li>\r\n            <div>选择的车系:</div>\r\n            <InputItem type=\"text\" value={this.state.series} style={{width: '100%'}}></InputItem>\r\n          </li>\r\n          <li>\r\n            <div>对您的称呼:</div>\r\n            <InputItem type=\"text\" value={this.state.name} onChange={this.changeName.bind(this)} style={{width: '100%'}}></InputItem>\r\n          </li>\r\n          <li>\r\n            <div>您的联系方式:</div>\r\n            <InputItem type=\"text\" value={this.state.phone} onChange={this.changePhone.bind(this)} style={{width: '100%'}}></InputItem>\r\n          </li>\r\n        </ul>\r\n        {/* 提交 */}\r\n        <Button type=\"primary\" onClick={this.handle.bind(this)} style={{marginTop: '20px'}}>提交信息</Button>\r\n      </div>\r\n    )\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}