{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\myCompany\\\\zhongdianqiche\\\\a\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\myCompany\\\\zhongdianqiche\\\\a\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"D:\\\\myCompany\\\\zhongdianqiche\\\\a\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\myCompany\\\\zhongdianqiche\\\\a\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\myCompany\\\\zhongdianqiche\\\\a\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\myCompany\\\\zhongdianqiche\\\\a\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import url from'url';// 组件\nimport DownloadApp from'../../../components/DownloadApp';// 样式\nimport styles from'./index.module.css';import axios from'../../../untils/axios';var SeriesDetails=/*#__PURE__*/function(_React$Component){_inherits(SeriesDetails,_React$Component);var _super=_createSuper(SeriesDetails);function SeriesDetails(){var _this;_classCallCheck(this,SeriesDetails);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={id:url.parse(_this.props.location.search,true).query.id,// 车型数量\nnum:0,list:[],label:'大咖评车',currentIndex:0};_this.handle=function(type,id){if(type==='重点号资讯'){_this.props.history.push(\"/infor_details?id=\".concat(id));}else{_this.props.history.push(\"/video_details?id=\".concat(id));}};return _this;}_createClass(SeriesDetails,[{key:\"componentDidMount\",value:function componentDidMount(){// 获取重点号内容\nthis.getList();// 获取车型数量\nthis.getCarNum();}// 获取车型数量\n},{key:\"getCarNum\",value:function(){var _getCarNum=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$post,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post('/car/carTypeNum',{series:this.state.id});case 2:_yield$axios$post=_context.sent;res=_yield$axios$post.data;this.setState({num:res});case 5:case\"end\":return _context.stop();}}},_callee,this);}));function getCarNum(){return _getCarNum.apply(this,arguments);}return getCarNum;}()// 获取重点号内容\n},{key:\"getList\",value:function(){var _getList=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _yield$axios$post2,res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.post('/keyN/seriesKeyN',{label:this.state.label,series:this.state.id});case 2:_yield$axios$post2=_context2.sent;res=_yield$axios$post2.data;this.setState({list:res});case 5:case\"end\":return _context2.stop();}}},_callee2,this);}));function getList(){return _getList.apply(this,arguments);}return getList;}()// 改变tab\n},{key:\"changeTitle\",value:function changeTitle(item,index){var _this2=this;this.setState({currentIndex:index,label:item.title},function(){_this2.getList();});}// 跳转\n},{key:\"render\",value:function render(){var _this3=this;// tab栏标题\nvar tabs=[{title:'大咖评车'},{title:'技术解读'},{title:'用车宝典'},{title:'玩车行家'},{title:'行业分析'},{title:'自驾旅行'},{title:'新能源车'},{title:'热点聚焦'},{title:'汽车文化'},{title:'车展'}];return/*#__PURE__*/React.createElement(\"div\",{style:{paddingTop:'70px'}},/*#__PURE__*/React.createElement(DownloadApp,null),/*#__PURE__*/React.createElement(\"div\",{className:styles.image},/*#__PURE__*/React.createElement(\"img\",{src:\"https://tupiancar.oss-cn-zhangjiakou.aliyuncs.com/series/\".concat(this.state.id,\".jpg\"),style:{width:'100%'},alt:\"\"}),/*#__PURE__*/React.createElement(\"div\",{className:styles.cover}),/*#__PURE__*/React.createElement(\"h3\",null,this.state.id)),/*#__PURE__*/React.createElement(\"ul\",{className:styles.gird,style:{marginBottom:'15px',backgroundColor:'#fff',paddingTop:'10px'}},/*#__PURE__*/React.createElement(\"li\",{onClick:function onClick(){return _this3.props.history.push(\"/icon/cartype?id=\".concat(_this3.state.id));}},/*#__PURE__*/React.createElement(\"img\",{alt:\"\",style:{width:'40px',height:'40px'},src:require('../../../assets/series/chexingliebiao@2x.png')}),/*#__PURE__*/React.createElement(\"div\",null,this.state.num,\"\\u6B3E\\u8F66\\u578B\")),/*#__PURE__*/React.createElement(\"li\",{onClick:function onClick(){return _this3.props.history.push(\"/icon/distributor?id=\".concat(_this3.state.id));}},/*#__PURE__*/React.createElement(\"img\",{alt:\"\",style:{width:'40px',height:'40px'},src:require('../../../assets/series/jingxiaosahng@2x.png')}),/*#__PURE__*/React.createElement(\"div\",null,\"\\u7ECF\\u9500\\u5546\")),/*#__PURE__*/React.createElement(\"li\",{onClick:function onClick(){return _this3.props.history.push(\"/icon/picture?id=\".concat(_this3.state.id));}},/*#__PURE__*/React.createElement(\"img\",{alt:\"\",style:{width:'40px',height:'40px'},src:require('../../../assets/series/tupian@2x.png')}),/*#__PURE__*/React.createElement(\"div\",null,\"\\u5B9E\\u62CD\\u56FE\\u7247\"))),/*#__PURE__*/React.createElement(\"ul\",{className:styles.hobbyList},tabs.map(function(item,index){return/*#__PURE__*/React.createElement(\"li\",{onClick:function onClick(){_this3.changeTitle(item,index);},style:_this3.state.currentIndex===index?{'color':'#000',fontSize:'15px'}:{},key:item.title},item.title);})),/*#__PURE__*/React.createElement(\"div\",{className:styles.main},this.state.list.map(function(item){return/*#__PURE__*/React.createElement(\"div\",{className:styles.item,key:item.id,onClick:function onClick(){_this3.handle(item.type,item.id);}},/*#__PURE__*/React.createElement(\"img\",{style:{width:'100%'},alt:\"\",src:item.object.coverPic}),/*#__PURE__*/React.createElement(\"h3\",{className:styles.title},item.object.title),/*#__PURE__*/React.createElement(\"div\",{className:styles.user},/*#__PURE__*/React.createElement(\"img\",{style:{width:'40px',height:'40px',marginRight:'15px'},alt:\"\",src:item.key.headPic}),/*#__PURE__*/React.createElement(\"span\",null,item.key.name)));})));}}]);return SeriesDetails;}(React.Component);export{SeriesDetails as default};","map":{"version":3,"sources":["D:/myCompany/zhongdianqiche/a/src/views/TabThird/SeriesDetails/index.js"],"names":["React","url","DownloadApp","styles","axios","SeriesDetails","state","id","parse","props","location","search","query","num","list","label","currentIndex","handle","type","history","push","getList","getCarNum","post","series","res","data","setState","item","index","title","tabs","paddingTop","image","width","cover","gird","marginBottom","backgroundColor","height","require","hobbyList","map","changeTitle","fontSize","main","object","coverPic","user","marginRight","key","headPic","name","Component"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport url from 'url'\r\n// 组件\r\nimport DownloadApp from '../../../components/DownloadApp'\r\n// 样式\r\nimport styles from './index.module.css'\r\nimport axios from '../../../untils/axios'\r\n\r\nexport default class SeriesDetails extends React.Component {\r\n  state = {\r\n    id: url.parse(this.props.location.search, true).query.id,\r\n    // 车型数量\r\n    num: 0,\r\n    list: [],\r\n    label: '大咖评车',\r\n    currentIndex: 0\r\n  }\r\n  componentDidMount () {\r\n    // 获取重点号内容\r\n    this.getList()\r\n    // 获取车型数量\r\n    this.getCarNum()\r\n  }\r\n  // 获取车型数量\r\n  async getCarNum () {\r\n    const { data: res } = await axios.post('/car/carTypeNum', {\r\n      series: this.state.id\r\n    })\r\n    this.setState({ num: res })\r\n  }\r\n  // 获取重点号内容\r\n  async getList () {\r\n    const { data: res } = await axios.post('/keyN/seriesKeyN', {\r\n      label: this.state.label,\r\n      series: this.state.id\r\n    })\r\n    this.setState({ list: res })\r\n  }\r\n  // 改变tab\r\n  changeTitle (item,index) {\r\n    this.setState({\r\n      currentIndex: index,\r\n      label: item.title\r\n    }, () => {\r\n      this.getList()\r\n    })\r\n  }\r\n  // 跳转\r\n  handle = (type, id) => {\r\n    if (type === '重点号资讯') {\r\n      this.props.history.push(`/infor_details?id=${id}`)\r\n    } else {\r\n      this.props.history.push(`/video_details?id=${id}`)\r\n    }\r\n  }\r\n  render () {\r\n    // tab栏标题\r\n    const tabs = [\r\n      { title: '大咖评车' },\r\n      { title: '技术解读' },\r\n      { title: '用车宝典' },\r\n      { title: '玩车行家' },\r\n      { title: '行业分析' },\r\n      { title: '自驾旅行' },\r\n      { title: '新能源车' },\r\n      { title: '热点聚焦' },\r\n      { title: '汽车文化' },\r\n      { title: '车展' }\r\n    ]\r\n    return (\r\n      <div style={{paddingTop: '70px'}}>\r\n        {/* 下载APP */}\r\n        <DownloadApp></DownloadApp>\r\n        {/* 轮播图 */}\r\n        <div className={styles.image}>\r\n          <img src={`https://tupiancar.oss-cn-zhangjiakou.aliyuncs.com/series/${this.state.id}.jpg`} style={{width: '100%'}} alt=\"\" />\r\n          <div className={styles.cover}></div>\r\n          <h3>{this.state.id}</h3>\r\n        </div>\r\n        {/* 分类列表 */}\r\n        <ul className={styles.gird} style={{marginBottom: '15px',backgroundColor: '#fff', paddingTop: '10px'}}>\r\n          <li onClick={() => this.props.history.push(`/icon/cartype?id=${this.state.id}`)}>\r\n            <img alt=\"\" style={{width: '40px', height: '40px'}} src={require('../../../assets/series/chexingliebiao@2x.png')} />\r\n            <div>{this.state.num}款车型</div>\r\n          </li>\r\n          <li onClick={() => this.props.history.push(`/icon/distributor?id=${this.state.id}`)}>\r\n            <img alt=\"\" style={{width: '40px', height: '40px'}} src={require('../../../assets/series/jingxiaosahng@2x.png')} />\r\n            <div>经销商</div>\r\n          </li>\r\n          <li onClick={() => this.props.history.push(`/icon/picture?id=${this.state.id}`)}>\r\n            <img alt=\"\" style={{width: '40px', height: '40px'}} src={require('../../../assets/series/tupian@2x.png')} />\r\n            <div>实拍图片</div>\r\n          </li>\r\n        </ul>\r\n        {/* 重点号 */}\r\n        <ul className={styles.hobbyList}>\r\n          {\r\n            tabs.map((item,index) => {\r\n              return <li onClick={() => {this.changeTitle(item,index)}} style={this.state.currentIndex === index ? {'color': '#000', fontSize: '15px'} : {}} key={item.title}>{item.title}</li>\r\n            })\r\n          }\r\n        </ul>\r\n        <div className={styles.main}>\r\n          {\r\n            this.state.list.map(item => {\r\n              return <div className={styles.item} key={item.id} onClick={() => {this.handle(item.type,item.id)}}>\r\n                <img style={{width: '100%'}} alt=\"\" src={item.object.coverPic} />\r\n                <h3 className={styles.title}>{item.object.title}</h3>\r\n                <div className={styles.user}>\r\n                  <img style={{width: '40px', height: '40px', marginRight: '15px'}} alt=\"\" src={item.key.headPic} />\r\n                  <span>{item.key.name}</span>\r\n                </div>\r\n              </div>\r\n            })\r\n          }\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}