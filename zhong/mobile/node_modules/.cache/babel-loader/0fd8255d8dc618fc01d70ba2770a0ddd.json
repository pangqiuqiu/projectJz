{"ast":null,"code":"var _jsxFileName = \"D:\\\\myCompany\\\\zhongdianqiche\\\\a\\\\src\\\\views\\\\TabThird\\\\Icon\\\\Picture\\\\index.js\";\nimport React from 'react';\nimport url from 'url'; // 图片预览和懒加载\n\nimport WxImageViewer from 'react-wx-images-viewer'; // axios\n\nimport axios from '../../../../untils/axios'; // 样式\n\nimport styles from './index.module.css';\nexport default class Picture extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      id: url.parse(this.props.location.search, true).query.id,\n      type: ['外观', '内饰', '空间'],\n      // 标题\n      currentIndex: 0,\n      place: '外观',\n      picList: [],\n      // 图片数组\n      index: 0,\n      isOpen: false\n    };\n\n    this.onClose = () => {\n      this.setState({\n        isOpen: false\n      });\n    };\n  }\n\n  componentDidMount() {\n    // 获取图片信息\n    this.getPhoto();\n  } // 获取图片信息\n\n\n  async getPhoto() {\n    const {\n      data: res\n    } = await axios.post('/pic/picList', {\n      series: this.state.id,\n      place: this.state.place\n    });\n    this.setState({\n      picList: res\n    });\n  } // 切换图片分类\n\n\n  changePicture(item, index) {\n    this.setState({\n      currentIndex: index,\n      place: item\n    }, () => {\n      this.getPhoto();\n    });\n  }\n\n  openViewer(index) {\n    this.setState({\n      index,\n      isOpen: true\n    });\n  }\n\n  render() {\n    const {\n      index,\n      isOpen\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      style: {\n        height: '50px',\n        lineHeight: '50px',\n        backgroundColor: '#fff',\n        padding: '0 20px',\n        position: 'fixed',\n        width: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }\n    }, this.state.id), /*#__PURE__*/React.createElement(\"ul\", {\n      className: styles.typeList,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }\n    }, this.state.type.map((item, index) => {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        onClick: this.changePicture.bind(this, item, index),\n        style: this.state.currentIndex === index ? {\n          'color': 'rgb(43, 121, 255)'\n        } : {},\n        key: item,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 22\n        }\n      }, item);\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        overflow: 'hidden'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.image,\n      style: {\n        marginTop: '100px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }\n    }, this.state.picList.map((item, index) => {\n      return /*#__PURE__*/React.createElement(\"img\", {\n        src: item,\n        className: styles.itemImage,\n        key: item,\n        style: {\n          width: '30%'\n        },\n        alt: \"\",\n        onClick: this.openViewer.bind(this, index),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 24\n        }\n      });\n    }))), isOpen ? /*#__PURE__*/React.createElement(WxImageViewer, {\n      onClose: this.onClose,\n      urls: this.state.picList,\n      index: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 20\n      }\n    }) : \"\");\n  }\n\n}","map":{"version":3,"sources":["D:/myCompany/zhongdianqiche/a/src/views/TabThird/Icon/Picture/index.js"],"names":["React","url","WxImageViewer","axios","styles","Picture","Component","state","id","parse","props","location","search","query","type","currentIndex","place","picList","index","isOpen","onClose","setState","componentDidMount","getPhoto","data","res","post","series","changePicture","item","openViewer","render","height","lineHeight","backgroundColor","padding","position","width","typeList","map","bind","overflow","image","marginTop","itemImage"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport url from 'url'\r\n// 图片预览和懒加载\r\nimport WxImageViewer from 'react-wx-images-viewer'\r\n// axios\r\nimport axios from '../../../../untils/axios'\r\n// 样式\r\nimport styles from './index.module.css'\r\n\r\nexport default class Picture extends React.Component {\r\n  state = {\r\n    id: url.parse(this.props.location.search, true).query.id,\r\n    type: ['外观', '内饰', '空间'], // 标题\r\n    currentIndex: 0,\r\n    place: '外观',\r\n    picList: [], // 图片数组\r\n    index: 0,\r\n    isOpen: false\r\n  }\r\n  componentDidMount () {\r\n    // 获取图片信息\r\n    this.getPhoto()\r\n  }\r\n  // 获取图片信息\r\n  async getPhoto() {\r\n    const { data: res } = await axios.post('/pic/picList', {\r\n      series: this.state.id,\r\n      place: this.state.place\r\n    })\r\n    this.setState({ picList: res })\r\n  }\r\n  // 切换图片分类\r\n  changePicture (item,index) {\r\n    this.setState({ currentIndex: index, place: item }, () => {\r\n      this.getPhoto()\r\n    })\r\n  }\r\n  onClose = () => {\r\n    this.setState({ isOpen: false })\r\n  }\r\n  openViewer (index) {\r\n    this.setState({ index, isOpen: true })\r\n  }\r\n  render () {\r\n    const { index, isOpen } = this.state\r\n    return (\r\n      <div>\r\n        {/* 车系 */}\r\n        <h2 style={{height: '50px', lineHeight: '50px', backgroundColor: '#fff', padding: '0 20px', position: 'fixed', width: '100%'}}>{this.state.id}</h2>\r\n        {/* 分类 */}\r\n        <ul className={styles.typeList}>\r\n          {\r\n            this.state.type.map((item,index) => {\r\n              return <li onClick={this.changePicture.bind(this,item,index)} style={this.state.currentIndex === index ? {'color': 'rgb(43, 121, 255)'} : {}} key={item}>{item}</li>\r\n            })\r\n          }\r\n        </ul>\r\n        {/* 图片 */}\r\n        <div style={{overflow: 'hidden'}}>\r\n          <div className={styles.image} style={{marginTop: '100px'}}>\r\n            {\r\n              this.state.picList.map((item, index) => {\r\n                return <img src={item} className={styles.itemImage} key={item} style={{width: '30%'}} alt=\"\" onClick={this.openViewer.bind(this, index)} />\r\n              })\r\n            }\r\n          </div>\r\n        </div>\r\n        {\r\n          isOpen ? <WxImageViewer onClose={this.onClose} urls={this.state.picList} index={index} /> : \"\"\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}