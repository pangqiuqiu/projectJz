{"remainingRequest":"H:\\jz\\w\\zhong\\car\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!H:\\jz\\w\\zhong\\car\\src\\views\\distributor\\Infor.vue?vue&type=script&lang=js&","dependencies":[{"path":"H:\\jz\\w\\zhong\\car\\src\\views\\distributor\\Infor.vue","mtime":1598240379357},{"path":"H:\\jz\\w\\zhong\\car\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"H:\\jz\\w\\zhong\\car\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"H:\\jz\\w\\zhong\\car\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"H:\\jz\\w\\zhong\\car\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgRGlzdHJpYnV0b3IgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9EaXN0cmlidXRvci52dWUnDQpleHBvcnQgZGVmYXVsdCB7DQogIGNvbXBvbmVudHM6IHsNCiAgICBEaXN0cmlidXRvcg0KICB9LA0KICBkYXRhICgpIHsNCiAgICByZXR1cm4gew0KICAgICAgcmFkaW8xOiAn5Zui6LSt5rS75YqoJywNCiAgICAgIHJhZGlvMjogJ+S4jemZkCcsDQogICAgICBzZXJpZXNBcnk6IFtdLA0KICAgICAgcGFnZVNpemU6IDUsDQogICAgICBwYWdlTm86IDEsDQogICAgICB0b3RhbDogMCwNCiAgICAgIGxpc3Q6IFtdDQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgLy8g6I635Y+W6L2m57O7DQogICAgYXN5bmMgZ2V0U2VyaWVzICgpIHsNCiAgICAgIGNvbnN0IHsgZGF0YTogcmVzIH0gPSBhd2FpdCB0aGlzLiRodHRwLnBvc3QoYC9kZWFsZXIvZ2V0RGVhbGVyU2VyaWVzYCwgew0KICAgICAgICBkZWFsZXJJZDogd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2Rpc3RyaWJ1dG9ySWQnKQ0KICAgICAgfSkNCiAgICAgIC8vIGNvbnNvbGUubG9nKHJlcykNCiAgICAgIHRoaXMuc2VyaWVzQXJ5ID0gcmVzDQogICAgfSwNCiAgICAvLyDojrflj5botYTorq8NCiAgICBhc3luYyBnZXRMc2l0ICgpIHsNCiAgICAgIGlmICh0aGlzLnJhZGlvMiA9PT0gJ+S4jemZkCcpIHsNCiAgICAgICAgY29uc3QgeyBkYXRhOiByZXMgfSA9IGF3YWl0IHRoaXMuJGh0dHAucG9zdChgL2RlYWxlci9nZXRJbmZvckRgLCB7DQogICAgICAgICAgZGVhbGVySWQ6IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdkaXN0cmlidXRvcklkJyksDQogICAgICAgICAgcGFnZVNpemU6IHRoaXMucGFnZVNpemUsDQogICAgICAgICAgcGFnZU5vOiB0aGlzLnBhZ2VObywNCiAgICAgICAgICB0eXBlOiB0aGlzLnJhZGlvMSwNCiAgICAgICAgICBzZXJpZXM6ICcnDQogICAgICAgIH0pDQogICAgICAgIHRoaXMubGlzdCA9IHJlcy5sDQogICAgICAgIHRoaXMudG90YWwgPSByZXMubnVtDQogICAgICB9IGVsc2Ugew0KICAgICAgICBjb25zdCB7IGRhdGE6IHJlcyB9ID0gYXdhaXQgdGhpcy4kaHR0cC5wb3N0KGAvZGVhbGVyL2dldEluZm9yRGAsIHsNCiAgICAgICAgICBkZWFsZXJJZDogd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2Rpc3RyaWJ1dG9ySWQnKSwNCiAgICAgICAgICBwYWdlU2l6ZTogdGhpcy5wYWdlU2l6ZSwNCiAgICAgICAgICBwYWdlTm86IHRoaXMucGFnZU5vLA0KICAgICAgICAgIHR5cGU6IHRoaXMucmFkaW8xLA0KICAgICAgICAgIHNlcmllczogdGhpcy5yYWRpbzINCiAgICAgICAgfSkNCiAgICAgICAgdGhpcy5saXN0ID0gcmVzLmwNCiAgICAgICAgdGhpcy50b3RhbCA9IHJlcy5udW0NCiAgICAgIH0NCiAgICB9LA0KICAgIC8vIOaUueWPmOmhteaVsA0KICAgIGNoYW5nZSAoaW5kZXgpIHsNCiAgICAgIHRoaXMucGFnZU5vID0gaW5kZXgNCiAgICAgIHRoaXMuZ2V0THNpdCgpDQogICAgfSwNCiAgICAvLyDlvZPkv6Hmga/liIbnsbvlj5HnlJ/mlLnlj5jml7YNCiAgICBjaGFuZ2VSYWRpbzEgKCkgew0KICAgICAgaWYgKHRoaXMucmFkaW8xID09PSAn5ZOB54mM5paw6Ze7Jykgew0KICAgICAgICB0aGlzLnJhZGlvMiA9ICfkuI3pmZAnDQogICAgICB9DQogICAgICB0aGlzLmdldExzaXQoKQ0KICAgIH0sDQogICAgLy8g5b2T6L2m57O75Y+R55Sf5Y+Y5YyWDQogICAgY2hhbmdlUmFkaW8yICgpIHsNCiAgICAgIHRoaXMuZ2V0THNpdCgpDQogICAgfSwNCiAgICAvLyDor6bmg4XpobUNCiAgICBqdW1wIChpZCkgew0KICAgICAgY29uc3QgeyBocmVmIH0gPSB0aGlzLiRyb3V0ZXIucmVzb2x2ZSh7DQogICAgICAgIHBhdGg6ICcvYXV0b21vdGl2ZWxuZm9ybWF0aW9uL2RldGFpbHMnLA0KICAgICAgICBxdWVyeTogeyBpZDogaWQgfQ0KICAgICAgfSkNCiAgICAgIHdpbmRvdy5vcGVuKGhyZWYsICdfYmxhbmsnKQ0KICAgIH0NCiAgfSwNCiAgY3JlYXRlZCAoKSB7DQogICAgLy8g6I635Y+W6L2m57O7DQogICAgdGhpcy5nZXRTZXJpZXMoKQ0KICAgIC8vIOiOt+WPlui1hOiurw0KICAgIHRoaXMuZ2V0THNpdCgpDQogIH0NCn0NCg=="},{"version":3,"sources":["Infor.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Infor.vue","sourceRoot":"src/views/distributor","sourcesContent":["<template>\r\n  <el-container class=\"w\">\r\n    <!-- 左侧主体 -->\r\n    <el-main width=\"830px\">\r\n      <!-- 主营车系 -->\r\n      <el-card class=\"major\" shadow=\"never\">\r\n        <h3>店铺资讯</h3>\r\n        <!-- 信息分类 -->\r\n        <h5>信息分类 > </h5>\r\n        <el-radio-group v-model=\"radio1\" size=\"mini\" @change=\"changeRadio1\">\r\n          <el-radio border label=\"团购活动\">团购活动</el-radio>\r\n          <el-radio border label=\"店铺活动\">店铺活动</el-radio>\r\n          <el-radio border label=\"品牌新闻\">品牌新闻</el-radio>\r\n        </el-radio-group>\r\n        <div style=\"clear: both;\"></div>\r\n        <!-- 车系选择 -->\r\n        <h5>车系选择 > </h5>\r\n        <el-radio-group @change=\"changeRadio2\" v-model=\"radio2\" size=\"mini\" v-if=\"this.radio1 !== '品牌新闻'\">\r\n          <el-radio border label=\"不限\">不限</el-radio>\r\n          <el-radio border :label=\"item\" v-for=\"item in seriesAry\" :key=\"item\">{{item}}</el-radio>\r\n        </el-radio-group>\r\n        <el-radio-group @change=\"changeRadio2\" v-model=\"radio2\" size=\"mini\" v-else>\r\n          <el-radio border label=\"不限\">不限</el-radio>\r\n        </el-radio-group>\r\n      </el-card>\r\n      <!-- 资讯列表 -->\r\n      <el-card class=\"all\" shadow=\"never\">\r\n        <h1>资讯列表</h1>\r\n        <!-- 分割线 -->\r\n        <el-divider></el-divider>\r\n        <ul>\r\n          <li v-for=\"(item,index) in list\" :key=\"index\">\r\n            <img :src=\"item.coverPic\" alt=\"\" style=\"width: 300px; height: 150px\">\r\n            <div>\r\n              <h3 @click=\"jump(item.id)\">{{item.title}}</h3>\r\n              <p>{{item.intro}}</p>\r\n              <div class=\"store\">\r\n                <div>{{item.type}}</div>\r\n                <div>{{item.issueDate}}</div>\r\n              </div>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n        <!-- 分页 -->\r\n        <el-pagination\r\n          background\r\n          layout=\"prev, pager, next\"\r\n          hide-on-single-page\r\n          @current-change=\"change\"\r\n          :page-size=\"pageSize\"\r\n          :current-page=\"pageNo\"\r\n          :total=\"total\">\r\n        </el-pagination>\r\n      </el-card>\r\n    </el-main>\r\n    <!-- 右侧商家地址 -->\r\n    <el-aside style=\"padding-top: 20px;\">\r\n      <Distributor></Distributor>\r\n    </el-aside>\r\n  </el-container>\r\n</template>\r\n\r\n<script>\r\nimport Distributor from '../../components/Distributor.vue'\r\nexport default {\r\n  components: {\r\n    Distributor\r\n  },\r\n  data () {\r\n    return {\r\n      radio1: '团购活动',\r\n      radio2: '不限',\r\n      seriesAry: [],\r\n      pageSize: 5,\r\n      pageNo: 1,\r\n      total: 0,\r\n      list: []\r\n    }\r\n  },\r\n  methods: {\r\n    // 获取车系\r\n    async getSeries () {\r\n      const { data: res } = await this.$http.post(`/dealer/getDealerSeries`, {\r\n        dealerId: window.sessionStorage.getItem('distributorId')\r\n      })\r\n      // console.log(res)\r\n      this.seriesAry = res\r\n    },\r\n    // 获取资讯\r\n    async getLsit () {\r\n      if (this.radio2 === '不限') {\r\n        const { data: res } = await this.$http.post(`/dealer/getInforD`, {\r\n          dealerId: window.sessionStorage.getItem('distributorId'),\r\n          pageSize: this.pageSize,\r\n          pageNo: this.pageNo,\r\n          type: this.radio1,\r\n          series: ''\r\n        })\r\n        this.list = res.l\r\n        this.total = res.num\r\n      } else {\r\n        const { data: res } = await this.$http.post(`/dealer/getInforD`, {\r\n          dealerId: window.sessionStorage.getItem('distributorId'),\r\n          pageSize: this.pageSize,\r\n          pageNo: this.pageNo,\r\n          type: this.radio1,\r\n          series: this.radio2\r\n        })\r\n        this.list = res.l\r\n        this.total = res.num\r\n      }\r\n    },\r\n    // 改变页数\r\n    change (index) {\r\n      this.pageNo = index\r\n      this.getLsit()\r\n    },\r\n    // 当信息分类发生改变时\r\n    changeRadio1 () {\r\n      if (this.radio1 === '品牌新闻') {\r\n        this.radio2 = '不限'\r\n      }\r\n      this.getLsit()\r\n    },\r\n    // 当车系发生变化\r\n    changeRadio2 () {\r\n      this.getLsit()\r\n    },\r\n    // 详情页\r\n    jump (id) {\r\n      const { href } = this.$router.resolve({\r\n        path: '/automotivelnformation/details',\r\n        query: { id: id }\r\n      })\r\n      window.open(href, '_blank')\r\n    }\r\n  },\r\n  created () {\r\n    // 获取车系\r\n    this.getSeries()\r\n    // 获取资讯\r\n    this.getLsit()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.w {\r\n  width: 1200px;\r\n  margin: 0 auto;\r\n}\r\n// 主营车系\r\n.major {\r\n  .el-radio {\r\n    margin-left: 0!important;\r\n    margin-right: 5px!important;\r\n    margin-bottom: 5px;\r\n  }\r\n  h3 {\r\n    padding-bottom: 10px;\r\n    // border-bottom: 1px dashed #ccc;\r\n    margin-bottom: 10px;\r\n  }\r\n  h5 {\r\n    margin-bottom: 5px;\r\n  }\r\n}\r\n// 资讯列表\r\n.all {\r\n  margin-top: 20px;\r\n  h1 {\r\n    padding-bottom: 10px;\r\n  }\r\n  li {\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    padding: 20px 0;\r\n    border-bottom: 1px dashed #ccc;\r\n    img {\r\n      width: 200px;\r\n      margin-right: 20px;\r\n    }\r\n    h3:hover {\r\n      color: rgb(43, 121, 255);\r\n      cursor: pointer;\r\n    }\r\n    p {\r\n      color: #777;\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n      display: -webkit-box;\r\n      -webkit-box-orient: vertical;\r\n      -webkit-line-clamp: 3;\r\n    }\r\n    .store {\r\n      font-size: 12px;\r\n      color: #999;\r\n      overflow: hidden;\r\n      :first-child {\r\n        float: left;\r\n        padding: 3px 6px;\r\n        border: 1px solid #ccc;\r\n      }\r\n      :last-child {\r\n        float: left;\r\n        margin-left: 50px;\r\n      }\r\n    }\r\n  }\r\n  // 分页\r\n  .el-pagination {\r\n    margin-top: 20px;\r\n    text-align: center;\r\n  }\r\n}\r\n</style>\r\n"]}]}