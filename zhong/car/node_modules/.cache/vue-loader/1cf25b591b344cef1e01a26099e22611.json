{"remainingRequest":"D:\\myCompany\\zhongdianqiche\\car\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\myCompany\\zhongdianqiche\\car\\src\\components\\media\\rank\\InforVideo.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\myCompany\\zhongdianqiche\\car\\src\\components\\media\\rank\\InforVideo.vue","mtime":1589353615347},{"path":"D:\\myCompany\\zhongdianqiche\\car\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\myCompany\\zhongdianqiche\\car\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\myCompany\\zhongdianqiche\\car\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\myCompany\\zhongdianqiche\\car\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgQ29va2llIGZyb20gJ2pzLWNvb2tpZScNCmltcG9ydCB7IGZvbGxvdyB9IGZyb20gJy4uLy4uLy4uL2Fzc2V0cy9qcy9yZXF1ZXN0Jw0KZXhwb3J0IGRlZmF1bHQgew0KICBwcm9wczogWyd0aXRsZSddLA0KICBkYXRhICgpIHsNCiAgICByZXR1cm4gew0KICAgICAgLy8g6K+m5oOFDQogICAgICB0YWJsZURhdGE6IFtdLA0KICAgICAgZGVtbzogdGhpcy50aXRsZQ0KICAgIH0NCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICB0aXRsZSAobmV3VmFsKSB7DQogICAgICB0aGlzLmRlbW8gPSBuZXdWYWwNCiAgICAgIHRoaXMuZ2V0VGFibGUoKQ0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC8vIOiOt+WPluaVsOaNrg0KICAgIGFzeW5jIGdldFRhYmxlICgpIHsNCiAgICAgIGNvbnN0IHsgZGF0YTogcmVzIH0gPSBhd2FpdCB0aGlzLiRodHRwLnBvc3QoJy9rZXkvaXZSYW5rJywgew0KICAgICAgICB0eXBlOiB0aGlzLmRlbW8sDQogICAgICAgIHVzZXJJZDogQ29va2llLmdldCgnSUQnKSB8fCAnJw0KICAgICAgfSkNCiAgICAgIHRoaXMudGFibGVEYXRhID0gcmVzDQogICAgfSwNCiAgICAvLyDlhbPms6gNCiAgICBhc3luYyBjbGlja0ZvbGxvdyAoaWQpIHsNCiAgICAgIGlmICghQ29va2llLmdldCgnSUQnKSB8fCAhQ29va2llLmdldCgndG9rZW4nKSkgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+ivt+WFiOeZu+W9leWTpicpDQogICAgICBjb25zdCByZXMgPSBhd2FpdCBmb2xsb3coeyB1c2VySWQ6IENvb2tpZS5nZXQoJ0lEJyksIGtleUlkOiBpZCB9KQ0KICAgICAgaWYgKHJlcy5kYXRhICE9PSB0cnVlIHx8IHJlcy5zdGF0dXMgIT09IDIwMCkgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+aTjeS9nOWksei0pScpDQogICAgICB0aGlzLmdldFRhYmxlKCkNCiAgICB9LA0KICAgIC8vIOeCueWHu+WQjeensOi3s+i9rOivpuaDhQ0KICAgIGNsaWNrTmFtZSAocm93KSB7DQogICAgICBpZiAocm93LnR5cGUgPT09ICfph43ngrnlj7fotYTorq8nKSB7DQogICAgICAgIGNvbnN0IHsgaHJlZiB9ID0gdGhpcy4kcm91dGVyLnJlc29sdmUoew0KICAgICAgICAgIHBhdGg6ICcvbWVkaWEvZGV0YWlscy9pbmZvcicsDQogICAgICAgICAgcXVlcnk6IHsgaWQ6IHJvdy5pZCB9DQogICAgICAgIH0pDQogICAgICAgIHdpbmRvdy5vcGVuKGhyZWYsICdfYmxhbmsnKQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgY29uc3QgeyBocmVmIH0gPSB0aGlzLiRyb3V0ZXIucmVzb2x2ZSh7DQogICAgICAgICAgcGF0aDogJy9tZWRpYS9kZXRhaWxzL3ZpZGVvJywNCiAgICAgICAgICBxdWVyeTogeyBpZDogcm93LmlkIH0NCiAgICAgICAgfSkNCiAgICAgICAgd2luZG93Lm9wZW4oaHJlZiwgJ19ibGFuaycpDQogICAgICB9DQogICAgfSwNCiAgICAvLyDkuKrkurrkuLvpobXpnaINCiAgICB1c2VySW1nIChyb3cpIHsNCiAgICAgIGNvbnN0IHsgaHJlZiB9ID0gdGhpcy4kcm91dGVyLnJlc29sdmUoew0KICAgICAgICBwYXRoOiAnL21lZGlhL3VzZXInLA0KICAgICAgICBxdWVyeTogeyBpZDogcm93LmtleUlkIH0NCiAgICAgIH0pDQogICAgICB3aW5kb3cub3BlbihocmVmLCAnX2JsYW5rJykNCiAgICB9DQogIH0sDQogIGNyZWF0ZWQgKCkgew0KICAgIHRoaXMuZ2V0VGFibGUoKQ0KICB9DQp9DQo="},{"version":3,"sources":["InforVideo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"InforVideo.vue","sourceRoot":"src/components/media/rank","sourcesContent":["<template>\r\n  <el-table\r\n    :data=\"tableData\"\r\n    :header-cell-style=\"{ 'text-align': 'center' }\"\r\n    :cell-style=\"{ 'text-align': 'center' }\"\r\n    stripe\r\n    style=\"width: 100%\">\r\n    <el-table-column label=\"排名\" width=\"150\">\r\n      <template slot-scope=\"scope\">\r\n        <span v-if=\"scope.$index === 0\"><img src=\"../../../assets/media/first.png\" alt=\"\"></span>\r\n        <span v-else-if=\"scope.$index === 1\"><img src=\"../../../assets/media/second.png\" alt=\"\"></span>\r\n        <span v-else-if=\"scope.$index === 2\"><img src=\"../../../assets/media/third.png\" alt=\"\"></span>\r\n        <span v-else>{{scope.$index + 1}}</span>\r\n      </template>\r\n    </el-table-column>\r\n    <el-table-column label=\"标题\">\r\n      <template slot-scope=\"scope\">\r\n        <span style=\"cursor: pointer;\" @click=\"clickName(scope.row)\">{{scope.row.title}}</span>\r\n      </template>\r\n    </el-table-column>\r\n    <el-table-column prop=\"clickNum\" label=\"点击数\">\r\n    </el-table-column>\r\n    <el-table-column label=\"头像\" width=\"150\">\r\n      <template slot-scope=\"scope\">\r\n        <img @click=\"userImg(scope.row)\" style=\"width: 60px; height: 60px; border-radius: 50%;cursor: pointer;\" :src=\"scope.row.key.headPic\" alt=\"\">\r\n      </template>\r\n    </el-table-column>\r\n    <el-table-column label=\"关注\" width=\"150\">\r\n      <template slot-scope=\"scope\">\r\n        <el-button type=\"primary\" size=\"mini\" v-show=\"scope.row.key.bgz === false\" @click=\"clickFollow(scope.row.keyId)\">+ 关注</el-button>\r\n        <el-button type=\"success\" style=\"margin: 0\" size=\"mini\" v-show=\"scope.row.key.bgz === true\" @click=\"clickFollow(scope.row.keyId)\">已关注</el-button>\r\n      </template>\r\n    </el-table-column>\r\n  </el-table>\r\n</template>\r\n\r\n<script>\r\nimport Cookie from 'js-cookie'\r\nimport { follow } from '../../../assets/js/request'\r\nexport default {\r\n  props: ['title'],\r\n  data () {\r\n    return {\r\n      // 详情\r\n      tableData: [],\r\n      demo: this.title\r\n    }\r\n  },\r\n  watch: {\r\n    title (newVal) {\r\n      this.demo = newVal\r\n      this.getTable()\r\n    }\r\n  },\r\n  methods: {\r\n    // 获取数据\r\n    async getTable () {\r\n      const { data: res } = await this.$http.post('/key/ivRank', {\r\n        type: this.demo,\r\n        userId: Cookie.get('ID') || ''\r\n      })\r\n      this.tableData = res\r\n    },\r\n    // 关注\r\n    async clickFollow (id) {\r\n      if (!Cookie.get('ID') || !Cookie.get('token')) return this.$message.error('请先登录哦')\r\n      const res = await follow({ userId: Cookie.get('ID'), keyId: id })\r\n      if (res.data !== true || res.status !== 200) return this.$message.error('操作失败')\r\n      this.getTable()\r\n    },\r\n    // 点击名称跳转详情\r\n    clickName (row) {\r\n      if (row.type === '重点号资讯') {\r\n        const { href } = this.$router.resolve({\r\n          path: '/media/details/infor',\r\n          query: { id: row.id }\r\n        })\r\n        window.open(href, '_blank')\r\n      } else {\r\n        const { href } = this.$router.resolve({\r\n          path: '/media/details/video',\r\n          query: { id: row.id }\r\n        })\r\n        window.open(href, '_blank')\r\n      }\r\n    },\r\n    // 个人主页面\r\n    userImg (row) {\r\n      const { href } = this.$router.resolve({\r\n        path: '/media/user',\r\n        query: { id: row.keyId }\r\n      })\r\n      window.open(href, '_blank')\r\n    }\r\n  },\r\n  created () {\r\n    this.getTable()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n</style>\r\n"]}]}