{"remainingRequest":"H:\\jz\\前端\\w\\zhong\\car\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!H:\\jz\\前端\\w\\zhong\\car\\src\\views\\media\\SettledIn.vue?vue&type=style&index=0&id=50768e49&lang=less&scoped=true&","dependencies":[{"path":"H:\\jz\\前端\\w\\zhong\\car\\src\\views\\media\\SettledIn.vue","mtime":1592364198524},{"path":"H:\\jz\\前端\\w\\zhong\\car\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"H:\\jz\\前端\\w\\zhong\\car\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"H:\\jz\\前端\\w\\zhong\\car\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"H:\\jz\\前端\\w\\zhong\\car\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"H:\\jz\\前端\\w\\zhong\\car\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"H:\\jz\\前端\\w\\zhong\\car\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQoudyB7DQogIHdpZHRoOiAxMjAwcHg7DQogIG1hcmdpbjogMCBhdXRvOw0KICBwYWRkaW5nOiAxMHB4IDIwcHg7DQogIGJhY2tncm91bmQtY29sb3I6ICNmZmY7DQogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7DQogIG1pbi1oZWlnaHQ6IDMwMHB4Ow0KfQ0KDQovLyDmraXpqqTmnaENCi5lbC1zdGVwcyB7DQogIG1hcmdpbi1ib3R0b206IDMwcHg7DQp9DQoNCi8vIOmAieaLqeexu+Weiw0KLnR5cGUgew0KICBkaXNwbGF5OiBmbGV4Ow0KICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDsNCiAgdGV4dC1hbGlnbjogY2VudGVyOw0KICBkaXYgew0KICAgIHdpZHRoOiA0NjBweDsNCiAgICBoZWlnaHQ6IDMzMHB4Ow0KICAgIGJvcmRlcjogMXB4IHNvbGlkICNFREVERUQ7DQogICAgaW1nIHsNCiAgICAgIG1hcmdpbjogMjBweCAwOw0KICAgIH0NCiAgICBoMiB7DQogICAgICBjb2xvcjogIzJCNzdGRjsNCiAgICB9DQogICAgcCB7DQogICAgICBwYWRkaW5nOiAyMHB4Ow0KICAgICAgZm9udC1zaXplOiAxNHB4Ow0KICAgICAgY29sb3I6ICM5OTk5OTk7DQogICAgfQ0KICB9DQogIGRpdjpob3ZlciB7DQogICAgYm9yZGVyOiAxcHggc29saWQgcmdiKDQzLCAxMjEsIDI1NSk7DQogICAgY3Vyc29yOiBwb2ludGVyOw0KICB9DQp9DQoNCi8vIOWbvueJh+S4iuS8oA0KLmF2YXRhci11cGxvYWRlciB7DQogIHdpZHRoOiAyMjBweDsNCiAgaW1nIHsNCiAgICB3aWR0aDogMTgwcHg7DQogICAgaGVpZ2h0OiAxODBweDsNCiAgfQ0KfQ0KLmF2YXRhci11cGxvYWRlci1pY29uIHsNCiAgZm9udC1zaXplOiAyOHB4Ow0KICBjb2xvcjogIzhjOTM5ZDsNCiAgd2lkdGg6IDE3OHB4Ow0KICBoZWlnaHQ6IDE3OHB4Ow0KICBsaW5lLWhlaWdodDogMTc4cHg7DQogIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgYm9yZGVyOiAxcHggZGFzaGVkICNkOWQ5ZDk7DQp9DQoNCi8vIOi6q+S7veivgeS4iuS8oA0KLmF2YXRhciB7DQogIHdpZHRoOiAzNDBweDsNCiAgaW1nIHsNCiAgICB3aWR0aDogMzAwcHg7DQogICAgaGVpZ2h0OiAxNTBweDsNCiAgfQ0KfQ0KLmF2YXRhci1pY29uIHsNCiAgZm9udC1zaXplOiAyOHB4Ow0KICBjb2xvcjogIzhjOTM5ZDsNCiAgd2lkdGg6IDI5OHB4Ow0KICBoZWlnaHQ6IDE0OHB4Ow0KICBsaW5lLWhlaWdodDogMTQ4cHg7DQogIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgYm9yZGVyOiAxcHggZGFzaGVkICNkOWQ5ZDk7DQp9DQoNCi8vIOWFpempu+eUs+ivtw0KLmFwcGx5IHsNCiAgaDIgew0KICAgIG1hcmdpbi1ib3R0b206IDE1cHg7DQogIH0NCiAgdGV4dGFyZWEgew0KICAgIHdpZHRoOiAxMDAlOw0KICAgIGhlaWdodDogODBweDsNCiAgICByZXNpemU6IG5vbmU7DQogIH0NCiAgLy8g5aS05YOPDQogIC5pbWFnZSB7DQogICAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgICAuZWwtdXBsb2FkIHsNCiAgICAgIGZsb2F0OiBsZWZ0Ow0KICAgICAgLmF2YXRhci11cGxvYWRlciB7DQogICAgICAgIHdpZHRoOiAyMjBweDsNCiAgICAgIH0NCiAgICB9DQogICAgZGl2IHsNCiAgICAgIGZsb2F0OiBsZWZ0Ow0KICAgICAgd2lkdGg6IDMxMHB4Ow0KICAgIH0NCiAgfQ0KICAvLyDor4Hku7bnhacNCiAgLmhvbGQgew0KICAgIG92ZXJmbG93OiBoaWRkZW47DQogICAgLml0ZW0gew0KICAgICAgZmxvYXQ6IGxlZnQ7DQogICAgfQ0KICB9DQogIC8vIOWfjuW4gg0KICAuYXJlYSB7DQogICAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgICAuZWwtZm9ybS1pdGVtIHsNCiAgICAgIGZsb2F0OiBsZWZ0Ow0KICAgIH0NCiAgfQ0KICAvLyDmjInpkq4NCiAgLmJ0biB7DQogICAgZGlzcGxheTogZmxleDsNCiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgICAuZWwtYnV0dG9uIHsNCiAgICAgIHdpZHRoOiAyMDBweDsNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["SettledIn.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SettledIn.vue","sourceRoot":"src/views/media","sourcesContent":["<template>\r\n  <div class=\"w\">\r\n    <el-steps :active=\"active\" finish-status=\"success\">\r\n      <el-step title=\"选择类型\"></el-step>\r\n      <el-step title=\"填写资料\"></el-step>\r\n      <el-step title=\"等待审核\"></el-step>\r\n    </el-steps>\r\n    <!-- 选择类型 -->\r\n    <div class=\"type\" v-show=\"active === 0\">\r\n      <div @click=\"clickType('个人')\">\r\n        <img src=\"../../assets/media/geren.png\" alt=\"\">\r\n        <h2>个人/团队</h2>\r\n        <p>适合垂直领域专家，意见领袖，评论家等个人/团队创作者申请，注入后不可更改运营者信息</p>\r\n      </div>\r\n      <div @click=\"clickType('企业')\">\r\n        <img src=\"../../assets/media/qiye.png\" alt=\"\">\r\n        <h2>机构/企业</h2>\r\n        <p>适合企业，公司及其分支机构，旗下品牌等申请，适合以公司形式注册，可以提供营业执照的自媒体机构申请</p>\r\n      </div>\r\n    </div>\r\n    <!-- 公司/个人入驻申请 -->\r\n    <div v-show=\"active === 1\" class=\"apply\">\r\n      <el-form :rules=\"rules\" :model=\"formInlink\" label-width=\"130px\" class=\"demo-ruleForm\" label-position=\"left\" ref=\"formInlink\">\r\n        <h2>基础信息</h2>\r\n        <el-form-item label=\"重点号名称\" prop=\"name\">\r\n          <el-input v-model=\"formInlink.name\" placeholder=\"2-10个字，请使用汉字、字母、数字、下划线，字符中间不能有空格\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"重点号简介\" prop=\"intro\">\r\n          <el-input type=\"textarea\" v-model=\"formInlink.intro\" placeholder=\"简介将显示在媒体主页，请勿发布个人手机号码、邮箱、广告营销信息，请勿超过60个字\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"重点号头像\" class=\"image\">\r\n          <el-upload\r\n            class=\"avatar-uploader\"\r\n            :action=\"action\"\r\n            :show-file-list=\"false\"\r\n            name=\"image_data\"\r\n            :on-success=\"handleAvatarSuccessUser\"\r\n            :before-upload=\"beforeAvatarUpload\">\r\n            <img v-if=\"imageUserUrl\" :src=\"imageUserUrl\" class=\"avatar\">\r\n            <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n          </el-upload>\r\n          <div>\r\n            建议图片比例为1:1，宽度不小于1080像素。能代表个人、机构或品牌形象，请勿使用低俗图片、二维码、其他机构企业等涉嫌误导用户的头像,大小不超过2M\r\n          </div>\r\n        </el-form-item>\r\n        <div v-if=\"this.formInlink.type === '企业'\">\r\n          <h2>主体信息</h2>\r\n          <el-form-item label=\"机构名称\" prop=\"organizationName\">\r\n            <el-input v-model=\"formInlink.organizationName\" placeholder=\"请输入机构名称, 一旦提交，机构名称不可修改\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"机构代码\" prop=\"organizationCode\">\r\n            <el-input v-model=\"formInlink.organizationCode\" placeholder=\"同一个主体只允许注册十个帐号\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"机构代码证\" class=\"image\">\r\n            <el-upload\r\n              class=\"avatar-uploader\"\r\n              :action=\"action\"\r\n              name=\"image_data\"\r\n              :show-file-list=\"false\"\r\n              :on-success=\"handleAvatarSuccessCompany\"\r\n              :before-upload=\"beforeAvatarUpload\">\r\n              <img v-if=\"imageCompanyUrl\" :src=\"imageCompanyUrl\" class=\"avatar\">\r\n              <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n            </el-upload>\r\n            <div>\r\n              请上传组织机构代码证扫描件，要求内容清晰可见,大小不超过2M\r\n            </div>\r\n          </el-form-item>\r\n        </div>\r\n        <h2>运营者信息</h2>\r\n        <el-form-item label=\"运营者姓名\" prop=\"yname\">\r\n          <el-input v-model=\"formInlink.yname\" placeholder=\"请填写有效证件上的姓名，信息审核成功后身份证姓名不可修改\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"居民身份证号\" prop=\"number\">\r\n          <el-input v-model=\"formInlink.number\" placeholder=\"请确保证件号和运营者姓名对应，同一个证件允许申请3个车家号\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"手持证件照\" class=\"hold\">\r\n          <div class=\"item\">\r\n            <el-upload\r\n              class=\"avatar\"\r\n              :action=\"action\"\r\n              name=\"image_data\"\r\n              :show-file-list=\"false\"\r\n              :on-success=\"handleAvatarSuccessIDz\"\r\n              :before-upload=\"beforeAvatarUpload\">\r\n              <img v-if=\"imageIDzUrl\" :src=\"imageIDzUrl\" class=\"avatar\">\r\n              <i v-else class=\"el-icon-plus avatar-icon\"></i>\r\n            </el-upload>\r\n            <span>上传正面</span>\r\n          </div>\r\n          <div class=\"item\">\r\n            <el-upload\r\n              class=\"avatar\"\r\n              :action=\"action\"\r\n              name=\"image_data\"\r\n              :show-file-list=\"false\"\r\n              :on-success=\"handleAvatarSuccessIDf\"\r\n              :before-upload=\"beforeAvatarUpload\">\r\n              <img v-if=\"imageIDfUrl\" :src=\"imageIDfUrl\" class=\"avatar\">\r\n              <i v-else class=\"el-icon-plus avatar-icon\"></i>\r\n            </el-upload>\r\n            <span>上传反面</span>\r\n          </div>\r\n        </el-form-item>\r\n        <el-form-item label=\"所在城市\" class=\"area\" required>\r\n          <el-form-item prop=\"province\">\r\n            <el-select @change=\"changeProvince\" v-model=\"formInlink.province\" placeholder=\"请选择省份\" style=\"margin-right: 20px\">\r\n              <el-option v-for=\"item in provinceList\" :key=\"item.provinceid\" :label=\"item.province\" :value=\"item.provinceid\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item prop=\"city\">\r\n            <el-select @visible-change=\"getCity($event)\" v-model=\"formInlink.city\" placeholder=\"请选择城市\">\r\n              <el-option v-for=\"item in cityList\" :key=\"item.cityid\" :label=\"item.city\" :value=\"item.cityid\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-form-item>\r\n        <el-form-item label=\"联系人电话\" prop=\"phone\">\r\n          <el-input v-model=\"formInlink.phone\" placeholder=\"请填写本人常用手机，以作为日常联络使用\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"手机验证码\" prop=\"code\">\r\n          <el-input v-model.number=\"formInlink.code\" style=\"width: 200px; margin-right: 20px\"></el-input>\r\n          <el-button @click=\"getCode\">{{!codetime?'发送验证码':codetime + 's后重新获取'}}</el-button>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-checkbox v-model=\"checked\"></el-checkbox>\r\n          我同意并遵守<el-button type=\"text\">《重点汽车网重点号平台服务协议》</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div class=\"btn\">\r\n        <el-button type=\"primary\" @click=\"clickPreviousStep\">上一步</el-button>\r\n        <el-button type=\"success\" :disabled=\"disabled\" @click=\"submit('formInlink')\">提交审核</el-button>\r\n      </div>\r\n    </div>\r\n    <!-- 等待审核 -->\r\n    <div v-show=\"active === 2\">\r\n      <h2 style=\"text-align: center\">您的申请已提交，请耐心等待工作人员审核</h2>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Cookie from 'js-cookie'\r\nexport default {\r\n  data () {\r\n    return {\r\n      // 步骤条\r\n      active: 0,\r\n      // 图片上传接口\r\n      action: 'http://39.100.156.125:8090/upload/upload2',\r\n      // 用户照片\r\n      imageUserUrl: '',\r\n      imageCompanyUrl: '',\r\n      imageIDzUrl: '',\r\n      imageIDfUrl: '',\r\n      // 表单\r\n      formInlink: {\r\n        type: '',\r\n        name: '',\r\n        intro: '',\r\n        headPic: '',\r\n        organizationName: '',\r\n        organizationCode: '',\r\n        organizationCodeZ: '',\r\n        yname: '',\r\n        number: '',\r\n        photoz: '',\r\n        photof: '',\r\n        province: '',\r\n        city: '',\r\n        phone: '',\r\n        code: '',\r\n        userId: Cookie.get('ID')\r\n      },\r\n      // 城市\r\n      provinceList: [],\r\n      cityList: [],\r\n      // 复选框\r\n      checked: true,\r\n      // 表单验证\r\n      rules: {\r\n        name: [\r\n          { required: true, message: '请输入重点号名称', trigger: 'blur' },\r\n          { min: 2, max: 10, message: '长度在 2 到 10 个字符', trigger: 'blur' }\r\n        ],\r\n        intro: [\r\n          { required: true, message: '请输入重点号简介', trigger: 'blur' },\r\n          { min: 1, max: 60, message: '长度在 不超过 60 个字符', trigger: 'blur' }\r\n        ],\r\n        organizationName: [\r\n          { required: true, message: '请输入机构名称', trigger: 'blur' },\r\n          { min: 1, max: 50, message: '长度在 不超过 50 个字符', trigger: 'blur' }\r\n        ],\r\n        organizationCode: [\r\n          { required: true, message: '请输入机构代码', trigger: 'blur' },\r\n          { min: 1, max: 50, message: '长度在 不超过 50 个字符', trigger: 'blur' }\r\n        ],\r\n        yname: [\r\n          { required: true, message: '请输入运营者姓名', trigger: 'blur' }\r\n        ],\r\n        number: [\r\n          { required: true, message: '请输入运营者身份证号码', trigger: 'blur' }\r\n        ],\r\n        province: [\r\n          { required: true, message: '请选择省份', trigger: 'change' }\r\n        ],\r\n        city: [\r\n          { required: true, message: '请选择城市', trigger: 'change' }\r\n        ],\r\n        phone: [\r\n          { required: true, message: '请输入常用手机号', trigger: 'blur' }\r\n        ],\r\n        code: [\r\n          { required: true, message: '请输入短信验证码', trigger: 'blur' }\r\n        ]\r\n      },\r\n      // 验证码倒计时\r\n      codetime: 0\r\n    }\r\n  },\r\n  computed: {\r\n    // 判断图片是否已经上传\r\n    disabled () {\r\n      if (this.formInlink.type === '个人' && (this.imageUserUrl || this.imageIDzUrl || this.imageIDfUrl)) return false\r\n      if (this.formInlink.type === '企业' && (this.imageUserUrl || this.imageCompanyUrl || this.imageIDzUrl || this.imageIDfUrl)) return false\r\n      return true\r\n    }\r\n  },\r\n  created () {\r\n    // 省份\r\n    this.getProvince()\r\n  },\r\n  methods: {\r\n    // 选择类型\r\n    clickType (index) {\r\n      this.formInlink.type = index\r\n      this.active = 1\r\n    },\r\n    // 图片上传\r\n    handleAvatarSuccessUser (res, file) {\r\n      this.imageUserUrl = URL.createObjectURL(file.raw)\r\n      this.formInlink.headPic = res\r\n    },\r\n    handleAvatarSuccessCompany (res, file) {\r\n      this.imageCompanyUrl = URL.createObjectURL(file.raw)\r\n      this.formInlink.organizationCodeZ = res\r\n    },\r\n    handleAvatarSuccessIDz (res, file) {\r\n      this.imageIDzUrl = URL.createObjectURL(file.raw)\r\n      this.formInlink.photoz = res\r\n    },\r\n    handleAvatarSuccessIDf (res, file) {\r\n      this.imageIDfUrl = URL.createObjectURL(file.raw)\r\n      this.formInlink.photof = res\r\n    },\r\n    beforeAvatarUpload (file) {\r\n      // const isJPG = file.type === 'image/jpeg'\r\n      const isLt2M = file.size / 1024 / 1024 < 2\r\n      // if (!isJPG) {\r\n      //   this.$message.error('上传头像图片只能是 JPG 格式!')\r\n      // }\r\n      if (!isLt2M) {\r\n        this.$message.error('上传头像图片大小不能超过 2MB!')\r\n      }\r\n      return isLt2M\r\n    },\r\n    // 省份\r\n    async getProvince () {\r\n      const { data: res } = await this.$http.post('/area/showProvince')\r\n      this.provinceList = res\r\n    },\r\n    changeProvince () {\r\n      this.formInlink.city = ''\r\n    },\r\n    // 城市\r\n    async getCity (callback) {\r\n      if (callback === true) {\r\n        const { data: res } = await this.$http.post('/area/showCity', {\r\n          provinceid: this.formInlink.province\r\n        })\r\n        this.cityList = res\r\n      }\r\n    },\r\n    // 获取短信验证码\r\n    async getCode () {\r\n      if (this.formInlink.phone === '' || this.formInlink.phone.length !== 11) {\r\n        return alert('请输入手机号')\r\n      }\r\n      if (this.codetime > 0) {\r\n        return\r\n      }\r\n      // 发送AJAX请求，成功时设置定时器 console.log('获取验证码')\r\n      this.codetime = 60\r\n      const timer = setInterval(() => {\r\n        this.codetime--\r\n        if (this.codetime < 1) {\r\n          clearInterval(timer)\r\n          this.codetime = 0\r\n        }\r\n      }, 1000)\r\n      await this.$http.post('/user/sendCode', {\r\n        phone: this.formInlink.phone\r\n      })\r\n    },\r\n    // 回到上一步\r\n    clickPreviousStep () {\r\n      this.active = 0\r\n      // 重置表单项\r\n      this.$refs.formInlink.resetFields()\r\n    },\r\n    // 提交审核\r\n    submit (formInlink) {\r\n      // 判断用户是否登录\r\n      if (!Cookie.get('ID') || !Cookie.get('token')) return this.$router.push('/login/login')\r\n      // 判断是否勾选复选框\r\n      if (this.checked === false) {\r\n        return this.$message.error('请勾选相关协议')\r\n      }\r\n      this.$refs[formInlink].validate(async valid => {\r\n        if (!valid) return this.$message.error('请完善表单内容')\r\n        const res = await this.$http.post('/key/addKey', this.formInlink)\r\n        if (res.status !== 200 || res.data !== true) {\r\n          return this.$message.error('提交数据失败')\r\n        }\r\n        this.active = 2\r\n      })\r\n    }\r\n  },\r\n  mounted () {\r\n    document.querySelector('body').setAttribute('style', 'background-color: #f5f5f5')\r\n  },\r\n  beforeDestroy () {\r\n    document.querySelector('body').removeAttribute('style')\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.w {\r\n  width: 1200px;\r\n  margin: 0 auto;\r\n  padding: 10px 20px;\r\n  background-color: #fff;\r\n  box-sizing: border-box;\r\n  min-height: 300px;\r\n}\r\n\r\n// 步骤条\r\n.el-steps {\r\n  margin-bottom: 30px;\r\n}\r\n\r\n// 选择类型\r\n.type {\r\n  display: flex;\r\n  justify-content: space-around;\r\n  text-align: center;\r\n  div {\r\n    width: 460px;\r\n    height: 330px;\r\n    border: 1px solid #EDEDED;\r\n    img {\r\n      margin: 20px 0;\r\n    }\r\n    h2 {\r\n      color: #2B77FF;\r\n    }\r\n    p {\r\n      padding: 20px;\r\n      font-size: 14px;\r\n      color: #999999;\r\n    }\r\n  }\r\n  div:hover {\r\n    border: 1px solid rgb(43, 121, 255);\r\n    cursor: pointer;\r\n  }\r\n}\r\n\r\n// 图片上传\r\n.avatar-uploader {\r\n  width: 220px;\r\n  img {\r\n    width: 180px;\r\n    height: 180px;\r\n  }\r\n}\r\n.avatar-uploader-icon {\r\n  font-size: 28px;\r\n  color: #8c939d;\r\n  width: 178px;\r\n  height: 178px;\r\n  line-height: 178px;\r\n  text-align: center;\r\n  border: 1px dashed #d9d9d9;\r\n}\r\n\r\n// 身份证上传\r\n.avatar {\r\n  width: 340px;\r\n  img {\r\n    width: 300px;\r\n    height: 150px;\r\n  }\r\n}\r\n.avatar-icon {\r\n  font-size: 28px;\r\n  color: #8c939d;\r\n  width: 298px;\r\n  height: 148px;\r\n  line-height: 148px;\r\n  text-align: center;\r\n  border: 1px dashed #d9d9d9;\r\n}\r\n\r\n// 入驻申请\r\n.apply {\r\n  h2 {\r\n    margin-bottom: 15px;\r\n  }\r\n  textarea {\r\n    width: 100%;\r\n    height: 80px;\r\n    resize: none;\r\n  }\r\n  // 头像\r\n  .image {\r\n    overflow: hidden;\r\n    .el-upload {\r\n      float: left;\r\n      .avatar-uploader {\r\n        width: 220px;\r\n      }\r\n    }\r\n    div {\r\n      float: left;\r\n      width: 310px;\r\n    }\r\n  }\r\n  // 证件照\r\n  .hold {\r\n    overflow: hidden;\r\n    .item {\r\n      float: left;\r\n    }\r\n  }\r\n  // 城市\r\n  .area {\r\n    overflow: hidden;\r\n    .el-form-item {\r\n      float: left;\r\n    }\r\n  }\r\n  // 按钮\r\n  .btn {\r\n    display: flex;\r\n    justify-content: center;\r\n    .el-button {\r\n      width: 200px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}