{"remainingRequest":"D:\\myCompany\\zhongdianqiche\\car\\node_modules\\thread-loader\\dist\\cjs.js!D:\\myCompany\\zhongdianqiche\\car\\node_modules\\babel-loader\\lib\\index.js!D:\\myCompany\\zhongdianqiche\\car\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\myCompany\\zhongdianqiche\\car\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\myCompany\\zhongdianqiche\\car\\src\\views\\Main.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\myCompany\\zhongdianqiche\\car\\src\\views\\Main.vue","mtime":1611326892507},{"path":"D:\\myCompany\\zhongdianqiche\\car\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\myCompany\\zhongdianqiche\\car\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\myCompany\\zhongdianqiche\\car\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\myCompany\\zhongdianqiche\\car\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\myCompany\\zhongdianqiche\\car\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJEOi9teUNvbXBhbnkvemhvbmdkaWFucWljaGUvY2FyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyDlub/lkYoKICAgICAgYWR2ZXJ0aXNlTGlzdDogW10sCiAgICAgIGFkdmVydGlzZUxpc3RBbGw6IFtdLAogICAgICBvYmowOiB7fSwKICAgICAgb2JqMToge30sCiAgICAgIG9iajI6IHt9LAogICAgICBvYmozOiB7fSwKICAgICAgb2JqNDoge30sCiAgICAgIG9iajU6IHt9LAogICAgICAvLyDlrprkvY0KICAgICAgTG9jYXRpb25DaXR5OiAnJywKICAgICAgLy8g5Zu+5qCHCiAgICAgIGljb25MaXN0OiBbXSwKICAgICAgLy8g5a+86Iiq6YCJ5Lit6aG5CiAgICAgIGFjdGl2ZUluZGV4OiAnL2hvbWUnLAogICAgICAvLyDmqKrlkJFUYWIKICAgICAgc2xpZGVyRGV0YWlsczogW10sCiAgICAgIHNsaWRlclNlY29uZDogW10sCiAgICAgIGN1cnJlbnRUaXRsZTogMCwKICAgICAgLy8g5LuK5pel54Sm54K5CiAgICAgIHN3aXBlckxpc3Q6IFtdLAogICAgICB0b2RheUxpc3Q6IFtdLAogICAgICBub3RvZGF5TGlzdDogJycsCiAgICAgIGFkdjogZmFsc2UsCiAgICAgIC8vIOeJueWNlgogICAgICBzcGVjaWFsTGlzdDogW10sCiAgICAgIC8vIOiuuuWdmwogICAgICBmb3J1bVN3aXBlckxpc3Q6IFtdLAogICAgICBmb3J1bVBpY0xpc3Q6IFtdLAogICAgICAvLyDop4bpopEKICAgICAgdmlkZW9Td2lwZXJMaXN0OiBbXSwKICAgICAgLy8g6LWE6K6vCiAgICAgIGluZm9ybWF0aW9uVGl0bGVsaXN0OiBbXSwKICAgICAgaW5mb3JtYXRpb25QaG90b2xpc3Q6IFtdLAogICAgICAvLyDlm77niYcKICAgICAgcGhvdG9MaXN0OiBbXSwKICAgICAgLy8g57u85ZCI5o6S6KGM5qacCiAgICAgIEFydGljbGVSYW5raW5nbGlzdDogW10sCiAgICAgIC8vIOaWh+eroOaOkuihjOamnAogICAgICBQb3N0UmFua2luZ2xpc3Q6IFtdLAogICAgICAvLyDluJblrZDmjpLooYzmppwKICAgICAgVmlkZW9SYW5raW5nbGlzdDogW10sCiAgICAgIC8vIOinhumikeaOkuihjOamnAogICAgICBaaG9uZ2RpYW5oYW9saXN0OiBbXSwKICAgICAgLy8g6YeN54K55Y+35o6S6KGM5qacCiAgICAgIC8vIOW6lemDqGZvb3RlciDmoIfpopgKICAgICAgZm9vdGVyTGFiZWw6IFt7CiAgICAgICAgbmFtZTogJ+eDremXqElU5Lqn5ZOBJwogICAgICB9LCB7CiAgICAgICAgbmFtZTogJ+WPi+aDhemTvuaOpScKICAgICAgfV0sCiAgICAgIGZvb3RlckxhYmVsQXJ5OiBbW3sKICAgICAgICBsYWJlbDogJ+W/q+eJmScsCiAgICAgICAganVtcDogJ2h0dHBzOi8vd3d3Lmt1YWl5YS5jbicKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAnMzYw5a6J5YWo5Y2r5aOr5LiL6L29JywKICAgICAgICBqdW1wOiAnaHR0cHM6Ly93d3cuMzYwLmNuJwogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICflv6vmiYsnLAogICAgICAgIGp1bXA6ICdodHRwczovL3d3dy5rdWFpc2hvdS5jb20nCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogJ+iFvuiur+euoeWuticsCiAgICAgICAganVtcDogJ2h0dHBzOi8vbS5xcS5jb20nCiAgICAgIH1dLCBbewogICAgICAgIGxhYmVsOiAn5rG96L2m5LmL5a62JywKICAgICAgICBqdW1wOiAnaHR0cHM6Ly93d3cuYXV0b2hvbWUuY29tLmNuJwogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICfniLHljaHmsb3ovaYnLAogICAgICAgIGp1bXA6ICdodHRwOi8vd3d3LnhjYXIuY29tLmNuJwogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICfmlrDmtarmsb3ovaYnLAogICAgICAgIGp1bXA6ICdodHRwczovL2F1dG8uc2luYS5jb20uY24nCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogJ+aWsOi9puivhOe9kScsCiAgICAgICAganVtcDogJ2h0dHBzOi8vd3d3LnhpbmNoZXBpbmcuY29tJwogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICfnvZHmmJPmsb3ovaYnLAogICAgICAgIGp1bXA6ICdodHRwczovL2F1dG8uMTYzLmNvbScKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAn5Yek5Yew572R5rG96L2mJywKICAgICAgICBqdW1wOiAnaHR0cDovL2F1dG8uaWZlbmcuY29tJwogICAgICB9XV0sCiAgICAgIGZvb3RlckN1cnJlbnRJbmRleDogMCAvLyDlvZPliY3ntKLlvJUKCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLy8g5bm/5ZGK5Yy65Z+fCiAgICBnZXRBZHZlcnRpc2VtZW50QWxsOiBmdW5jdGlvbiBnZXRBZHZlcnRpc2VtZW50QWxsKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgX3lpZWxkJF90aGlzJCRodHRwJHBvLCByZXM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRodHRwLnBvc3QoJy9hZHYvZ2V0QWR2JywgewogICAgICAgICAgICAgICAgICBuYW1lOiBbewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICfpppbpobXnhKbngrnlm74xJywKICAgICAgICAgICAgICAgICAgICBhcmVhOiAnJwogICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ+mmlumhteeEpueCuei1hOiurycsCiAgICAgICAgICAgICAgICAgICAgYXJlYTogJycKICAgICAgICAgICAgICAgICAgfV0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfeWllbGQkX3RoaXMkJGh0dHAkcG8gPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgcmVzID0gX3lpZWxkJF90aGlzJCRodHRwJHBvLmRhdGE7CiAgICAgICAgICAgICAgICBfdGhpcy5hZHZlcnRpc2VMaXN0QWxsID0gcmVzOwogICAgICAgICAgICAgICAgX3RoaXMub2JqMSA9IF90aGlzLmFkdmVydGlzZUxpc3RBbGxbMF0gfHwge307CiAgICAgICAgICAgICAgICBfdGhpcy5vYmozID0gX3RoaXMuYWR2ZXJ0aXNlTGlzdEFsbFsxXSB8fCB7fTsKCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMub2JqMy50aXRsZSkgewogICAgICAgICAgICAgICAgICBfdGhpcy5hZHYgPSB0cnVlOyAvLyDojrflj5bnhKbngrnmoIfpopjotYTorq8KCiAgICAgICAgICAgICAgICAgIF90aGlzLmdldFRvZGF5TGlzdCgpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgLy8g6I635Y+W54Sm54K55qCH6aKY6LWE6K6vCiAgICAgICAgICAgICAgICAgIF90aGlzLmdldFRvZGF5TGlzdCgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzLm9iajMgPSBfdGhpcy50b2RheUxpc3RbMF0gfHwge307CiAgICAgICAgICAgICAgICAgICAgX3RoaXMudG9kYXlMaXN0ID0gX3RoaXMudG9kYXlMaXN0LnNsaWNlKDEsIDI1KTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBnZXRBZHZlcnRpc2VtZW50OiBmdW5jdGlvbiBnZXRBZHZlcnRpc2VtZW50KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBfeWllbGQkX3RoaXMyJCRodHRwJHAsIHJlczsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuJGh0dHAucG9zdCgnL2Fkdi9nZXRBZHYnLCB7CiAgICAgICAgICAgICAgICAgIG5hbWU6IFt7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ+mmlumhtemhtumDqOmAmuagjycsCiAgICAgICAgICAgICAgICAgICAgYXJlYTogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnTG9jYXRpb25Qcm92aW5jZScpCiAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAn6aaW6aG154Sm54K55Zu+MicsCiAgICAgICAgICAgICAgICAgICAgYXJlYTogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnTG9jYXRpb25DaXR5JykKICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICfpppbpobXkuK3pg6jpgJrmoI8nLAogICAgICAgICAgICAgICAgICAgIGFyZWE6IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ0xvY2F0aW9uUHJvdmluY2UnKQogICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ+mmlumhteW6lemDqOmAmuagjycsCiAgICAgICAgICAgICAgICAgICAgYXJlYTogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnTG9jYXRpb25DaXR5JykKICAgICAgICAgICAgICAgICAgfV0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfeWllbGQkX3RoaXMyJCRodHRwJHAgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIHJlcyA9IF95aWVsZCRfdGhpczIkJGh0dHAkcC5kYXRhOwogICAgICAgICAgICAgICAgX3RoaXMyLmFkdmVydGlzZUxpc3QgPSByZXM7CiAgICAgICAgICAgICAgICBfdGhpczIub2JqMCA9IF90aGlzMi5hZHZlcnRpc2VMaXN0WzBdIHx8IHt9OwogICAgICAgICAgICAgICAgX3RoaXMyLm9iajIgPSBfdGhpczIuYWR2ZXJ0aXNlTGlzdFsxXSB8fCB7fTsKICAgICAgICAgICAgICAgIF90aGlzMi5vYmo0ID0gX3RoaXMyLmFkdmVydGlzZUxpc3RbMl0gfHwge307CiAgICAgICAgICAgICAgICBfdGhpczIub2JqNSA9IF90aGlzMi5hZHZlcnRpc2VMaXN0WzNdIHx8IHt9OwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBmb3JlaWduMTogZnVuY3Rpb24gZm9yZWlnbjEoKSB7CiAgICAgIHdpbmRvdy5vcGVuKCJodHRwOi8vIi5jb25jYXQodGhpcy5vYmowLnVybCkpOwogICAgfSwKICAgIGZvcmVpZ24yOiBmdW5jdGlvbiBmb3JlaWduMigpIHsKICAgICAgd2luZG93Lm9wZW4oImh0dHA6Ly8iLmNvbmNhdCh0aGlzLm9iajEudXJsKSk7CiAgICB9LAogICAgZm9yZWlnbjM6IGZ1bmN0aW9uIGZvcmVpZ24zKCkgewogICAgICB3aW5kb3cub3BlbigiaHR0cDovLyIuY29uY2F0KHRoaXMub2JqMi51cmwpKTsKICAgIH0sCiAgICBmb3JlaWduNDogZnVuY3Rpb24gZm9yZWlnbjQoaXRlbSkgewogICAgICBpZiAodGhpcy5hZHYpIHsKICAgICAgICB3aW5kb3cub3BlbigiaHR0cDovLyIuY29uY2F0KHRoaXMub2JqMy51cmwpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmp1bXBfVG9kYXkoaXRlbSk7CiAgICAgIH0KICAgIH0sCiAgICBmb3JlaWduNTogZnVuY3Rpb24gZm9yZWlnbjUoKSB7CiAgICAgIHdpbmRvdy5vcGVuKCJodHRwOi8vIi5jb25jYXQodGhpcy5vYmo0LnVybCkpOwogICAgfSwKICAgIGZvcmVpZ242OiBmdW5jdGlvbiBmb3JlaWduNigpIHsKICAgICAgd2luZG93Lm9wZW4oImh0dHA6Ly8iLmNvbmNhdCh0aGlzLm9iajUudXJsKSk7CiAgICB9LAogICAgLy8g55m+5bqm5a6a5L2NCiAgICByZWFkeTogZnVuY3Rpb24gcmVhZHkoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMzLmdldFNwZWNpYWxzYWxlKCk7CgogICAgICAgIF90aGlzMy5nZXRBZHZlcnRpc2VtZW50KCk7CiAgICAgIH0sIDE1MDApOwogICAgfSwKICAgIC8vIOWbvuaghwogICAgZ2V0SWNvbjogZnVuY3Rpb24gZ2V0SWNvbigpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LiRodHRwLnBvc3QoJy9jYXIvZ2V0QWxsTCcpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzNC5pY29uTGlzdCA9IHJlcy5kYXRhOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDmqKrlkJFUYWIKICAgIGdldFNsaWRlckxpc3Q6IGZ1bmN0aW9uIGdldFNsaWRlckxpc3QoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIF95aWVsZCRfdGhpczUkJGh0dHAkcCwgcmVzOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNS4kaHR0cC5wb3N0KCcvY2FyL3Nob3dUYWInKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3lpZWxkJF90aGlzNSQkaHR0cCRwID0gX2NvbnRleHQ0LnNlbnQ7CiAgICAgICAgICAgICAgICByZXMgPSBfeWllbGQkX3RoaXM1JCRodHRwJHAuZGF0YTsKICAgICAgICAgICAgICAgIF90aGlzNS5zbGlkZXJEZXRhaWxzID0gcmVzOwogICAgICAgICAgICAgICAgX3RoaXM1LnNsaWRlclNlY29uZCA9IF90aGlzNS5zbGlkZXJEZXRhaWxzWzBdLnRhYjsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5YiH5o2idGFi5qCH6aKYCiAgICBoYW5kbGU6IGZ1bmN0aW9uIGhhbmRsZShpbmRleCkgewogICAgICB0aGlzLnNsaWRlclNlY29uZCA9IHRoaXMuc2xpZGVyRGV0YWlsc1tpbmRleF0udGFiOwogICAgICB0aGlzLmN1cnJlbnRUaXRsZSA9IGluZGV4OwogICAgfSwKICAgIC8vIOi3s+i9rOaKpeS7twogICAgaGFuZGxlT2ZmZXJseTogZnVuY3Rpb24gaGFuZGxlT2ZmZXJseSgpIHsKICAgICAgdmFyIF90aGlzJCRyb3V0ZXIkcmVzb2x2ZSA9IHRoaXMuJHJvdXRlci5yZXNvbHZlKHsKICAgICAgICBwYXRoOiAnL2Rpc3RyL29mZmVyJywKICAgICAgICBxdWVyeTogewogICAgICAgICAgaWQ6ICfnuq/nlLXliqgnCiAgICAgICAgfQogICAgICB9KSwKICAgICAgICAgIGhyZWYgPSBfdGhpcyQkcm91dGVyJHJlc29sdmUuaHJlZjsKCiAgICAgIHdpbmRvdy5vcGVuKGhyZWYsICdfYmxhbmsnKTsKICAgIH0sCiAgICBoYW5kbGVPZmZlcjogZnVuY3Rpb24gaGFuZGxlT2ZmZXIoaXRlbSkgewogICAgICB2YXIgX3RoaXMkJHJvdXRlciRyZXNvbHZlMiA9IHRoaXMuJHJvdXRlci5yZXNvbHZlKHsKICAgICAgICBwYXRoOiAnL2Rpc3RyL29mZmVyJywKICAgICAgICBxdWVyeTogewogICAgICAgICAgaWQ6IGl0ZW0KICAgICAgICB9CiAgICAgIH0pLAogICAgICAgICAgaHJlZiA9IF90aGlzJCRyb3V0ZXIkcmVzb2x2ZTIuaHJlZjsKCiAgICAgIHdpbmRvdy5vcGVuKGhyZWYsICdfYmxhbmsnKTsKICAgIH0sCiAgICAvLyDot7Povazmsb3ovabor6bmg4UKICAgIHNlcmllc0hvbWU6IGZ1bmN0aW9uIHNlcmllc0hvbWUoaXRlbSkgewogICAgICB2YXIgX3RoaXMkJHJvdXRlciRyZXNvbHZlMyA9IHRoaXMuJHJvdXRlci5yZXNvbHZlKHsKICAgICAgICBwYXRoOiAnL2F1dG9tb2JpbGUvZGV0YWlscy9kZXRhaWxzaG9tZScKICAgICAgfSksCiAgICAgICAgICBocmVmID0gX3RoaXMkJHJvdXRlciRyZXNvbHZlMy5ocmVmOwoKICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2NhckRldGFpbHMnLCBpdGVtKTsKICAgICAgd2luZG93Lm9wZW4oaHJlZiwgJ19ibGFuaycpOwogICAgfSwKICAgIC8vIOi3s+i9rOWbvueJh+ivpuaDhQogICAgcGljdHVyZTogZnVuY3Rpb24gcGljdHVyZShzZXJpZXMpIHsKICAgICAgdmFyIF90aGlzJCRyb3V0ZXIkcmVzb2x2ZTQgPSB0aGlzLiRyb3V0ZXIucmVzb2x2ZSh7CiAgICAgICAgcGF0aDogJy9waWN0dXJlL3JlYWxzaG9vdGluZycKICAgICAgfSksCiAgICAgICAgICBocmVmID0gX3RoaXMkJHJvdXRlciRyZXNvbHZlNC5ocmVmOwoKICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3Bob3RvJywgc2VyaWVzKTsKICAgICAgd2luZG93Lm9wZW4oaHJlZiwgJ19ibGFuaycpOwogICAgfSwKICAgIC8vIOi3s+i9rOWPguaVsOmFjee9rgogICAgbWF0Y2hpbmc6IGZ1bmN0aW9uIG1hdGNoaW5nKGl0ZW0pIHsKICAgICAgdmFyIF90aGlzJCRyb3V0ZXIkcmVzb2x2ZTUgPSB0aGlzLiRyb3V0ZXIucmVzb2x2ZSh7CiAgICAgICAgcGF0aDogJy9hdXRvbW9iaWxlL2RldGFpbHMvUGFyYW1ldGVyQ29uZmlndXJhdGlvbicKICAgICAgfSksCiAgICAgICAgICBocmVmID0gX3RoaXMkJHJvdXRlciRyZXNvbHZlNS5ocmVmOwoKICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2NhckRldGFpbHMnLCBpdGVtKTsKICAgICAgd2luZG93Lm9wZW4oaHJlZiwgJ19ibGFuaycpOwogICAgfSwKICAgIC8vIOi3s+i9rOiuuuWdmwogICAgdGFibGVGb3J1bTogZnVuY3Rpb24gdGFibGVGb3J1bShpdGVtLCBpZCkgewogICAgICB2YXIgX3RoaXMkJHJvdXRlciRyZXNvbHZlNiA9IHRoaXMuJHJvdXRlci5yZXNvbHZlKHsKICAgICAgICBwYXRoOiAnL2ZvcnVtL3Bvc3QvbGlzdCcsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIG5hbWU6IGl0ZW0sCiAgICAgICAgICBpZDogaWQKICAgICAgICB9CiAgICAgIH0pLAogICAgICAgICAgaHJlZiA9IF90aGlzJCRyb3V0ZXIkcmVzb2x2ZTYuaHJlZjsKCiAgICAgIHdpbmRvdy5vcGVuKGhyZWYsICdfYmxhbmsnKTsKICAgIH0sCiAgICAvLyDku4rml6XnhKbngrkKICAgIC8vIOS7iuaXpeeEpueCuS0tLS3ova7mkq3lm74KICAgIGdldFN3aXBlcjogZnVuY3Rpb24gZ2V0U3dpcGVyKCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHZhciBfeWllbGQkX3RoaXM2JCRodHRwJHAsIHJlczsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczYuJGh0dHAucG9zdCgnL3ZpZGVvL2hvbWVqZCcpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfeWllbGQkX3RoaXM2JCRodHRwJHAgPSBfY29udGV4dDUuc2VudDsKICAgICAgICAgICAgICAgIHJlcyA9IF95aWVsZCRfdGhpczYkJGh0dHAkcC5kYXRhOwogICAgICAgICAgICAgICAgX3RoaXM2LnN3aXBlckxpc3QgPSByZXM7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOS7iuaXpeeEpueCuS0tLS3otYTorq/mlrDpl7sKICAgIGdldFRvZGF5TGlzdDogZnVuY3Rpb24gZ2V0VG9kYXlMaXN0KCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KCkgewogICAgICAgIHZhciBfeWllbGQkX3RoaXM3JCRodHRwJHAsIHJlczsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczcuJGh0dHAucG9zdCgnL3ZpZGVvL2hvbWVqZFQnLCB7CiAgICAgICAgICAgICAgICAgIGFkdjogX3RoaXM3LmFkdgogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF95aWVsZCRfdGhpczckJGh0dHAkcCA9IF9jb250ZXh0Ni5zZW50OwogICAgICAgICAgICAgICAgcmVzID0gX3lpZWxkJF90aGlzNyQkaHR0cCRwLmRhdGE7CiAgICAgICAgICAgICAgICBfdGhpczcudG9kYXlMaXN0ID0gcmVzOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTYpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDku4rml6XnhKbngrktLS0t6Lez6L2sCiAgICBqdW1wX1RvZGF5OiBmdW5jdGlvbiBqdW1wX1RvZGF5KGl0ZW0pIHsKICAgICAgaWYgKGl0ZW0uc2lnbiA9PT0gJ+i1hOiurycpIHsKICAgICAgICB2YXIgX3RoaXMkJHJvdXRlciRyZXNvbHZlNyA9IHRoaXMuJHJvdXRlci5yZXNvbHZlKHsKICAgICAgICAgIHBhdGg6ICcvYXV0b21vdGl2ZWxuZm9ybWF0aW9uL2RldGFpbHMnLAogICAgICAgICAgcXVlcnk6IHsKICAgICAgICAgICAgaWQ6IGl0ZW0uaWQKICAgICAgICAgIH0KICAgICAgICB9KSwKICAgICAgICAgICAgaHJlZiA9IF90aGlzJCRyb3V0ZXIkcmVzb2x2ZTcuaHJlZjsKCiAgICAgICAgd2luZG93Lm9wZW4oaHJlZiwgJ19ibGFuaycpOwogICAgICB9IGVsc2UgaWYgKGl0ZW0uc2lnbiA9PT0gJ+inhumikScpIHsKICAgICAgICB2YXIgX3RoaXMkJHJvdXRlciRyZXNvbHZlOCA9IHRoaXMuJHJvdXRlci5yZXNvbHZlKHsKICAgICAgICAgIHBhdGg6ICcvdmlkZW8vZGV0YWlscycsCiAgICAgICAgICBxdWVyeTogewogICAgICAgICAgICBpZDogaXRlbS5pZAogICAgICAgICAgfQogICAgICAgIH0pLAogICAgICAgICAgICBfaHJlZiA9IF90aGlzJCRyb3V0ZXIkcmVzb2x2ZTguaHJlZjsKCiAgICAgICAgd2luZG93Lm9wZW4oX2hyZWYsICdfYmxhbmsnKTsKICAgICAgfSBlbHNlIGlmIChpdGVtLnNpZ24gPT09ICfluJblrZAnKSB7CiAgICAgICAgdmFyIF90aGlzJCRyb3V0ZXIkcmVzb2x2ZTkgPSB0aGlzLiRyb3V0ZXIucmVzb2x2ZSh7CiAgICAgICAgICBwYXRoOiAnL2ZvcnVtL3Bvc3QvZGV0YWlscycsCiAgICAgICAgICBxdWVyeTogewogICAgICAgICAgICBpZDogaXRlbS5pZAogICAgICAgICAgfQogICAgICAgIH0pLAogICAgICAgICAgICBfaHJlZjIgPSBfdGhpcyQkcm91dGVyJHJlc29sdmU5LmhyZWY7CgogICAgICAgIHdpbmRvdy5vcGVuKF9ocmVmMiwgJ19ibGFuaycpOwogICAgICB9IGVsc2UgaWYgKGl0ZW0uc2lnbiA9PT0gJ+mHjeeCueWPt+i1hOiurycpIHsKICAgICAgICB2YXIgX3RoaXMkJHJvdXRlciRyZXNvbHZlMTAgPSB0aGlzLiRyb3V0ZXIucmVzb2x2ZSh7CiAgICAgICAgICBwYXRoOiAnL21lZGlhL2RldGFpbHMvaW5mb3InLAogICAgICAgICAgcXVlcnk6IHsKICAgICAgICAgICAgaWQ6IGl0ZW0ua2V5TklkCiAgICAgICAgICB9CiAgICAgICAgfSksCiAgICAgICAgICAgIF9ocmVmMyA9IF90aGlzJCRyb3V0ZXIkcmVzb2x2ZTEwLmhyZWY7CgogICAgICAgIHdpbmRvdy5vcGVuKF9ocmVmMywgJ19ibGFuaycpOwogICAgICB9IGVsc2UgaWYgKGl0ZW0uc2lnbiA9PT0gJ+mHjeeCueWPt+inhumikScpIHsKICAgICAgICB2YXIgX3RoaXMkJHJvdXRlciRyZXNvbHZlMTEgPSB0aGlzLiRyb3V0ZXIucmVzb2x2ZSh7CiAgICAgICAgICBwYXRoOiAnL21lZGlhL2RldGFpbHMvdmlkZW8nLAogICAgICAgICAgcXVlcnk6IHsKICAgICAgICAgICAgaWQ6IGl0ZW0ua2V5TklkCiAgICAgICAgICB9CiAgICAgICAgfSksCiAgICAgICAgICAgIF9ocmVmNCA9IF90aGlzJCRyb3V0ZXIkcmVzb2x2ZTExLmhyZWY7CgogICAgICAgIHdpbmRvdy5vcGVuKF9ocmVmNCwgJ19ibGFuaycpOwogICAgICB9CiAgICB9LAogICAgLy8g54m55Y2WCiAgICAvLyDnibnljZYtLS0t5YiX6KGoCiAgICBnZXRTcGVjaWFsc2FsZTogZnVuY3Rpb24gZ2V0U3BlY2lhbHNhbGUoKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7CiAgICAgICAgdmFyIF95aWVsZCRfdGhpczgkJGh0dHAkcCwgcmVzOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzOC4kaHR0cC5wb3N0KCIvc2FsZS9Ib21lU2FsZSIsIHsKICAgICAgICAgICAgICAgICAgY2l0eTogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnc2VsZWN0Q2l0eScpIHx8IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ0xvY2F0aW9uQ2l0eScpCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3lpZWxkJF90aGlzOCQkaHR0cCRwID0gX2NvbnRleHQ3LnNlbnQ7CiAgICAgICAgICAgICAgICByZXMgPSBfeWllbGQkX3RoaXM4JCRodHRwJHAuZGF0YTsKICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcykKICAgICAgICAgICAgICAgIF90aGlzOC5zcGVjaWFsTGlzdCA9IHJlczsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU3KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g54m55Y2WLS0tLei3s+i9rOivpuaDhemhtQogICAgc3BlY2lhbEltZzogZnVuY3Rpb24gc3BlY2lhbEltZyhicmFuZCkgewogICAgICB2YXIgX3RoaXMkJHJvdXRlciRyZXNvbHZlMTIgPSB0aGlzLiRyb3V0ZXIucmVzb2x2ZSh7CiAgICAgICAgcGF0aDogJy9zcGVjaWFsc2FsZS9zYWxlZGV0YWlscycsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIGlkOiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICAgIGJyYW5kOiBicmFuZAogICAgICAgICAgfSkKICAgICAgICB9CiAgICAgIH0pLAogICAgICAgICAgaHJlZiA9IF90aGlzJCRyb3V0ZXIkcmVzb2x2ZTEyLmhyZWY7CgogICAgICB3aW5kb3cub3BlbihocmVmLCAnX2JsYW5rJyk7CiAgICB9LAogICAgLy8g6K665Z2bCiAgICAvLyDorrrlnZstLS0t6L2u5pKt5Zu+CiAgICBnZXRGb3J1bVN3aXBlcmxpc3Q6IGZ1bmN0aW9uIGdldEZvcnVtU3dpcGVybGlzdCgpIHsKICAgICAgdmFyIF90aGlzOSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOCgpIHsKICAgICAgICB2YXIgX3lpZWxkJF90aGlzOSQkaHR0cCRwLCByZXM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM5LiRodHRwLnBvc3QoJy9JbnZpdC9ob21lSW52aXQxJyk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF95aWVsZCRfdGhpczkkJGh0dHAkcCA9IF9jb250ZXh0OC5zZW50OwogICAgICAgICAgICAgICAgcmVzID0gX3lpZWxkJF90aGlzOSQkaHR0cCRwLmRhdGE7CiAgICAgICAgICAgICAgICBfdGhpczkuZm9ydW1Td2lwZXJMaXN0ID0gcmVzOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTgpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDorrrlnZstLS0t5Zu+54mHCiAgICBnZXRGb3J1bVBpY2xpc3Q6IGZ1bmN0aW9uIGdldEZvcnVtUGljbGlzdCgpIHsKICAgICAgdmFyIF90aGlzMTAgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTkoKSB7CiAgICAgICAgdmFyIF95aWVsZCRfdGhpczEwJCRodHRwJCwgcmVzOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTkkKF9jb250ZXh0OSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDkucHJldiA9IF9jb250ZXh0OS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTAuJGh0dHAucG9zdCgnL0ludml0L2hvbWVJbnZpdDI3Jyk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF95aWVsZCRfdGhpczEwJCRodHRwJCA9IF9jb250ZXh0OS5zZW50OwogICAgICAgICAgICAgICAgcmVzID0gX3lpZWxkJF90aGlzMTAkJGh0dHAkLmRhdGE7CiAgICAgICAgICAgICAgICBfdGhpczEwLmZvcnVtUGljTGlzdCA9IHJlczsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU5KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g6K665Z2bLS0tLei3s+i9rAogICAgZm9ydW1UaXRsZTogZnVuY3Rpb24gZm9ydW1UaXRsZShpZCkgewogICAgICB2YXIgX3RoaXMkJHJvdXRlciRyZXNvbHZlMTMgPSB0aGlzLiRyb3V0ZXIucmVzb2x2ZSh7CiAgICAgICAgcGF0aDogJy9mb3J1bS9wb3N0L2RldGFpbHMnLAogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICBpZDogaWQKICAgICAgICB9CiAgICAgIH0pLAogICAgICAgICAgaHJlZiA9IF90aGlzJCRyb3V0ZXIkcmVzb2x2ZTEzLmhyZWY7CgogICAgICB3aW5kb3cub3BlbihocmVmLCAnX2JsYW5rJyk7CiAgICB9LAogICAgLy8g6KeG6aKRCiAgICAvLyDop4bpopHova7mkq3lm74KICAgIGdldFZpZGVvU3dpcGVyOiBmdW5jdGlvbiBnZXRWaWRlb1N3aXBlcigpIHsKICAgICAgdmFyIF90aGlzMTEgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEwKCkgewogICAgICAgIHZhciBfeWllbGQkX3RoaXMxMSQkaHR0cCQsIHJlczsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMCQoX2NvbnRleHQxMCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEwLnByZXYgPSBfY29udGV4dDEwLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTEuJGh0dHAucG9zdCgnL3ZpZGVvL2hvbWVWaWRlbycpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfeWllbGQkX3RoaXMxMSQkaHR0cCQgPSBfY29udGV4dDEwLnNlbnQ7CiAgICAgICAgICAgICAgICByZXMgPSBfeWllbGQkX3RoaXMxMSQkaHR0cCQuZGF0YTsKICAgICAgICAgICAgICAgIF90aGlzMTEudmlkZW9Td2lwZXJMaXN0ID0gcmVzOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOinhumikS0tLS3ot7PovawKICAgIHZpZGVvVGl0bGU6IGZ1bmN0aW9uIHZpZGVvVGl0bGUoaXRlbSkgewogICAgICBpZiAoaXRlbS5zaWduID09PSAn6KeG6aKRJykgewogICAgICAgIHZhciBfdGhpcyQkcm91dGVyJHJlc29sdmUxNCA9IHRoaXMuJHJvdXRlci5yZXNvbHZlKHsKICAgICAgICAgIHBhdGg6ICcvdmlkZW8vZGV0YWlscycsCiAgICAgICAgICBxdWVyeTogewogICAgICAgICAgICBpZDogaXRlbS5pZAogICAgICAgICAgfQogICAgICAgIH0pLAogICAgICAgICAgICBocmVmID0gX3RoaXMkJHJvdXRlciRyZXNvbHZlMTQuaHJlZjsKCiAgICAgICAgd2luZG93Lm9wZW4oaHJlZiwgJ19ibGFuaycpOwogICAgICB9IGVsc2UgaWYgKGl0ZW0uc2lnbiA9PT0gJ+mHjeeCueWPt+inhumikScpIHsKICAgICAgICB2YXIgX3RoaXMkJHJvdXRlciRyZXNvbHZlMTUgPSB0aGlzLiRyb3V0ZXIucmVzb2x2ZSh7CiAgICAgICAgICBwYXRoOiAnL21lZGlhL2RldGFpbHMvdmlkZW8nLAogICAgICAgICAgcXVlcnk6IHsKICAgICAgICAgICAgaWQ6IGl0ZW0ua2V5TklkCiAgICAgICAgICB9CiAgICAgICAgfSksCiAgICAgICAgICAgIF9ocmVmNSA9IF90aGlzJCRyb3V0ZXIkcmVzb2x2ZTE1LmhyZWY7CgogICAgICAgIHdpbmRvdy5vcGVuKF9ocmVmNSwgJ19ibGFuaycpOwogICAgICB9CiAgICB9LAogICAgLy8g6LWE6K6vCiAgICAvLyDotYTorq8tLS0t5qCH6aKYCiAgICBnZXRJbmZvcm1hdGlvblRpdGxlTGlzdDogZnVuY3Rpb24gZ2V0SW5mb3JtYXRpb25UaXRsZUxpc3QoKSB7CiAgICAgIHZhciBfdGhpczEyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMSgpIHsKICAgICAgICB2YXIgX3lpZWxkJF90aGlzMTIkJGh0dHAkLCByZXM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTEkKF9jb250ZXh0MTEpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMS5wcmV2ID0gX2NvbnRleHQxMS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczEyLiRodHRwLnBvc3QoJy9JbmZvci9ob21lSW5mb3JUaXRsZScpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfeWllbGQkX3RoaXMxMiQkaHR0cCQgPSBfY29udGV4dDExLnNlbnQ7CiAgICAgICAgICAgICAgICByZXMgPSBfeWllbGQkX3RoaXMxMiQkaHR0cCQuZGF0YTsKICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcykKICAgICAgICAgICAgICAgIF90aGlzMTIuaW5mb3JtYXRpb25UaXRsZWxpc3QgPSByZXM7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTExKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g6LWE6K6vLS0tLeWbvueJhwogICAgZ2V0SW5mb3JtYXRpb25QaG90b0xpc3Q6IGZ1bmN0aW9uIGdldEluZm9ybWF0aW9uUGhvdG9MaXN0KCkgewogICAgICB2YXIgX3RoaXMxMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTIoKSB7CiAgICAgICAgdmFyIF95aWVsZCRfdGhpczEzJCRodHRwJCwgcmVzOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEyJChfY29udGV4dDEyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTIucHJldiA9IF9jb250ZXh0MTIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxMy4kaHR0cC5wb3N0KCcvSW5mb3IvaG9tZUluZm9yJyk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF95aWVsZCRfdGhpczEzJCRodHRwJCA9IF9jb250ZXh0MTIuc2VudDsKICAgICAgICAgICAgICAgIHJlcyA9IF95aWVsZCRfdGhpczEzJCRodHRwJC5kYXRhOwogICAgICAgICAgICAgICAgX3RoaXMxMy5pbmZvcm1hdGlvblBob3RvbGlzdCA9IHJlczsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDotYTorq8tLS0t6Lez6L2sCiAgICBpbmZvcm1hdGlvbkRldGFpbHM6IGZ1bmN0aW9uIGluZm9ybWF0aW9uRGV0YWlscyhpdGVtKSB7CiAgICAgIGlmIChpdGVtLnNpZ24gPT09ICfotYTorq8nKSB7CiAgICAgICAgdmFyIF90aGlzJCRyb3V0ZXIkcmVzb2x2ZTE2ID0gdGhpcy4kcm91dGVyLnJlc29sdmUoewogICAgICAgICAgcGF0aDogJy9hdXRvbW90aXZlbG5mb3JtYXRpb24vZGV0YWlscycsCiAgICAgICAgICBxdWVyeTogewogICAgICAgICAgICBpZDogaXRlbS5pZAogICAgICAgICAgfQogICAgICAgIH0pLAogICAgICAgICAgICBocmVmID0gX3RoaXMkJHJvdXRlciRyZXNvbHZlMTYuaHJlZjsKCiAgICAgICAgd2luZG93Lm9wZW4oaHJlZiwgJ19ibGFuaycpOwogICAgICB9IGVsc2UgaWYgKGl0ZW0uc2lnbiA9PT0gJ+mHjeeCueWPt+i1hOiurycpIHsKICAgICAgICB2YXIgX3RoaXMkJHJvdXRlciRyZXNvbHZlMTcgPSB0aGlzLiRyb3V0ZXIucmVzb2x2ZSh7CiAgICAgICAgICBwYXRoOiAnL21lZGlhL2RldGFpbHMvaW5mb3InLAogICAgICAgICAgcXVlcnk6IHsKICAgICAgICAgICAgaWQ6IGl0ZW0ua2V5TklkCiAgICAgICAgICB9CiAgICAgICAgfSksCiAgICAgICAgICAgIF9ocmVmNiA9IF90aGlzJCRyb3V0ZXIkcmVzb2x2ZTE3LmhyZWY7CgogICAgICAgIHdpbmRvdy5vcGVuKF9ocmVmNiwgJ19ibGFuaycpOwogICAgICB9CiAgICB9LAogICAgLy8g5rG96L2m5Zu+54mHCiAgICBnZXRQaG90b0xpc3Q6IGZ1bmN0aW9uIGdldFBob3RvTGlzdCgpIHsKICAgICAgdmFyIF90aGlzMTQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEzKCkgewogICAgICAgIHZhciBfeWllbGQkX3RoaXMxNCQkaHR0cCQsIHJlczsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMyQoX2NvbnRleHQxMykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEzLnByZXYgPSBfY29udGV4dDEzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTQuJGh0dHAucG9zdCgnL1BpYy9nZXRIb3QnKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3lpZWxkJF90aGlzMTQkJGh0dHAkID0gX2NvbnRleHQxMy5zZW50OwogICAgICAgICAgICAgICAgcmVzID0gX3lpZWxkJF90aGlzMTQkJGh0dHAkLmRhdGE7CiAgICAgICAgICAgICAgICBfdGhpczE0LnBob3RvTGlzdCA9IHJlczsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMy5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDmsb3ovablm77niYfot7PovawKICAgIHBob3RvRGV0YWlsczogZnVuY3Rpb24gcGhvdG9EZXRhaWxzKGlkKSB7CiAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdwaG90bycsIGlkKTsKCiAgICAgIHZhciBfdGhpcyQkcm91dGVyJHJlc29sdmUxOCA9IHRoaXMuJHJvdXRlci5yZXNvbHZlKCcvcGljdHVyZS9yZWFsc2hvb3RpbmcnKSwKICAgICAgICAgIGhyZWYgPSBfdGhpcyQkcm91dGVyJHJlc29sdmUxOC5ocmVmOwoKICAgICAgd2luZG93Lm9wZW4oaHJlZiwgJ19ibGFuaycpOwogICAgfSwKICAgIC8vIOe7vOWQiOaOkuihjOamnAogICAgLy8g6LWE6K6v5o6S6KGM5qacCiAgICBnZXRBcnRpY2xlUmFua2luZ2xpc3Q6IGZ1bmN0aW9uIGdldEFydGljbGVSYW5raW5nbGlzdCgpIHsKICAgICAgdmFyIF90aGlzMTUgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE0KCkgewogICAgICAgIHZhciBfeWllbGQkX3RoaXMxNSQkaHR0cCQsIHJlczsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNCQoX2NvbnRleHQxNCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE0LnByZXYgPSBfY29udGV4dDE0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDE0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTUuJGh0dHAucG9zdCgnL0luZm9yL01vc3RJbmZvcnJhbmsnKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3lpZWxkJF90aGlzMTUkJGh0dHAkID0gX2NvbnRleHQxNC5zZW50OwogICAgICAgICAgICAgICAgcmVzID0gX3lpZWxkJF90aGlzMTUkJGh0dHAkLmRhdGE7CiAgICAgICAgICAgICAgICBfdGhpczE1LkFydGljbGVSYW5raW5nbGlzdCA9IHJlczsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBKdW1wQXJ0aWNsZTogZnVuY3Rpb24gSnVtcEFydGljbGUoaXRlbSkgewogICAgICBpZiAoaXRlbS5zaWduID09PSAn6LWE6K6vJykgewogICAgICAgIHZhciBfdGhpcyQkcm91dGVyJHJlc29sdmUxOSA9IHRoaXMuJHJvdXRlci5yZXNvbHZlKHsKICAgICAgICAgIHBhdGg6ICcvYXV0b21vdGl2ZWxuZm9ybWF0aW9uL2RldGFpbHMnLAogICAgICAgICAgcXVlcnk6IHsKICAgICAgICAgICAgaWQ6IGl0ZW0uaWQKICAgICAgICAgIH0KICAgICAgICB9KSwKICAgICAgICAgICAgaHJlZiA9IF90aGlzJCRyb3V0ZXIkcmVzb2x2ZTE5LmhyZWY7CgogICAgICAgIHdpbmRvdy5vcGVuKGhyZWYsICdfYmxhbmsnKTsKICAgICAgfSBlbHNlIGlmIChpdGVtLnNpZ24gPT09ICfph43ngrnlj7fotYTorq8nKSB7CiAgICAgICAgdmFyIF90aGlzJCRyb3V0ZXIkcmVzb2x2ZTIwID0gdGhpcy4kcm91dGVyLnJlc29sdmUoewogICAgICAgICAgcGF0aDogJy9tZWRpYS9kZXRhaWxzL2luZm9yJywKICAgICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICAgIGlkOiBpdGVtLmtleU5JZAogICAgICAgICAgfQogICAgICAgIH0pLAogICAgICAgICAgICBfaHJlZjcgPSBfdGhpcyQkcm91dGVyJHJlc29sdmUyMC5ocmVmOwoKICAgICAgICB3aW5kb3cub3BlbihfaHJlZjcsICdfYmxhbmsnKTsKICAgICAgfQogICAgfSwKICAgIC8vIOiuuuWdm+aOkuihjOamnAogICAgZ2V0UG9zdFJhbmtpbmdsaXN0OiBmdW5jdGlvbiBnZXRQb3N0UmFua2luZ2xpc3QoKSB7CiAgICAgIHZhciBfdGhpczE2ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNSgpIHsKICAgICAgICB2YXIgX3lpZWxkJF90aGlzMTYkJGh0dHAkLCByZXM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTUkKF9jb250ZXh0MTUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNS5wcmV2ID0gX2NvbnRleHQxNS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxNS5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczE2LiRodHRwLnBvc3QoJy9JbnZpdC9Nb3N0SW52aXRyYW5rJyk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF95aWVsZCRfdGhpczE2JCRodHRwJCA9IF9jb250ZXh0MTUuc2VudDsKICAgICAgICAgICAgICAgIHJlcyA9IF95aWVsZCRfdGhpczE2JCRodHRwJC5kYXRhOwogICAgICAgICAgICAgICAgX3RoaXMxNi5Qb3N0UmFua2luZ2xpc3QgPSByZXM7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE1KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgSnVtcFBvc3Q6IGZ1bmN0aW9uIEp1bXBQb3N0KGlkKSB7CiAgICAgIHZhciBfdGhpcyQkcm91dGVyJHJlc29sdmUyMSA9IHRoaXMuJHJvdXRlci5yZXNvbHZlKHsKICAgICAgICBwYXRoOiAnL2ZvcnVtL3Bvc3QvZGV0YWlscycsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIGlkOiBpZAogICAgICAgIH0KICAgICAgfSksCiAgICAgICAgICBocmVmID0gX3RoaXMkJHJvdXRlciRyZXNvbHZlMjEuaHJlZjsKCiAgICAgIHdpbmRvdy5vcGVuKGhyZWYsICdfYmxhbmsnKTsKICAgIH0sCiAgICAvLyDop4bpopHmjpLooYzmppwKICAgIGdldFZpZGVvUmFua2luZ2xpc3Q6IGZ1bmN0aW9uIGdldFZpZGVvUmFua2luZ2xpc3QoKSB7CiAgICAgIHZhciBfdGhpczE3ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNigpIHsKICAgICAgICB2YXIgX3lpZWxkJF90aGlzMTckJGh0dHAkLCByZXM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTYkKF9jb250ZXh0MTYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNi5wcmV2ID0gX2NvbnRleHQxNi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczE3LiRodHRwLnBvc3QoJy92aWRlby9yYW5rJyk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF95aWVsZCRfdGhpczE3JCRodHRwJCA9IF9jb250ZXh0MTYuc2VudDsKICAgICAgICAgICAgICAgIHJlcyA9IF95aWVsZCRfdGhpczE3JCRodHRwJC5kYXRhOwogICAgICAgICAgICAgICAgX3RoaXMxNy5WaWRlb1JhbmtpbmdsaXN0ID0gcmVzOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIEp1bXBWaWRlbzogZnVuY3Rpb24gSnVtcFZpZGVvKGl0ZW0pIHsKICAgICAgaWYgKGl0ZW0uc2lnbiA9PT0gJ+inhumikScpIHsKICAgICAgICB2YXIgX3RoaXMkJHJvdXRlciRyZXNvbHZlMjIgPSB0aGlzLiRyb3V0ZXIucmVzb2x2ZSh7CiAgICAgICAgICBwYXRoOiAnL3ZpZGVvL2RldGFpbHMnLAogICAgICAgICAgcXVlcnk6IHsKICAgICAgICAgICAgaWQ6IGl0ZW0uaWQKICAgICAgICAgIH0KICAgICAgICB9KSwKICAgICAgICAgICAgaHJlZiA9IF90aGlzJCRyb3V0ZXIkcmVzb2x2ZTIyLmhyZWY7CgogICAgICAgIHdpbmRvdy5vcGVuKGhyZWYsICdfYmxhbmsnKTsKICAgICAgfSBlbHNlIGlmIChpdGVtLnNpZ24gPT09ICfph43ngrnlj7fop4bpopEnKSB7CiAgICAgICAgdmFyIF90aGlzJCRyb3V0ZXIkcmVzb2x2ZTIzID0gdGhpcy4kcm91dGVyLnJlc29sdmUoewogICAgICAgICAgcGF0aDogJy9tZWRpYS9kZXRhaWxzL3ZpZGVvJywKICAgICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICAgIGlkOiBpdGVtLmtleU5JZAogICAgICAgICAgfQogICAgICAgIH0pLAogICAgICAgICAgICBfaHJlZjggPSBfdGhpcyQkcm91dGVyJHJlc29sdmUyMy5ocmVmOwoKICAgICAgICB3aW5kb3cub3BlbihfaHJlZjgsICdfYmxhbmsnKTsKICAgICAgfQogICAgfSwKICAgIC8vIOmHjeeCueWPt+aOkuihjOamnAogICAgZ2V0WmhvbmdkaWFuaGFvOiBmdW5jdGlvbiBnZXRaaG9uZ2RpYW5oYW8oKSB7CiAgICAgIHZhciBfdGhpczE4ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNygpIHsKICAgICAgICB2YXIgX3lpZWxkJF90aGlzMTgkJGh0dHAkLCByZXM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTckKF9jb250ZXh0MTcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNy5wcmV2ID0gX2NvbnRleHQxNy5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxNy5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczE4LiRodHRwLnBvc3QoJy9rZXkva2V5UmFuazInKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3lpZWxkJF90aGlzMTgkJGh0dHAkID0gX2NvbnRleHQxNy5zZW50OwogICAgICAgICAgICAgICAgcmVzID0gX3lpZWxkJF90aGlzMTgkJGh0dHAkLmRhdGE7CiAgICAgICAgICAgICAgICBfdGhpczE4Llpob25nZGlhbmhhb2xpc3QgPSByZXM7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTcuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE3KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgSnVtcFpob25nZGlhbmhhbzogZnVuY3Rpb24gSnVtcFpob25nZGlhbmhhbyhpdGVtKSB7CiAgICAgIHZhciBfdGhpcyQkcm91dGVyJHJlc29sdmUyNCA9IHRoaXMuJHJvdXRlci5yZXNvbHZlKHsKICAgICAgICBwYXRoOiAnL21lZGlhL3VzZXInLAogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICBpZDogaXRlbS5pZAogICAgICAgIH0KICAgICAgfSksCiAgICAgICAgICBocmVmID0gX3RoaXMkJHJvdXRlciRyZXNvbHZlMjQuaHJlZjsKCiAgICAgIHdpbmRvdy5vcGVuKGhyZWYsICdfYmxhbmsnKTsKICAgIH0sCiAgICAvLyDng63pl6hJVOS6p+WTgeWIh+aNogogICAgY2hhbmdlRm9vdGVyOiBmdW5jdGlvbiBjaGFuZ2VGb290ZXIoaW5kZXgpIHsKICAgICAgdGhpcy5mb290ZXJDdXJyZW50SW5kZXggPSBpbmRleDsKICAgIH0sCiAgICAvLyDnva7pobYKICAgIGJhY2s6IGZ1bmN0aW9uIGJhY2soKSB7CiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPSAwOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIC8vIOWbvuaghwogICAgdGhpcy5nZXRJY29uKCk7IC8vIOiOt+WPluaoquWQkVRhYuWMuuWfn+aVsOaNrgoKICAgIHRoaXMuZ2V0U2xpZGVyTGlzdCgpOyAvLyDku4rml6XnhKbngrkKCiAgICB0aGlzLmdldFN3aXBlcigpOyAvLyDorrrlnZsKCiAgICB0aGlzLmdldEZvcnVtU3dpcGVybGlzdCgpOwogICAgdGhpcy5nZXRGb3J1bVBpY2xpc3QoKTsgLy8g6KeG6aKR6L2u5pKt5Zu+CgogICAgdGhpcy5nZXRWaWRlb1N3aXBlcigpOyAvLyDotYTorq8KCiAgICB0aGlzLmdldEluZm9ybWF0aW9uUGhvdG9MaXN0KCk7CiAgICB0aGlzLmdldEluZm9ybWF0aW9uVGl0bGVMaXN0KCk7IC8vIOWbvueJhwoKICAgIHRoaXMuZ2V0UGhvdG9MaXN0KCk7IC8vIOe7vOWQiOaOkuihjOamnAoKICAgIHRoaXMuZ2V0QXJ0aWNsZVJhbmtpbmdsaXN0KCk7IC8vIOaWh+eroOaOkuihjOamnAoKICAgIHRoaXMuZ2V0UG9zdFJhbmtpbmdsaXN0KCk7IC8vIOW4luWtkOaOkuihjOamnAoKICAgIHRoaXMuZ2V0VmlkZW9SYW5raW5nbGlzdCgpOyAvLyDop4bpopHmjpLooYzmppwKCiAgICB0aGlzLmdldFpob25nZGlhbmhhbygpOyAvLyDph43ngrnlj7fmjpLooYzmppwKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLnJlYWR5KCk7CiAgICB0aGlzLmdldEFkdmVydGlzZW1lbnRBbGwoKTsKICB9Cn07"},null]}