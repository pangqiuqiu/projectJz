{"remainingRequest":"H:\\jz\\前端\\w\\zhong\\car\\node_modules\\babel-loader\\lib\\index.js!H:\\jz\\前端\\w\\zhong\\car\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!H:\\jz\\前端\\w\\zhong\\car\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!H:\\jz\\前端\\w\\zhong\\car\\src\\views\\user\\Edit.vue?vue&type=script&lang=js&","dependencies":[{"path":"H:\\jz\\前端\\w\\zhong\\car\\src\\views\\user\\Edit.vue","mtime":1587092761969},{"path":"H:\\jz\\前端\\w\\zhong\\car\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"H:\\jz\\前端\\w\\zhong\\car\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"H:\\jz\\前端\\w\\zhong\\car\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"H:\\jz\\前端\\w\\zhong\\car\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiSDovanovXHU1MjREXHU3QUVGL3cvemhvbmcvY2FyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFdhbmcgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9lZGl0b3IvV2FuZyc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBXYW5nOiBXYW5nCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8g5o+Q5Lqk5L+h5oGvCiAgICAgIGZvcm06IHsKICAgICAgICBpZDogJycsCiAgICAgICAgdGl0bGU6ICcnLAogICAgICAgIGNvbnRlbnQ6ICcnCiAgICAgIH0sCiAgICAgIHRpdGxlOiAnJywKICAgICAgLy8g57yW6L6R5YmN55qE5YaF5a65CiAgICAgIC8vIOW4luWtkOivpuaDhQogICAgICBwb3N0T2JqOiB7fQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOiOt+WPluW4luWtkOivpuaDhQogICAgZ2V0UG9zdDogZnVuY3Rpb24gZ2V0UG9zdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGlkLCBfeWllbGQkX3RoaXMkJGh0dHAkcG8sIHJlczsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWQgPSBfdGhpcy4kcm91dGUucXVlcnkuaWQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kaHR0cC5wb3N0KCcvSW52aXQvZ2V0SW52aXQnLCB7CiAgICAgICAgICAgICAgICAgIGlkOiBpZAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF95aWVsZCRfdGhpcyQkaHR0cCRwbyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICByZXMgPSBfeWllbGQkX3RoaXMkJGh0dHAkcG8uZGF0YTsKICAgICAgICAgICAgICAgIF90aGlzLmZvcm0udGl0bGUgPSByZXMudGl0bGU7CiAgICAgICAgICAgICAgICBfdGhpcy50aXRsZSA9IHJlcy50ZXh0OwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5o+Q5LqkCiAgICBzYXZlSHRtbDogZnVuY3Rpb24gc2F2ZUh0bWwoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kaHR0cC5wb3N0KCcvSW52aXQvdXBkYXRlSW52aXQnLCB7CiAgICAgICAgICAgICAgICAgIGlkOiBfdGhpczIuJHJvdXRlLnF1ZXJ5LmlkLAogICAgICAgICAgICAgICAgICB0aXRsZTogX3RoaXMyLmZvcm0udGl0bGUsCiAgICAgICAgICAgICAgICAgIHRleHQ6IF90aGlzMi5mb3JtLmNvbnRlbnQKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoIShyZXMuc3RhdHVzICE9PSAyMDAgfHwgcmVzLmRhdGEgIT09IHRydWUpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIF90aGlzMi4kbWVzc2FnZS5lcnJvcign5L+u5pS55aSx6LSlJykpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2Uuc3VjY2Vzcygn5L+u5pS55oiQ5YqfJyk7CgogICAgICAgICAgICAgICAgX3RoaXMyLiRyb3V0ZXIucHVzaCgnL3VzZXIvZm9ydW0nKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g57yW6L6R5ZCO55qE5YaF5a65CiAgICBnZXRNc2c6IGZ1bmN0aW9uIGdldE1zZyhkYXRhKSB7CiAgICAgIHRoaXMuZm9ybS5jb250ZW50ID0gZGF0YTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFBvc3QoKTsKICB9Cn07"},{"version":3,"sources":["Edit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAqBA,OAAA,IAAA,MAAA,8BAAA;AACA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,IAAA,EAAA;AADA,GADA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA;AACA,MAAA,IAAA,EAAA;AACA,QAAA,EAAA,EAAA,EADA;AAEA,QAAA,KAAA,EAAA,EAFA;AAGA,QAAA,OAAA,EAAA;AAHA,OAFA;AAOA,MAAA,KAAA,EAAA,EAPA;AAOA;AACA;AACA,MAAA,OAAA,EAAA;AATA,KAAA;AAWA,GAhBA;AAiBA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,OAFA,qBAEA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,EADA,GACA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,EADA;AAAA;AAAA,uBAEA,KAAA,CAAA,KAAA,CAAA,IAAA,CAAA,iBAAA,EAAA;AACA,kBAAA,EAAA,EAAA;AADA,iBAAA,CAFA;;AAAA;AAAA;AAEA,gBAAA,GAFA,yBAEA,IAFA;AAKA,gBAAA,KAAA,CAAA,IAAA,CAAA,KAAA,GAAA,GAAA,CAAA,KAAA;AACA,gBAAA,KAAA,CAAA,KAAA,GAAA,GAAA,CAAA,IAAA;;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA,KATA;AAUA;AACA,IAAA,QAXA,sBAWA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,oBAAA,EAAA;AACA,kBAAA,EAAA,EAAA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA,EADA;AAEA,kBAAA,KAAA,EAAA,MAAA,CAAA,IAAA,CAAA,KAFA;AAGA,kBAAA,IAAA,EAAA,MAAA,CAAA,IAAA,CAAA;AAHA,iBAAA,CADA;;AAAA;AACA,gBAAA,GADA;;AAAA,sBAMA,GAAA,CAAA,MAAA,KAAA,GAAA,IAAA,GAAA,CAAA,IAAA,KAAA,IANA;AAAA;AAAA;AAAA;;AAAA,kDAMA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,MAAA,CANA;;AAAA;AAOA,gBAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,MAAA;;AACA,gBAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,aAAA;;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA,KApBA;AAqBA;AACA,IAAA,MAtBA,kBAsBA,IAtBA,EAsBA;AACA,WAAA,IAAA,CAAA,OAAA,GAAA,IAAA;AACA;AAxBA,GAjBA;AA2CA,EAAA,OA3CA,qBA2CA;AACA,SAAA,OAAA;AACA;AA7CA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <!-- 帖子标题 -->\r\n    <el-row :gutter=\"20\">\r\n      <el-col :span=\"3\">\r\n        <h3>帖子标题</h3>\r\n      </el-col>\r\n      <el-col :span=\"21\">\r\n        <el-input v-model=\"form.title\"></el-input>\r\n      </el-col>\r\n    </el-row>\r\n    <!-- 富文本编辑器 -->\r\n    <Wang :title=\"title\" @func=\"getMsg\"></Wang>\r\n    <!-- 提交 -->\r\n    <div>\r\n      <el-button @click=\"saveHtml\" type=\"primary\">发布</el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Wang from '../../components/editor/Wang'\r\nexport default {\r\n  components: {\r\n    Wang\r\n  },\r\n  data () {\r\n    return {\r\n      // 提交信息\r\n      form: {\r\n        id: '',\r\n        title: '',\r\n        content: ''\r\n      },\r\n      title: '', // 编辑前的内容\r\n      // 帖子详情\r\n      postObj: {}\r\n    }\r\n  },\r\n  methods: {\r\n    // 获取帖子详情\r\n    async getPost () {\r\n      const id = this.$route.query.id\r\n      const { data: res } = await this.$http.post('/Invit/getInvit', {\r\n        id: id\r\n      })\r\n      this.form.title = res.title\r\n      this.title = res.text\r\n    },\r\n    // 提交\r\n    async saveHtml () {\r\n      const res = await this.$http.post('/Invit/updateInvit', {\r\n        id: this.$route.query.id,\r\n        title: this.form.title,\r\n        text: this.form.content\r\n      })\r\n      if (res.status !== 200 || res.data !== true) return this.$message.error('修改失败')\r\n      this.$message.success('修改成功')\r\n      this.$router.push('/user/forum')\r\n    },\r\n    // 编辑后的内容\r\n    getMsg (data) {\r\n      this.form.content = data\r\n    }\r\n  },\r\n  created () {\r\n    this.getPost()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.el-row {\r\n  display: flex;\r\n  align-items: center;\r\n  padding-top: 20px;\r\n  margin-bottom: 20px;\r\n}\r\n.el-button {\r\n  width: 100%;\r\n  margin-top: 20px;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/user"}]}