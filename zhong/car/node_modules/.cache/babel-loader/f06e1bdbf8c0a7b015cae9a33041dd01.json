{"remainingRequest":"D:\\myCompany\\zhongdianqiche\\car\\node_modules\\babel-loader\\lib\\index.js!D:\\myCompany\\zhongdianqiche\\car\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\myCompany\\zhongdianqiche\\car\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\myCompany\\zhongdianqiche\\car\\src\\components\\media\\rank\\InforVideo.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\myCompany\\zhongdianqiche\\car\\src\\components\\media\\rank\\InforVideo.vue","mtime":1589353615347},{"path":"D:\\myCompany\\zhongdianqiche\\car\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\myCompany\\zhongdianqiche\\car\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\myCompany\\zhongdianqiche\\car\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\myCompany\\zhongdianqiche\\car\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovbXlDb21wYW55L3pob25nZGlhbnFpY2hlL2Nhci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBDb29raWUgZnJvbSAnanMtY29va2llJzsKaW1wb3J0IHsgZm9sbG93IH0gZnJvbSAnLi4vLi4vLi4vYXNzZXRzL2pzL3JlcXVlc3QnOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IFsndGl0bGUnXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8g6K+m5oOFCiAgICAgIHRhYmxlRGF0YTogW10sCiAgICAgIGRlbW86IHRoaXMudGl0bGUKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgdGl0bGU6IGZ1bmN0aW9uIHRpdGxlKG5ld1ZhbCkgewogICAgICB0aGlzLmRlbW8gPSBuZXdWYWw7CiAgICAgIHRoaXMuZ2V0VGFibGUoKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOiOt+WPluaVsOaNrgogICAgZ2V0VGFibGU6IGZ1bmN0aW9uIGdldFRhYmxlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgX3lpZWxkJF90aGlzJCRodHRwJHBvLCByZXM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRodHRwLnBvc3QoJy9rZXkvaXZSYW5rJywgewogICAgICAgICAgICAgICAgICB0eXBlOiBfdGhpcy5kZW1vLAogICAgICAgICAgICAgICAgICB1c2VySWQ6IENvb2tpZS5nZXQoJ0lEJykgfHwgJycKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfeWllbGQkX3RoaXMkJGh0dHAkcG8gPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgcmVzID0gX3lpZWxkJF90aGlzJCRodHRwJHBvLmRhdGE7CiAgICAgICAgICAgICAgICBfdGhpcy50YWJsZURhdGEgPSByZXM7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDlhbPms6gKICAgIGNsaWNrRm9sbG93OiBmdW5jdGlvbiBjbGlja0ZvbGxvdyhpZCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKCFDb29raWUuZ2V0KCdJRCcpIHx8ICFDb29raWUuZ2V0KCd0b2tlbicpKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBfdGhpczIuJG1lc3NhZ2UuZXJyb3IoJ+ivt+WFiOeZu+W9leWTpicpKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGZvbGxvdyh7CiAgICAgICAgICAgICAgICAgIHVzZXJJZDogQ29va2llLmdldCgnSUQnKSwKICAgICAgICAgICAgICAgICAga2V5SWQ6IGlkCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCEocmVzLmRhdGEgIT09IHRydWUgfHwgcmVzLnN0YXR1cyAhPT0gMjAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBfdGhpczIuJG1lc3NhZ2UuZXJyb3IoJ+aTjeS9nOWksei0pScpKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX3RoaXMyLmdldFRhYmxlKCk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOeCueWHu+WQjeensOi3s+i9rOivpuaDhQogICAgY2xpY2tOYW1lOiBmdW5jdGlvbiBjbGlja05hbWUocm93KSB7CiAgICAgIGlmIChyb3cudHlwZSA9PT0gJ+mHjeeCueWPt+i1hOiurycpIHsKICAgICAgICB2YXIgX3RoaXMkJHJvdXRlciRyZXNvbHZlID0gdGhpcy4kcm91dGVyLnJlc29sdmUoewogICAgICAgICAgcGF0aDogJy9tZWRpYS9kZXRhaWxzL2luZm9yJywKICAgICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICAgIGlkOiByb3cuaWQKICAgICAgICAgIH0KICAgICAgICB9KSwKICAgICAgICAgICAgaHJlZiA9IF90aGlzJCRyb3V0ZXIkcmVzb2x2ZS5ocmVmOwoKICAgICAgICB3aW5kb3cub3BlbihocmVmLCAnX2JsYW5rJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIF90aGlzJCRyb3V0ZXIkcmVzb2x2ZTIgPSB0aGlzLiRyb3V0ZXIucmVzb2x2ZSh7CiAgICAgICAgICBwYXRoOiAnL21lZGlhL2RldGFpbHMvdmlkZW8nLAogICAgICAgICAgcXVlcnk6IHsKICAgICAgICAgICAgaWQ6IHJvdy5pZAogICAgICAgICAgfQogICAgICAgIH0pLAogICAgICAgICAgICBfaHJlZiA9IF90aGlzJCRyb3V0ZXIkcmVzb2x2ZTIuaHJlZjsKCiAgICAgICAgd2luZG93Lm9wZW4oX2hyZWYsICdfYmxhbmsnKTsKICAgICAgfQogICAgfSwKICAgIC8vIOS4quS6uuS4u+mhtemdogogICAgdXNlckltZzogZnVuY3Rpb24gdXNlckltZyhyb3cpIHsKICAgICAgdmFyIF90aGlzJCRyb3V0ZXIkcmVzb2x2ZTMgPSB0aGlzLiRyb3V0ZXIucmVzb2x2ZSh7CiAgICAgICAgcGF0aDogJy9tZWRpYS91c2VyJywKICAgICAgICBxdWVyeTogewogICAgICAgICAgaWQ6IHJvdy5rZXlJZAogICAgICAgIH0KICAgICAgfSksCiAgICAgICAgICBocmVmID0gX3RoaXMkJHJvdXRlciRyZXNvbHZlMy5ocmVmOwoKICAgICAgd2luZG93Lm9wZW4oaHJlZiwgJ19ibGFuaycpOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0VGFibGUoKTsKICB9Cn07"},{"version":3,"sources":["InforVideo.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <el-table\r\n    :data=\"tableData\"\r\n    :header-cell-style=\"{ 'text-align': 'center' }\"\r\n    :cell-style=\"{ 'text-align': 'center' }\"\r\n    stripe\r\n    style=\"width: 100%\">\r\n    <el-table-column label=\"排名\" width=\"150\">\r\n      <template slot-scope=\"scope\">\r\n        <span v-if=\"scope.$index === 0\"><img src=\"../../../assets/media/first.png\" alt=\"\"></span>\r\n        <span v-else-if=\"scope.$index === 1\"><img src=\"../../../assets/media/second.png\" alt=\"\"></span>\r\n        <span v-else-if=\"scope.$index === 2\"><img src=\"../../../assets/media/third.png\" alt=\"\"></span>\r\n        <span v-else>{{scope.$index + 1}}</span>\r\n      </template>\r\n    </el-table-column>\r\n    <el-table-column label=\"标题\">\r\n      <template slot-scope=\"scope\">\r\n        <span style=\"cursor: pointer;\" @click=\"clickName(scope.row)\">{{scope.row.title}}</span>\r\n      </template>\r\n    </el-table-column>\r\n    <el-table-column prop=\"clickNum\" label=\"点击数\">\r\n    </el-table-column>\r\n    <el-table-column label=\"头像\" width=\"150\">\r\n      <template slot-scope=\"scope\">\r\n        <img @click=\"userImg(scope.row)\" style=\"width: 60px; height: 60px; border-radius: 50%;cursor: pointer;\" :src=\"scope.row.key.headPic\" alt=\"\">\r\n      </template>\r\n    </el-table-column>\r\n    <el-table-column label=\"关注\" width=\"150\">\r\n      <template slot-scope=\"scope\">\r\n        <el-button type=\"primary\" size=\"mini\" v-show=\"scope.row.key.bgz === false\" @click=\"clickFollow(scope.row.keyId)\">+ 关注</el-button>\r\n        <el-button type=\"success\" style=\"margin: 0\" size=\"mini\" v-show=\"scope.row.key.bgz === true\" @click=\"clickFollow(scope.row.keyId)\">已关注</el-button>\r\n      </template>\r\n    </el-table-column>\r\n  </el-table>\r\n</template>\r\n\r\n<script>\r\nimport Cookie from 'js-cookie'\r\nimport { follow } from '../../../assets/js/request'\r\nexport default {\r\n  props: ['title'],\r\n  data () {\r\n    return {\r\n      // 详情\r\n      tableData: [],\r\n      demo: this.title\r\n    }\r\n  },\r\n  watch: {\r\n    title (newVal) {\r\n      this.demo = newVal\r\n      this.getTable()\r\n    }\r\n  },\r\n  methods: {\r\n    // 获取数据\r\n    async getTable () {\r\n      const { data: res } = await this.$http.post('/key/ivRank', {\r\n        type: this.demo,\r\n        userId: Cookie.get('ID') || ''\r\n      })\r\n      this.tableData = res\r\n    },\r\n    // 关注\r\n    async clickFollow (id) {\r\n      if (!Cookie.get('ID') || !Cookie.get('token')) return this.$message.error('请先登录哦')\r\n      const res = await follow({ userId: Cookie.get('ID'), keyId: id })\r\n      if (res.data !== true || res.status !== 200) return this.$message.error('操作失败')\r\n      this.getTable()\r\n    },\r\n    // 点击名称跳转详情\r\n    clickName (row) {\r\n      if (row.type === '重点号资讯') {\r\n        const { href } = this.$router.resolve({\r\n          path: '/media/details/infor',\r\n          query: { id: row.id }\r\n        })\r\n        window.open(href, '_blank')\r\n      } else {\r\n        const { href } = this.$router.resolve({\r\n          path: '/media/details/video',\r\n          query: { id: row.id }\r\n        })\r\n        window.open(href, '_blank')\r\n      }\r\n    },\r\n    // 个人主页面\r\n    userImg (row) {\r\n      const { href } = this.$router.resolve({\r\n        path: '/media/user',\r\n        query: { id: row.keyId }\r\n      })\r\n      window.open(href, '_blank')\r\n    }\r\n  },\r\n  created () {\r\n    this.getTable()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n</style>\r\n"],"sourceRoot":"src/components/media/rank"}]}